{"meta":{"version":1,"warehouse":"4.0.0"},"models":{"Asset":[{"_id":"themes/matery/source/favicon.png","path":"favicon.png","modified":0,"renderable":1},{"_id":"themes/matery/source/css/bb.css","path":"css/bb.css","modified":0,"renderable":1},{"_id":"themes/matery/source/css/gitment.css","path":"css/gitment.css","modified":0,"renderable":1},{"_id":"themes/matery/source/css/matery.css","path":"css/matery.css","modified":0,"renderable":1},{"_id":"themes/matery/source/css/my-gitalk.css","path":"css/my-gitalk.css","modified":0,"renderable":1},{"_id":"themes/matery/source/css/my.css","path":"css/my.css","modified":0,"renderable":1},{"_id":"themes/matery/source/js/search.js","path":"js/search.js","modified":0,"renderable":1},{"_id":"themes/matery/source/js/matery.js","path":"js/matery.js","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/avatar.jpeg","path":"medias/avatar.jpeg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/comment_bg.png","path":"medias/comment_bg.png","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/cover.jpg","path":"medias/cover.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/icp.png","path":"medias/icp.png","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/logo.png","path":"medias/logo.png","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/animate/animate.min.css","path":"libs/animate/animate.min.css","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/aplayer/APlayer.min.css","path":"libs/aplayer/APlayer.min.css","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/aplayer/APlayer.min.js","path":"libs/aplayer/APlayer.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/aos/aos.css","path":"libs/aos/aos.css","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/aos/aos.js","path":"libs/aos/aos.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/background/canvas-nest.js","path":"libs/background/canvas-nest.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/background/ribbon-dynamic.js","path":"libs/background/ribbon-dynamic.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/background/ribbon-refresh.min.js","path":"libs/background/ribbon-refresh.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/background/ribbon.min.js","path":"libs/background/ribbon.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/codeBlock/codeBlockFuction.js","path":"libs/codeBlock/codeBlockFuction.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/codeBlock/codeLang.js","path":"libs/codeBlock/codeLang.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/codeBlock/codeCopy.js","path":"libs/codeBlock/codeCopy.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/codeBlock/codeShrink.js","path":"libs/codeBlock/codeShrink.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/cryptojs/crypto-js.min.js","path":"libs/cryptojs/crypto-js.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/dplayer/DPlayer.min.css","path":"libs/dplayer/DPlayer.min.css","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/dplayer/DPlayer.min.js","path":"libs/dplayer/DPlayer.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/echarts/echarts.min.js","path":"libs/echarts/echarts.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/gitalk/gitalk.css","path":"libs/gitalk/gitalk.css","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/gitalk/gitalk.min.js","path":"libs/gitalk/gitalk.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/gitment/gitment-default.css","path":"libs/gitment/gitment-default.css","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/gitment/gitment.js","path":"libs/gitment/gitment.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/instantpage/instantpage.js","path":"libs/instantpage/instantpage.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/jqcloud/jqcloud-1.0.4.min.js","path":"libs/jqcloud/jqcloud-1.0.4.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/jqcloud/jqcloud.css","path":"libs/jqcloud/jqcloud.css","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/jquery/jquery.min.js","path":"libs/jquery/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/masonry/masonry.pkgd.min.js","path":"libs/masonry/masonry.pkgd.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/materialize/materialize.min.css","path":"libs/materialize/materialize.min.css","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/materialize/materialize.min.js","path":"libs/materialize/materialize.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/minivaline/MiniValine.js","path":"libs/minivaline/MiniValine.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/others/clicklove.js","path":"libs/others/clicklove.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/prism/prism.css","path":"libs/prism/prism.css","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/scrollprogress/scrollProgress.min.js","path":"libs/scrollprogress/scrollProgress.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/others/busuanzi.pure.mini.js","path":"libs/others/busuanzi.pure.mini.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/tocbot/tocbot.css","path":"libs/tocbot/tocbot.css","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/tocbot/tocbot.min.js","path":"libs/tocbot/tocbot.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/twikoo/twikoo.all.min.js.LICENSE.txt","path":"libs/twikoo/twikoo.all.min.js.LICENSE.txt","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/twikoo/twikoo.all.min.js","path":"libs/twikoo/twikoo.all.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/valine/Valine.min.js","path":"libs/valine/Valine.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/valine/av-min.js","path":"libs/valine/av-min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/banner/0.jpg","path":"medias/banner/0.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/banner/1.jpg","path":"medias/banner/1.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/banner/2.jpg","path":"medias/banner/2.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/banner/3.jpg","path":"medias/banner/3.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/banner/4.jpg","path":"medias/banner/4.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/banner/5.jpg","path":"medias/banner/5.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/banner/6.jpg","path":"medias/banner/6.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/0.jpg","path":"medias/featureimages/0.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/1.jpg","path":"medias/featureimages/1.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/10.jpg","path":"medias/featureimages/10.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/11.jpg","path":"medias/featureimages/11.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/12.jpg","path":"medias/featureimages/12.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/13.jpg","path":"medias/featureimages/13.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/14.jpg","path":"medias/featureimages/14.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/15.jpg","path":"medias/featureimages/15.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/16.jpg","path":"medias/featureimages/16.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/18.jpg","path":"medias/featureimages/18.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/17.jpg","path":"medias/featureimages/17.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/19.jpg","path":"medias/featureimages/19.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/2.jpg","path":"medias/featureimages/2.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/20.jpg","path":"medias/featureimages/20.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/21.jpg","path":"medias/featureimages/21.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/22.jpg","path":"medias/featureimages/22.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/23.jpg","path":"medias/featureimages/23.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/3.jpg","path":"medias/featureimages/3.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/4.jpg","path":"medias/featureimages/4.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/5.jpg","path":"medias/featureimages/5.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/6.jpg","path":"medias/featureimages/6.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/7.jpg","path":"medias/featureimages/7.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/8.jpg","path":"medias/featureimages/8.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/featureimages/9.jpg","path":"medias/featureimages/9.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/reward/alipay.jpg","path":"medias/reward/alipay.jpg","modified":0,"renderable":1},{"_id":"themes/matery/source/medias/reward/wechat.png","path":"medias/reward/wechat.png","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/css/all.css","path":"libs/awesome/css/all.css","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.eot","path":"libs/awesome/webfonts/fa-brands-400.eot","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.ttf","path":"libs/awesome/webfonts/fa-brands-400.ttf","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.svg","path":"libs/awesome/webfonts/fa-brands-400.svg","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.woff","path":"libs/awesome/webfonts/fa-brands-400.woff","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.woff2","path":"libs/awesome/webfonts/fa-brands-400.woff2","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.eot","path":"libs/awesome/webfonts/fa-regular-400.eot","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.svg","path":"libs/awesome/webfonts/fa-regular-400.svg","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.ttf","path":"libs/awesome/webfonts/fa-regular-400.ttf","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.woff","path":"libs/awesome/webfonts/fa-regular-400.woff","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.woff2","path":"libs/awesome/webfonts/fa-regular-400.woff2","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.eot","path":"libs/awesome/webfonts/fa-solid-900.eot","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.svg","path":"libs/awesome/webfonts/fa-solid-900.svg","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.ttf","path":"libs/awesome/webfonts/fa-solid-900.ttf","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.woff","path":"libs/awesome/webfonts/fa-solid-900.woff","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.woff2","path":"libs/awesome/webfonts/fa-solid-900.woff2","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.eot","path":"libs/lightGallery/fonts/lg.eot","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.svg","path":"libs/lightGallery/fonts/lg.svg","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.ttf","path":"libs/lightGallery/fonts/lg.ttf","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.woff","path":"libs/lightGallery/fonts/lg.woff","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/img/video-play.png","path":"libs/lightGallery/img/video-play.png","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/img/vimeo-play.png","path":"libs/lightGallery/img/vimeo-play.png","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/img/loading.gif","path":"libs/lightGallery/img/loading.gif","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/img/youtube-play.png","path":"libs/lightGallery/img/youtube-play.png","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/js/lightgallery-all.min.js","path":"libs/lightGallery/js/lightgallery-all.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/lightGallery/css/lightgallery.min.css","path":"libs/lightGallery/css/lightgallery.min.css","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/share/css/share.min.css","path":"libs/share/css/share.min.css","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/share/fonts/iconfont.eot","path":"libs/share/fonts/iconfont.eot","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/share/fonts/iconfont.svg","path":"libs/share/fonts/iconfont.svg","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/share/fonts/iconfont.ttf","path":"libs/share/fonts/iconfont.ttf","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/share/fonts/iconfont.woff","path":"libs/share/fonts/iconfont.woff","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/share/js/social-share.min.js","path":"libs/share/js/social-share.min.js","modified":0,"renderable":1},{"_id":"themes/matery/source/libs/share/js/jquery.share.min.js","path":"libs/share/js/jquery.share.min.js","modified":0,"renderable":1}],"Cache":[{"_id":"source/_posts/hello-world.md","hash":"d79627d7669343caf6f87536ee6a34d2caac6985","modified":1615106771974},{"_id":"source/404/index.md","hash":"19328e87fab73eec4342e76d456d721daaf84d51","modified":1615025000860},{"_id":"source/_data/friends.json","hash":"93061f196a60daf05aeb287a0fda7d399c5ccb67","modified":1615025456147},{"_id":"source/about/index.md","hash":"5d88969cd4cf63f2c3845633c5fd60367db0a7ee","modified":1615120580535},{"_id":"source/_posts/test.md","hash":"3f560fdebe359c62f78543888f8e539ec7c96e99","modified":1615107036464},{"_id":"source/archives/index.md","hash":"f36b9422241bdab4097cf343e47ed639cb704870","modified":1615108124769},{"_id":"source/categories/index.md","hash":"b0626f6c32790d70bb1909bb945d2eb418d467c3","modified":1615107431155},{"_id":"source/tags/index.md","hash":"6c223043ba32b7c76c33eafceeff9ed879520bfb","modified":1615109055255},{"_id":"source/friends/index.md","hash":"6e1710744cd6ee34cd876af8b9a51b32e8677df8","modified":1615107472423},{"_id":"themes/matery/.gitignore","hash":"727607929a51db7ea10968f547c26041eee9cfff","modified":1615024759583},{"_id":"themes/matery/.DS_Store","hash":"02beeff4559b1d58ba5f2a3e24611ee4361290b9","modified":1615026678652},{"_id":"themes/matery/CHANGELOG.md","hash":"084ec8b110a20170d08a0aa5fd8accf601051835","modified":1615024759583},{"_id":"themes/matery/LICENSE","hash":"7df059597099bb7dcf25d2a9aedfaf4465f72d8d","modified":1615024759583},{"_id":"themes/matery/_config.yml","hash":"1198ebae9c313ee10111c785bcdf7d24c02aac13","modified":1615120616623},{"_id":"themes/matery/languages/default.yml","hash":"54ccc01b097c5bf6820f0edfcece1a87b78ab32d","modified":1615024759584},{"_id":"themes/matery/languages/zh-CN.yml","hash":"a957b05f70265a86a87d922e18488571809d2472","modified":1615024759585},{"_id":"themes/matery/languages/zh-HK.yml","hash":"ae34ac0e175c3037675722e436637efbceea32f0","modified":1615024759585},{"_id":"themes/matery/layout/404.ejs","hash":"9c8ca67377211e5d60fdde272a975faa9a91a22a","modified":1615024759585},{"_id":"themes/matery/layout/about.ejs","hash":"99a74316aed478efb0db823c4460ee2e660f101c","modified":1615024759595},{"_id":"themes/matery/README.md","hash":"0366f3d50b18d095b0581e7b5974e3283d693884","modified":1615024759584},{"_id":"themes/matery/layout/archive.ejs","hash":"cdac701de8370f9f3794a0eed4165983993a1ca7","modified":1615024759595},{"_id":"themes/matery/layout/bb.ejs","hash":"21959d702f17a3d98b716daf44c8b5eecd59c7c5","modified":1615024759596},{"_id":"themes/matery/layout/categories.ejs","hash":"8e54665cc25d7c333da7d9f312987190be6215da","modified":1615024759596},{"_id":"themes/matery/layout/category.ejs","hash":"00019bca11fb46477f22017cb1f5ad8444da0580","modified":1615024759596},{"_id":"themes/matery/layout/contact.ejs","hash":"cff60f87f69155707f3a33731c7fac945cf7cd93","modified":1615024759596},{"_id":"themes/matery/layout/friends.ejs","hash":"51e5369ec6b017cc702a8d957fc052c59dd4c3d7","modified":1615024759596},{"_id":"themes/matery/layout/index.ejs","hash":"4dc6f08e7709cc04e886be72dbf0d06469f0effc","modified":1615024759597},{"_id":"themes/matery/layout/layout.ejs","hash":"4bfb9e946a90724fc8a902efe404c7b20549a38c","modified":1615024759597},{"_id":"themes/matery/layout/post.ejs","hash":"90b5a4c1f70e4756db569c15a7c6cad0c77c4500","modified":1615024759597},{"_id":"themes/matery/layout/tag.ejs","hash":"85a4b05bd8a6ad0f17ff2e97dae56949b379c204","modified":1615024759598},{"_id":"themes/matery/layout/tags.ejs","hash":"cf9517aa6a0111355121f44615d6923e312283c7","modified":1615024759598},{"_id":"themes/matery/layout/_partial/back-top.ejs","hash":"47ee36a042bb6d52bbe1d0f329637e8ffcf1d0aa","modified":1615024759585},{"_id":"themes/matery/source/favicon.png","hash":"774fee8c6d0be9dbb010b20f36c06848d06e3da0","modified":1615024759600},{"_id":"themes/matery/layout/_partial/background.ejs","hash":"aef6edeeb11209831a11d8c7f5d59992e2573335","modified":1615024759585},{"_id":"themes/matery/layout/_partial/baidu-analytics.ejs","hash":"3bbcdb474ca1dcad514bdc4b7763e17c55df04fd","modified":1615024759585},{"_id":"themes/matery/layout/_partial/baidu-push.ejs","hash":"2cebcc5ea3614d7f76ec36670e68050cbe611202","modified":1615024759586},{"_id":"themes/matery/layout/_partial/bg-cover-content.ejs","hash":"c35e4254ff0738878f65251a657b4fdcafc4b270","modified":1615024759586},{"_id":"themes/matery/layout/_partial/bg-cover.ejs","hash":"02191109712f61c0e487b8f0b8466597181a9004","modified":1615024759586},{"_id":"themes/matery/layout/_partial/changyan.ejs","hash":"cd919d31564e118c2ee8d5cbfb7d51ee6da15d82","modified":1615024759586},{"_id":"themes/matery/layout/_partial/disqus.ejs","hash":"b2dc2c8b5ed56815e55cc2ea54a6dc4eeba2375d","modified":1615024759586},{"_id":"themes/matery/layout/_partial/footer.ejs","hash":"3be24e4c370671eda53bdfd99fb748f4a22948ba","modified":1615024759586},{"_id":"themes/matery/README_CN.md","hash":"a1e060bb4cf2ccca5cad12d02cc3c37f8028fdfb","modified":1615024759584},{"_id":"themes/matery/layout/_partial/gitalk.ejs","hash":"2aa8fbb04b046fa7679092a48372d7e036835dff","modified":1615024759587},{"_id":"themes/matery/layout/_partial/github-link.ejs","hash":"3aeb581bd78ab8e15b858e4c44c03bcf92f20b9e","modified":1615024759587},{"_id":"themes/matery/layout/_partial/gitment.ejs","hash":"90f6218512ef2eab63ada7ad2fc766ae635a2297","modified":1615024759587},{"_id":"themes/matery/layout/_partial/google-analytics.ejs","hash":"5f4992205617da5f8cc5863c62b5ec46e414e2fb","modified":1615024759587},{"_id":"themes/matery/layout/_partial/head.ejs","hash":"f8438ac80df005934a330b029de292d26f0b6ecb","modified":1615024759587},{"_id":"themes/matery/source/.DS_Store","hash":"728704de0145e5101fd252a647d99ca8b270cc02","modified":1615026678651},{"_id":"themes/matery/layout/_partial/header.ejs","hash":"59e38c70f3d8e7165e686e5e84a627835f4321b0","modified":1615024759588},{"_id":"themes/matery/layout/_partial/index-cover.ejs","hash":"85f0ef1c390694a1661e77f44a3ed76555099385","modified":1615024759588},{"_id":"themes/matery/layout/_partial/livere.ejs","hash":"9c3401b42ea7f26410a5593bae93ada7e57b43be","modified":1615024759588},{"_id":"themes/matery/layout/_partial/minivaline.ejs","hash":"738b83cd90fe1b26971d803fc89c56193323da1e","modified":1615024759588},{"_id":"themes/matery/layout/_partial/mobile-nav.ejs","hash":"cb0cb452be1cd1857ba600f04025b506f3b6fc79","modified":1615024759589},{"_id":"themes/matery/layout/_partial/navigation.ejs","hash":"78b70ff24b3039c871331ebec114b936c1756cc8","modified":1615024759589},{"_id":"themes/matery/layout/_partial/paging.ejs","hash":"e2df12cf92a82b1a7a7add2eac1db1d954bc5511","modified":1615024759589},{"_id":"themes/matery/layout/_partial/post-cover.ejs","hash":"d1c873c5de54498c722e155aadb8c0ec39485dfa","modified":1615024759589},{"_id":"themes/matery/layout/_partial/post-detail-toc.ejs","hash":"3ff94aff01936242a9f4e1f31adb9b43bfab8d53","modified":1615024759590},{"_id":"themes/matery/layout/_partial/post-detail.ejs","hash":"7933979c2092654a9c1038ff30495505d7d88f2d","modified":1615024759590},{"_id":"themes/matery/layout/_partial/post-statis.ejs","hash":"04889f9031743c6b081d02fa4027b0dbfcc45ecf","modified":1615024759590},{"_id":"themes/matery/layout/_partial/prev-next.ejs","hash":"c76b78782ea82340104fccc089417572e0adece4","modified":1615024759590},{"_id":"themes/matery/layout/_partial/reprint-statement.ejs","hash":"0ce3f9361f558b99cc2f059c5e50b0e2a152ae38","modified":1615024759591},{"_id":"themes/matery/layout/_partial/reward.ejs","hash":"ffc55bc7e73bc698bfc58d8e3780c336b83282cf","modified":1615024759591},{"_id":"themes/matery/layout/_partial/share.ejs","hash":"c941730a2471d6aab367cbb6e09ed08b56c83143","modified":1615024759591},{"_id":"themes/matery/layout/_partial/search.ejs","hash":"150529c9fb9aa8ddb42ec3e02645d301faa2503b","modified":1615024759591},{"_id":"themes/matery/layout/_partial/social-link.ejs","hash":"6f871bd3a70f720e4e451f1f4f625cbc6d8994a4","modified":1615024759592},{"_id":"themes/matery/layout/_partial/twikoo.ejs","hash":"f9cb8c82b9d2a7cdb644e10718f1cdeb9400414c","modified":1615024759592},{"_id":"themes/matery/layout/_partial/valine.ejs","hash":"045f3aaade1dc6749a1f824b0405b5fdb9e041e4","modified":1615024759592},{"_id":"themes/matery/layout/_widget/artitalk.ejs","hash":"b14e486f12b9ac42a273b80e4d785fcb94cf04b2","modified":1615024759592},{"_id":"themes/matery/layout/_widget/category-cloud.ejs","hash":"1b3df1009234c0112424b497b18b4ad8240b3bc7","modified":1615024759592},{"_id":"themes/matery/layout/_widget/category-radar.ejs","hash":"1d8747fda89a0b2ca3c7008867cbfeecad0578a6","modified":1615024759593},{"_id":"themes/matery/layout/_widget/dream.ejs","hash":"9a472ad5591100cdb65d0df9d01034163bd6dd9d","modified":1615024759593},{"_id":"themes/matery/layout/_widget/music.ejs","hash":"e9e3e327d5de9d7aeadbde32e1d558652d9e9195","modified":1615024759593},{"_id":"themes/matery/layout/_widget/my-gallery.ejs","hash":"65a2d2f9722f84c7fd98f6bdf79087a14848ebd8","modified":1615024759593},{"_id":"themes/matery/layout/_widget/my-projects.ejs","hash":"ef60b64021fa349b0048425d858dfcf6c906fede","modified":1615024759593},{"_id":"themes/matery/layout/_widget/my-skills.ejs","hash":"89a0092df72d23093128f2fbbdc8ca7f83ebcfd9","modified":1615024759594},{"_id":"themes/matery/layout/_widget/post-calendar.ejs","hash":"48821e644bc73553d7c5c56d2e8ee111a70cd776","modified":1615024759594},{"_id":"themes/matery/layout/_widget/post-charts.ejs","hash":"ab5f986f428215941aeaa0c88aefd440c47d3bcf","modified":1615024759594},{"_id":"themes/matery/layout/_widget/recommend.ejs","hash":"8551137e94ca4e2e3b8b63d5626255884cb60cb5","modified":1615024759594},{"_id":"themes/matery/layout/_widget/tag-cloud.ejs","hash":"fc42b72cddc231f7485cdc1fd6852b66be6add26","modified":1615024759594},{"_id":"themes/matery/layout/_widget/tag-wordcloud.ejs","hash":"487aacb2454d6bf0d21cdb07ddd1fd5ddbca9038","modified":1615024759595},{"_id":"themes/matery/layout/_widget/video.ejs","hash":"a0e002377af2a7f7e4da6d9a644de97adb035925","modified":1615024759595},{"_id":"themes/matery/source/css/matery.css","hash":"c4f59752be28c542f6a95bc5d12d1e89bd249dc4","modified":1615110535820},{"_id":"themes/matery/source/css/bb.css","hash":"aa15633888c7cf9baea8bb48d796c68b57cf14bf","modified":1615024759598},{"_id":"themes/matery/source/css/gitment.css","hash":"2bd15cc17dca35ac3ecc0acf167a23a1dd362acd","modified":1615024759599},{"_id":"themes/matery/source/css/my-gitalk.css","hash":"af18dd29e58642c18bab9b89541767b494c468dd","modified":1615024759599},{"_id":"themes/matery/source/css/my.css","hash":"497e50351f7838f8546cac76850a42e7e380a110","modified":1615024759600},{"_id":"themes/matery/source/js/matery.js","hash":"b86de5fe3e9766b7ff80df12ea41c3a9e30825f7","modified":1615024759600},{"_id":"themes/matery/source/medias/avatar.jpeg","hash":"d5c7bbc1e67cbfbb81f736db003c57a8a00d792b","modified":1615026055898},{"_id":"themes/matery/source/js/search.js","hash":"e1482406c58ea2a0eb178d7e4efb2c879cdddc80","modified":1615024759601},{"_id":"themes/matery/source/medias/logo.png","hash":"d9095f5ea8719374d9d1ff020279426f5b2a1396","modified":1615024759673},{"_id":"themes/matery/source/medias/comment_bg.png","hash":"dfc93d24081884fbc58cab0f8fd19e77d31d6123","modified":1615024759658},{"_id":"themes/matery/source/libs/animate/animate.min.css","hash":"97afa151569f046b2e01f27c1871646e9cd87caf","modified":1615024759601},{"_id":"themes/matery/source/libs/aplayer/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1615024759602},{"_id":"themes/matery/source/libs/aos/aos.css","hash":"191a3705a8f63e589a50a0ff2f2c5559f1a1b6b2","modified":1615024759602},{"_id":"themes/matery/source/medias/icp.png","hash":"27a96f31f7d0413c6ade6f40e06f021f501151c7","modified":1615024759673},{"_id":"themes/matery/source/libs/aplayer/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1615024759603},{"_id":"themes/matery/source/libs/aos/aos.js","hash":"02bfb40b0c4b6e9b0b4081218357145cbb327d74","modified":1615024759602},{"_id":"themes/matery/source/libs/background/ribbon-dynamic.js","hash":"052b80c29e6bc585aa28d4504b743bdbac220a88","modified":1615024759625},{"_id":"themes/matery/source/libs/background/canvas-nest.js","hash":"65333d0dbb9c1173a1b13031b230161fc42c8b2f","modified":1615024759625},{"_id":"themes/matery/source/libs/background/ribbon-refresh.min.js","hash":"6d98692b2cad8c746a562db18b170b35c24402f4","modified":1615024759625},{"_id":"themes/matery/source/libs/background/ribbon.min.js","hash":"6a99d494c030388f96f6086a7aaa0f03f3fe532e","modified":1615024759625},{"_id":"themes/matery/source/libs/codeBlock/codeBlockFuction.js","hash":"c7ab06d27a525b15b1eb69027135269e9b9132fb","modified":1615024759626},{"_id":"themes/matery/source/libs/codeBlock/codeLang.js","hash":"bac88b4d4e3679732d29bd037c34f089cf27cf05","modified":1615024759626},{"_id":"themes/matery/source/libs/codeBlock/codeCopy.js","hash":"6d39a766af62e625f177c4d5cf3adc35eed71e61","modified":1615024759626},{"_id":"themes/matery/source/libs/codeBlock/codeShrink.js","hash":"201e8cd761b4be557247bdaf1ebc7c11c83194f6","modified":1615024759626},{"_id":"themes/matery/source/libs/cryptojs/crypto-js.min.js","hash":"5989527a378b55011a59522f41eeb3981518325c","modified":1615024759626},{"_id":"themes/matery/source/libs/dplayer/DPlayer.min.css","hash":"f7d19655f873b813ffba5d1a17145c91f82631b8","modified":1615024759627},{"_id":"themes/matery/source/libs/gitalk/gitalk.css","hash":"940ded3ea12c2fe1ab0820d2831ec405f3f1fe9f","modified":1615024759631},{"_id":"themes/matery/source/libs/instantpage/instantpage.js","hash":"83ce8919b1a69b2f1809ffaf99b52a8627e650e9","modified":1615024759634},{"_id":"themes/matery/source/libs/jqcloud/jqcloud-1.0.4.min.js","hash":"257eaae3020599e4939f50d5008a743827f25b8c","modified":1615024759634},{"_id":"themes/matery/source/libs/jqcloud/jqcloud.css","hash":"20d9f11a19d95c70e27cb922e0d6dccbec4eae89","modified":1615024759635},{"_id":"themes/matery/source/libs/masonry/masonry.pkgd.min.js","hash":"ff940b4ea68368ca0e4d5560cbb79fb147dfc3c5","modified":1615024759639},{"_id":"themes/matery/source/libs/gitment/gitment-default.css","hash":"2903c59ee06b965bef32e937bd69f5b0b2190717","modified":1615024759633},{"_id":"themes/matery/source/libs/others/clicklove.js","hash":"6a39b8c683ba5dcd92f70c6ab45d1cfac3213e8e","modified":1615024759642},{"_id":"themes/matery/source/libs/scrollprogress/scrollProgress.min.js","hash":"777ffe5d07e85a14fbe97d846f45ffc0087251cc","modified":1615024759643},{"_id":"themes/matery/source/libs/others/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1615024759642},{"_id":"themes/matery/source/libs/minivaline/MiniValine.js","hash":"f7f6cdc1b22297e02334e304444e9a8351acb455","modified":1615024759642},{"_id":"themes/matery/source/libs/prism/prism.css","hash":"62e5474893dece076534352f564ceabd6e088a5a","modified":1615024759643},{"_id":"themes/matery/source/libs/tocbot/tocbot.css","hash":"9ab8ef576c9a57115194152e79cca79b0a41dd70","modified":1615024759645},{"_id":"themes/matery/source/libs/twikoo/twikoo.all.min.js.LICENSE.txt","hash":"1e286a31ef472fb864fe2b9502e87df9242df56b","modified":1615024759649},{"_id":"themes/matery/source/libs/tocbot/tocbot.min.js","hash":"5ec27317f0270b8cf6b884c6f12025700b9a565c","modified":1615024759646},{"_id":"themes/matery/source/medias/featureimages/10.jpg","hash":"98e7f6fd9c97d4de9044b6871ca08ebf14db11b9","modified":1615024759661},{"_id":"themes/matery/source/medias/featureimages/13.jpg","hash":"35a320174f8e316e3eadaec658024276b651c6e9","modified":1615024759663},{"_id":"themes/matery/source/medias/featureimages/15.jpg","hash":"da0fbee3b7bde1607eace377ddf834c0be99edfe","modified":1615024759665},{"_id":"themes/matery/source/medias/featureimages/16.jpg","hash":"97a829c4bc94f9d2929b20a1a9b798c57b9f7205","modified":1615024759665},{"_id":"themes/matery/source/medias/featureimages/2.jpg","hash":"4bba691cf71a517ecaeaf42afd3e8f8b31e346c1","modified":1615024759667},{"_id":"themes/matery/source/medias/featureimages/22.jpg","hash":"754579747a3e99747d890fca3162f370b96a7941","modified":1615024759669},{"_id":"themes/matery/source/medias/featureimages/21.jpg","hash":"b26edb128bb0bf58b23fd2f014e9555e89a2ca3b","modified":1615024759668},{"_id":"themes/matery/source/medias/featureimages/23.jpg","hash":"7d7f37da3fa7128343adac23866449eb2c6a549a","modified":1615024759669},{"_id":"themes/matery/source/medias/featureimages/5.jpg","hash":"41ca20129a37fedc573eec28dd7d7b9e5b09228a","modified":1615024759671},{"_id":"themes/matery/source/medias/featureimages/3.jpg","hash":"6ec646c2a70f5f11edacf225c1477f2200a37a96","modified":1615024759670},{"_id":"themes/matery/source/medias/featureimages/8.jpg","hash":"8e4b7186352085483ca1174c7c0800114c48df8b","modified":1615024759672},{"_id":"themes/matery/source/medias/featureimages/7.jpg","hash":"7975141cd64e875122c0ea33daaca1a06bf00b8e","modified":1615024759672},{"_id":"themes/matery/source/medias/reward/alipay.jpg","hash":"1abc719b95d1b26f1f898e6b0a9b7609146e332f","modified":1615024759673},{"_id":"themes/matery/source/medias/reward/wechat.png","hash":"fe93385aa92fe328e01c8221a80b039be9e4e140","modified":1615024759674},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.eot","hash":"439c8afd3373acb4a73135a34e220464a89cd5e2","modified":1615024759613},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.woff2","hash":"f6f653b4ea8fc487bdb590d39d5a726258a55f40","modified":1615024759615},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.ttf","hash":"0f4bd02942a54a6b3200d9078adff88c2812e751","modified":1615024759615},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.woff","hash":"59439d3ad31d856d78ec3e2bd9f1eafa2c7a581c","modified":1615024759615},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1615024759636},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.svg","hash":"9c6632aeec67d3e84a1434884aa801514ff8103b","modified":1615024759637},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1615024759637},{"_id":"themes/matery/source/libs/lightGallery/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1615024759637},{"_id":"themes/matery/source/libs/lightGallery/img/video-play.png","hash":"2962e03ddbe04d7e201a5acccac531a2bbccddfc","modified":1615024759637},{"_id":"themes/matery/source/libs/lightGallery/img/vimeo-play.png","hash":"9b72fc0f86a01467ed0b68c9cc4d604ec316d517","modified":1615024759638},{"_id":"themes/matery/source/libs/lightGallery/img/loading.gif","hash":"15a76af2739482d8de7354abc6d8dc4fca8d145e","modified":1615024759637},{"_id":"themes/matery/source/libs/lightGallery/img/youtube-play.png","hash":"f8d11384d33b7a79ee2ba8d522844f14d5067a80","modified":1615024759638},{"_id":"themes/matery/source/libs/lightGallery/js/lightgallery-all.min.js","hash":"9f5ef4bc8a0a3c746ca4f3c3e6d64493b1a977d8","modified":1615024759638},{"_id":"themes/matery/source/libs/lightGallery/css/lightgallery.min.css","hash":"1b7227237f9785c66062a4811508916518e4132c","modified":1615024759636},{"_id":"themes/matery/source/libs/share/css/share.min.css","hash":"8a778a86f3ce9a042df6be63a9f1039631e351a5","modified":1615024759643},{"_id":"themes/matery/source/libs/share/fonts/iconfont.eot","hash":"00ff749c8e202401190cc98d56087cdda716abe4","modified":1615024759644},{"_id":"themes/matery/source/libs/share/fonts/iconfont.svg","hash":"1d56c9d5db0273f07c43cc1397e440f98ba7827a","modified":1615024759644},{"_id":"themes/matery/source/libs/share/fonts/iconfont.ttf","hash":"afd898f59d363887418669520b24d175f966a083","modified":1615024759644},{"_id":"themes/matery/source/libs/share/js/jquery.share.min.js","hash":"41367dcb857e02e3c417ebe68a554ce1d4430806","modified":1615024759645},{"_id":"themes/matery/source/libs/share/js/social-share.min.js","hash":"a3090a02786dcd4efc6355c1c1dc978add8d6827","modified":1615024759645},{"_id":"themes/matery/source/libs/share/fonts/iconfont.woff","hash":"2e3fce1dcfbd6e2114e7bfbeaf72d3c62e15a1bd","modified":1615024759644},{"_id":"themes/matery/source/libs/jquery/jquery.min.js","hash":"2115753ca5fb7032aec498db7bb5dca624dbe6be","modified":1615024759635},{"_id":"themes/matery/source/libs/dplayer/DPlayer.min.js","hash":"c3bad7b265574fab0ae4d45867422ea1cb9d6599","modified":1615024759627},{"_id":"themes/matery/source/medias/banner/0.jpg","hash":"69ec96cd9b4bc3aa631adc9da61353f50c39f031","modified":1615024759652},{"_id":"themes/matery/source/libs/gitment/gitment.js","hash":"28c02c45ce568e084cd1041dc493f83f9c6c88c6","modified":1615024759634},{"_id":"themes/matery/source/libs/valine/Valine.min.js","hash":"6cbdbf91e1f046dd41267a5ff0691a1fccba99df","modified":1615024759650},{"_id":"themes/matery/source/medias/banner/2.jpg","hash":"39fb2535460ce66cc0b34e07ffb9411db1405f09","modified":1615024759654},{"_id":"themes/matery/source/medias/banner/3.jpg","hash":"4ac047e92d0363b1a61ab756aca6dac13fb77494","modified":1615024759655},{"_id":"themes/matery/source/medias/featureimages/12.jpg","hash":"8a4b2e7d92ae95c3b0c921db23c35aa9a41a7d58","modified":1615024759663},{"_id":"themes/matery/source/medias/featureimages/0.jpg","hash":"1c3300f029fc85d6dda6fa4f1d699551034cdaf7","modified":1615024759660},{"_id":"themes/matery/source/medias/featureimages/1.jpg","hash":"684ae89de8cb7acefae19f5aee6c612037c46393","modified":1615024759661},{"_id":"themes/matery/source/medias/featureimages/11.jpg","hash":"f55972ce7175684f2b11c3c9fc2b5b14bccbfae8","modified":1615024759662},{"_id":"themes/matery/source/medias/featureimages/14.jpg","hash":"38e11221406785bcd93aa9cd23e568e164630ef1","modified":1615024759664},{"_id":"themes/matery/source/medias/featureimages/18.jpg","hash":"64829272ec85bb819d55ff89e5b5fd6f64aa436b","modified":1615024759666},{"_id":"themes/matery/source/medias/featureimages/17.jpg","hash":"42d47903551ee81885c1386022982cae165841c5","modified":1615024759666},{"_id":"themes/matery/source/medias/featureimages/19.jpg","hash":"eb250906fdbc0c408f42ae9933725bc1a05d79fb","modified":1615024759667},{"_id":"themes/matery/source/medias/featureimages/20.jpg","hash":"3b11f9b461168d907073f793190865fe621a8573","modified":1615024759668},{"_id":"themes/matery/source/medias/featureimages/4.jpg","hash":"e06c47de27619984be9d5d02947f8370a432dfea","modified":1615024759670},{"_id":"themes/matery/source/medias/featureimages/6.jpg","hash":"c8f2aa4bbb041158b4e73733a341e6a77c8583f7","modified":1615024759671},{"_id":"themes/matery/source/libs/awesome/css/all.css","hash":"ecc41e32ad2696877a1656749841f3b5543bbe3d","modified":1615024759603},{"_id":"themes/matery/source/medias/featureimages/9.jpg","hash":"b956a2291a04b2132366b53666cf34858b8bdb1f","modified":1615024759673},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.woff2","hash":"a46bd47ff0a90b812aafafda587d095cdb844271","modified":1615024759612},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.ttf","hash":"91cbeeaceb644a971241c08362898599d6d968ce","modified":1615024759612},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.eot","hash":"22f9e7d5226408eb2d0a11e118257a3ca22b8670","modified":1615024759605},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.woff","hash":"18838f5260317da3c5ed29bf844ac8a4f7ad0529","modified":1615024759612},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.woff2","hash":"9c081b88b106c6c04ecb895ba7ba7d3dcb3b55ac","modified":1615024759625},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.woff","hash":"92803b8753ceda573c6906774677c5a7081d2fbb","modified":1615024759625},{"_id":"themes/matery/source/medias/cover.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1615024759659},{"_id":"themes/matery/source/libs/materialize/materialize.min.css","hash":"a69d456e3345e7f59cd0d47d1b3e70fd4a496a05","modified":1615024759640},{"_id":"themes/matery/source/libs/gitalk/gitalk.min.js","hash":"8fefe38f28804f90116bdcb74a0875c9de9f3b7d","modified":1615024759633},{"_id":"themes/matery/source/libs/materialize/materialize.min.js","hash":"c8b4c65651921d888cf5f27430dfe2ad190d35bf","modified":1615024759641},{"_id":"themes/matery/source/libs/valine/av-min.js","hash":"541efb9edc1ce425cbe3897cfc25803211fe6a05","modified":1615024759651},{"_id":"themes/matery/source/medias/banner/1.jpg","hash":"ab122a36998a4f62a61e61a4fc5e00248113413b","modified":1615024759653},{"_id":"themes/matery/source/medias/banner/6.jpg","hash":"ed7282cc129c4ff9f322d2f2897fb4aac5c48589","modified":1615024759658},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-regular-400.svg","hash":"3d3a49445343d80f3b553e3e3425b9a7bd49acaf","modified":1615024759614},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.ttf","hash":"9521ed12274c2cbc910cea77657116fcf6545da3","modified":1615024759624},{"_id":"themes/matery/source/medias/banner/5.jpg","hash":"852418f4f09e796e12bc3bab7a1488d3f37d6486","modified":1615024759657},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.eot","hash":"cab8e84ae5682d1d556e234df9c790985888def8","modified":1615024759617},{"_id":"themes/matery/source/medias/banner/4.jpg","hash":"e5ac5033678afa9d69edffe9a61004f836cb5734","modified":1615024759656},{"_id":"themes/matery/source/libs/twikoo/twikoo.all.min.js","hash":"c3f5f0a69b7864e7ef5bbf99fc774bec37947d7c","modified":1615024759649},{"_id":"themes/matery/source/libs/echarts/echarts.min.js","hash":"9496f386a0da4601cad22c479cc5543913a4d67f","modified":1615024759631},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-solid-900.svg","hash":"7da88b19e1486f8c968d3cf5ab3f194f01ea17fd","modified":1615024759623},{"_id":"themes/matery/source/libs/awesome/webfonts/fa-brands-400.svg","hash":"5e2d2a159294576bea69cc3360efb5ffe110ab2d","modified":1615024759610},{"_id":"public/search.xml","hash":"7f7589f6d8be747f4102499116467aff613e81b5","modified":1615119142351},{"_id":"public/about/index.html","hash":"74d9ba2ca20f391984020283142ce575dc9fed88","modified":1615120633425},{"_id":"public/404/index.html","hash":"4cf22f5795627c5957e89f9a5d639cba21eb54ca","modified":1615120633425},{"_id":"public/archives/index.html","hash":"e01fbd54256b552f8d84f5983dcff90b0548dcac","modified":1615120633425},{"_id":"public/friends/index.html","hash":"1792c85472002161da1b2362a829606609a2ca89","modified":1615120633425},{"_id":"public/categories/index.html","hash":"8b4a0c1791ac271632395aae0b114d4724c9acb5","modified":1615120633425},{"_id":"public/tags/index.html","hash":"1c07188a91daf0d81bddf556b9c51e8018667abf","modified":1615120633425},{"_id":"public/uncategorized/test/index.html","hash":"4b8dd4f9648ea1877d3632361d4ff2870f16db05","modified":1615109841690},{"_id":"public/uncategorized/hello-world/index.html","hash":"abd5a58e1f0d234d8c6627e19d0e7754d90f8489","modified":1615109332127},{"_id":"public/index.html","hash":"db2e0c16543f8d4caa8430dddee19b87615f8e4a","modified":1615120633425},{"_id":"public/archives/2021/index.html","hash":"316d81860fe7f3772e474d26248f6cc3584c27a1","modified":1615120633425},{"_id":"public/archives/2021/03/index.html","hash":"7ffea30852ebf4585a27347e62a87470006b6839","modified":1615120633425},{"_id":"public/tags/Golang/index.html","hash":"3d87576a2a280b0b411a0fd3e5fbc084043109d7","modified":1615120633425},{"_id":"public/tags/tags/index.html","hash":"3c341a927ac4d995563a6f6d38fd458b05bfaba9","modified":1615109841690},{"_id":"public/favicon.png","hash":"774fee8c6d0be9dbb010b20f36c06848d06e3da0","modified":1615114584063},{"_id":"public/medias/comment_bg.png","hash":"dfc93d24081884fbc58cab0f8fd19e77d31d6123","modified":1615114584063},{"_id":"public/medias/icp.png","hash":"27a96f31f7d0413c6ade6f40e06f021f501151c7","modified":1615114584063},{"_id":"public/libs/twikoo/twikoo.all.min.js.LICENSE.txt","hash":"1e286a31ef472fb864fe2b9502e87df9242df56b","modified":1615114584063},{"_id":"public/medias/featureimages/10.jpg","hash":"98e7f6fd9c97d4de9044b6871ca08ebf14db11b9","modified":1615114584063},{"_id":"public/medias/featureimages/16.jpg","hash":"97a829c4bc94f9d2929b20a1a9b798c57b9f7205","modified":1615114584063},{"_id":"public/medias/featureimages/2.jpg","hash":"4bba691cf71a517ecaeaf42afd3e8f8b31e346c1","modified":1615114584063},{"_id":"public/medias/featureimages/23.jpg","hash":"7d7f37da3fa7128343adac23866449eb2c6a549a","modified":1615114584063},{"_id":"public/medias/featureimages/7.jpg","hash":"7975141cd64e875122c0ea33daaca1a06bf00b8e","modified":1615114584063},{"_id":"public/medias/featureimages/8.jpg","hash":"8e4b7186352085483ca1174c7c0800114c48df8b","modified":1615114584063},{"_id":"public/medias/reward/alipay.jpg","hash":"1abc719b95d1b26f1f898e6b0a9b7609146e332f","modified":1615114584063},{"_id":"public/medias/reward/wechat.png","hash":"fe93385aa92fe328e01c8221a80b039be9e4e140","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-regular-400.eot","hash":"439c8afd3373acb4a73135a34e220464a89cd5e2","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-regular-400.woff","hash":"59439d3ad31d856d78ec3e2bd9f1eafa2c7a581c","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-regular-400.ttf","hash":"0f4bd02942a54a6b3200d9078adff88c2812e751","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-regular-400.woff2","hash":"f6f653b4ea8fc487bdb590d39d5a726258a55f40","modified":1615114584063},{"_id":"public/libs/lightGallery/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1615114584063},{"_id":"public/libs/lightGallery/fonts/lg.svg","hash":"9c6632aeec67d3e84a1434884aa801514ff8103b","modified":1615114584063},{"_id":"public/libs/lightGallery/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1615114584063},{"_id":"public/libs/lightGallery/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1615114584063},{"_id":"public/libs/lightGallery/img/video-play.png","hash":"2962e03ddbe04d7e201a5acccac531a2bbccddfc","modified":1615114584063},{"_id":"public/libs/lightGallery/img/vimeo-play.png","hash":"9b72fc0f86a01467ed0b68c9cc4d604ec316d517","modified":1615114584063},{"_id":"public/libs/lightGallery/img/youtube-play.png","hash":"f8d11384d33b7a79ee2ba8d522844f14d5067a80","modified":1615114584063},{"_id":"public/libs/lightGallery/img/loading.gif","hash":"15a76af2739482d8de7354abc6d8dc4fca8d145e","modified":1615114584063},{"_id":"public/libs/share/fonts/iconfont.eot","hash":"00ff749c8e202401190cc98d56087cdda716abe4","modified":1615114584063},{"_id":"public/libs/share/fonts/iconfont.svg","hash":"1d56c9d5db0273f07c43cc1397e440f98ba7827a","modified":1615114584063},{"_id":"public/libs/share/fonts/iconfont.ttf","hash":"afd898f59d363887418669520b24d175f966a083","modified":1615114584063},{"_id":"public/libs/share/fonts/iconfont.woff","hash":"2e3fce1dcfbd6e2114e7bfbeaf72d3c62e15a1bd","modified":1615114584063},{"_id":"public/medias/avatar.jpeg","hash":"d5c7bbc1e67cbfbb81f736db003c57a8a00d792b","modified":1615114584063},{"_id":"public/medias/logo.png","hash":"d9095f5ea8719374d9d1ff020279426f5b2a1396","modified":1615114584063},{"_id":"public/medias/featureimages/0.jpg","hash":"1c3300f029fc85d6dda6fa4f1d699551034cdaf7","modified":1615114584063},{"_id":"public/medias/featureimages/1.jpg","hash":"684ae89de8cb7acefae19f5aee6c612037c46393","modified":1615114584063},{"_id":"public/medias/featureimages/12.jpg","hash":"8a4b2e7d92ae95c3b0c921db23c35aa9a41a7d58","modified":1615114584063},{"_id":"public/medias/featureimages/13.jpg","hash":"35a320174f8e316e3eadaec658024276b651c6e9","modified":1615114584063},{"_id":"public/medias/featureimages/15.jpg","hash":"da0fbee3b7bde1607eace377ddf834c0be99edfe","modified":1615114584063},{"_id":"public/medias/featureimages/11.jpg","hash":"f55972ce7175684f2b11c3c9fc2b5b14bccbfae8","modified":1615114584063},{"_id":"public/medias/featureimages/18.jpg","hash":"64829272ec85bb819d55ff89e5b5fd6f64aa436b","modified":1615114584063},{"_id":"public/medias/featureimages/17.jpg","hash":"42d47903551ee81885c1386022982cae165841c5","modified":1615114584063},{"_id":"public/medias/featureimages/22.jpg","hash":"754579747a3e99747d890fca3162f370b96a7941","modified":1615114584063},{"_id":"public/medias/featureimages/21.jpg","hash":"b26edb128bb0bf58b23fd2f014e9555e89a2ca3b","modified":1615114584063},{"_id":"public/medias/featureimages/19.jpg","hash":"eb250906fdbc0c408f42ae9933725bc1a05d79fb","modified":1615114584063},{"_id":"public/medias/featureimages/20.jpg","hash":"3b11f9b461168d907073f793190865fe621a8573","modified":1615114584063},{"_id":"public/medias/featureimages/5.jpg","hash":"41ca20129a37fedc573eec28dd7d7b9e5b09228a","modified":1615114584063},{"_id":"public/medias/featureimages/3.jpg","hash":"6ec646c2a70f5f11edacf225c1477f2200a37a96","modified":1615114584063},{"_id":"public/medias/featureimages/6.jpg","hash":"c8f2aa4bbb041158b4e73733a341e6a77c8583f7","modified":1615114584063},{"_id":"public/medias/featureimages/4.jpg","hash":"e06c47de27619984be9d5d02947f8370a432dfea","modified":1615114584063},{"_id":"public/medias/featureimages/9.jpg","hash":"b956a2291a04b2132366b53666cf34858b8bdb1f","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-brands-400.woff2","hash":"a46bd47ff0a90b812aafafda587d095cdb844271","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-solid-900.woff","hash":"92803b8753ceda573c6906774677c5a7081d2fbb","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-solid-900.woff2","hash":"9c081b88b106c6c04ecb895ba7ba7d3dcb3b55ac","modified":1615114584063},{"_id":"public/medias/banner/5.jpg","hash":"852418f4f09e796e12bc3bab7a1488d3f37d6486","modified":1615114584063},{"_id":"public/medias/banner/0.jpg","hash":"69ec96cd9b4bc3aa631adc9da61353f50c39f031","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-brands-400.eot","hash":"22f9e7d5226408eb2d0a11e118257a3ca22b8670","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-brands-400.woff","hash":"18838f5260317da3c5ed29bf844ac8a4f7ad0529","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-regular-400.svg","hash":"3d3a49445343d80f3b553e3e3425b9a7bd49acaf","modified":1615114584063},{"_id":"public/css/bb.css","hash":"aa15633888c7cf9baea8bb48d796c68b57cf14bf","modified":1615114584063},{"_id":"public/css/gitment.css","hash":"2bd15cc17dca35ac3ecc0acf167a23a1dd362acd","modified":1615114584063},{"_id":"public/css/my.css","hash":"497e50351f7838f8546cac76850a42e7e380a110","modified":1615114584063},{"_id":"public/css/my-gitalk.css","hash":"af18dd29e58642c18bab9b89541767b494c468dd","modified":1615114584063},{"_id":"public/js/search.js","hash":"e1482406c58ea2a0eb178d7e4efb2c879cdddc80","modified":1615114584063},{"_id":"public/js/matery.js","hash":"b86de5fe3e9766b7ff80df12ea41c3a9e30825f7","modified":1615114584063},{"_id":"public/libs/aplayer/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1615114584063},{"_id":"public/libs/aos/aos.js","hash":"02bfb40b0c4b6e9b0b4081218357145cbb327d74","modified":1615114584063},{"_id":"public/libs/background/ribbon-dynamic.js","hash":"052b80c29e6bc585aa28d4504b743bdbac220a88","modified":1615114584063},{"_id":"public/libs/background/canvas-nest.js","hash":"65333d0dbb9c1173a1b13031b230161fc42c8b2f","modified":1615114584063},{"_id":"public/libs/background/ribbon-refresh.min.js","hash":"6d98692b2cad8c746a562db18b170b35c24402f4","modified":1615114584063},{"_id":"public/libs/codeBlock/codeBlockFuction.js","hash":"c7ab06d27a525b15b1eb69027135269e9b9132fb","modified":1615114584063},{"_id":"public/libs/background/ribbon.min.js","hash":"6a99d494c030388f96f6086a7aaa0f03f3fe532e","modified":1615114584063},{"_id":"public/libs/codeBlock/codeLang.js","hash":"bac88b4d4e3679732d29bd037c34f089cf27cf05","modified":1615114584063},{"_id":"public/libs/codeBlock/codeCopy.js","hash":"6d39a766af62e625f177c4d5cf3adc35eed71e61","modified":1615114584063},{"_id":"public/libs/codeBlock/codeShrink.js","hash":"201e8cd761b4be557247bdaf1ebc7c11c83194f6","modified":1615114584063},{"_id":"public/libs/jqcloud/jqcloud-1.0.4.min.js","hash":"257eaae3020599e4939f50d5008a743827f25b8c","modified":1615114584063},{"_id":"public/libs/instantpage/instantpage.js","hash":"83ce8919b1a69b2f1809ffaf99b52a8627e650e9","modified":1615114584063},{"_id":"public/libs/jqcloud/jqcloud.css","hash":"20d9f11a19d95c70e27cb922e0d6dccbec4eae89","modified":1615114584063},{"_id":"public/libs/minivaline/MiniValine.js","hash":"f7f6cdc1b22297e02334e304444e9a8351acb455","modified":1615114584063},{"_id":"public/libs/others/clicklove.js","hash":"6a39b8c683ba5dcd92f70c6ab45d1cfac3213e8e","modified":1615114584063},{"_id":"public/libs/prism/prism.css","hash":"62e5474893dece076534352f564ceabd6e088a5a","modified":1615114584063},{"_id":"public/libs/others/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1615114584063},{"_id":"public/libs/scrollprogress/scrollProgress.min.js","hash":"777ffe5d07e85a14fbe97d846f45ffc0087251cc","modified":1615114584063},{"_id":"public/libs/tocbot/tocbot.css","hash":"9ab8ef576c9a57115194152e79cca79b0a41dd70","modified":1615114584063},{"_id":"public/libs/tocbot/tocbot.min.js","hash":"5ec27317f0270b8cf6b884c6f12025700b9a565c","modified":1615114584063},{"_id":"public/libs/share/css/share.min.css","hash":"8a778a86f3ce9a042df6be63a9f1039631e351a5","modified":1615114584063},{"_id":"public/medias/cover.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1615114584063},{"_id":"public/medias/banner/3.jpg","hash":"4ac047e92d0363b1a61ab756aca6dac13fb77494","modified":1615114584063},{"_id":"public/medias/banner/2.jpg","hash":"39fb2535460ce66cc0b34e07ffb9411db1405f09","modified":1615114584063},{"_id":"public/medias/banner/6.jpg","hash":"ed7282cc129c4ff9f322d2f2897fb4aac5c48589","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-brands-400.ttf","hash":"91cbeeaceb644a971241c08362898599d6d968ce","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-solid-900.eot","hash":"cab8e84ae5682d1d556e234df9c790985888def8","modified":1615114584063},{"_id":"public/libs/aos/aos.css","hash":"191a3705a8f63e589a50a0ff2f2c5559f1a1b6b2","modified":1615114584063},{"_id":"public/libs/gitalk/gitalk.css","hash":"940ded3ea12c2fe1ab0820d2831ec405f3f1fe9f","modified":1615114584063},{"_id":"public/libs/gitment/gitment-default.css","hash":"2903c59ee06b965bef32e937bd69f5b0b2190717","modified":1615114584063},{"_id":"public/libs/masonry/masonry.pkgd.min.js","hash":"ff940b4ea68368ca0e4d5560cbb79fb147dfc3c5","modified":1615114584063},{"_id":"public/libs/lightGallery/css/lightgallery.min.css","hash":"1b7227237f9785c66062a4811508916518e4132c","modified":1615114584063},{"_id":"public/libs/share/js/social-share.min.js","hash":"a3090a02786dcd4efc6355c1c1dc978add8d6827","modified":1615114584063},{"_id":"public/libs/share/js/jquery.share.min.js","hash":"41367dcb857e02e3c417ebe68a554ce1d4430806","modified":1615114584063},{"_id":"public/medias/banner/1.jpg","hash":"ab122a36998a4f62a61e61a4fc5e00248113413b","modified":1615114584063},{"_id":"public/medias/featureimages/14.jpg","hash":"38e11221406785bcd93aa9cd23e568e164630ef1","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-solid-900.ttf","hash":"9521ed12274c2cbc910cea77657116fcf6545da3","modified":1615114584063},{"_id":"public/css/matery.css","hash":"c4f59752be28c542f6a95bc5d12d1e89bd249dc4","modified":1615114584063},{"_id":"public/libs/cryptojs/crypto-js.min.js","hash":"5989527a378b55011a59522f41eeb3981518325c","modified":1615114584063},{"_id":"public/libs/dplayer/DPlayer.min.css","hash":"f7d19655f873b813ffba5d1a17145c91f82631b8","modified":1615114584063},{"_id":"public/libs/animate/animate.min.css","hash":"97afa151569f046b2e01f27c1871646e9cd87caf","modified":1615114584063},{"_id":"public/libs/aplayer/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1615114584063},{"_id":"public/libs/lightGallery/js/lightgallery-all.min.js","hash":"9f5ef4bc8a0a3c746ca4f3c3e6d64493b1a977d8","modified":1615114584063},{"_id":"public/libs/gitment/gitment.js","hash":"28c02c45ce568e084cd1041dc493f83f9c6c88c6","modified":1615114584063},{"_id":"public/libs/valine/Valine.min.js","hash":"6cbdbf91e1f046dd41267a5ff0691a1fccba99df","modified":1615114584063},{"_id":"public/libs/awesome/css/all.css","hash":"ecc41e32ad2696877a1656749841f3b5543bbe3d","modified":1615114584063},{"_id":"public/libs/jquery/jquery.min.js","hash":"2115753ca5fb7032aec498db7bb5dca624dbe6be","modified":1615114584063},{"_id":"public/medias/banner/4.jpg","hash":"e5ac5033678afa9d69edffe9a61004f836cb5734","modified":1615114584063},{"_id":"public/libs/dplayer/DPlayer.min.js","hash":"c3bad7b265574fab0ae4d45867422ea1cb9d6599","modified":1615114584063},{"_id":"public/libs/materialize/materialize.min.css","hash":"a69d456e3345e7f59cd0d47d1b3e70fd4a496a05","modified":1615114584063},{"_id":"public/libs/gitalk/gitalk.min.js","hash":"8fefe38f28804f90116bdcb74a0875c9de9f3b7d","modified":1615114584063},{"_id":"public/libs/valine/av-min.js","hash":"541efb9edc1ce425cbe3897cfc25803211fe6a05","modified":1615114584063},{"_id":"public/libs/materialize/materialize.min.js","hash":"c8b4c65651921d888cf5f27430dfe2ad190d35bf","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-brands-400.svg","hash":"5e2d2a159294576bea69cc3360efb5ffe110ab2d","modified":1615114584063},{"_id":"public/libs/awesome/webfonts/fa-solid-900.svg","hash":"7da88b19e1486f8c968d3cf5ab3f194f01ea17fd","modified":1615114584063},{"_id":"public/libs/twikoo/twikoo.all.min.js","hash":"c3f5f0a69b7864e7ef5bbf99fc774bec37947d7c","modified":1615114584063},{"_id":"public/libs/echarts/echarts.min.js","hash":"9496f386a0da4601cad22c479cc5543913a4d67f","modified":1615114584063},{"_id":"source/_posts/Golang-sync-atomic.md","hash":"fe805150430ac3ea84de3450b3a81e569ab3eda2","modified":1615109821575},{"_id":"public/uncategorized/golang-sync-atomic-bao-de-yuan-zi-cao-zuo-shi-zen-me-bao-zheng-de/index.html","hash":"26c63e1fb8b5002918f9d9ff9308d7af7d2212b8","modified":1615109332127},{"_id":"public/hou-duan-kai-fa/golang-sync-atomic-bao-de-yuan-zi-cao-zuo-shi-zen-me-bao-zheng-de/index.html","hash":"369f85a825fc9d495d9e62915e4c1f8c2ada6da9","modified":1615120633425},{"_id":"public/tags/atomic/index.html","hash":"3ba44e534827be7ec77ed6e03aa926068dcd6dd7","modified":1615120633425},{"_id":"public/categories//index.html","hash":"f080567bd657a8fbe0a3c0b1e731e6e192186f41","modified":1615120633425},{"_id":"source/_posts/2021-03-07-Golang-9.md","hash":"970df3bc6d658008c321cabe9a742240a673f8ca","modified":1615114246069},{"_id":"source/_posts/2021-03-07-Mysql-Explain.md","hash":"f2a45d5bccf9967df4c8a5a5d7865ef07e6314d4","modified":1615113577861},{"_id":"source/_posts/2021-03-07-Golang.md","hash":"74db428866c6fca0eafce759cc40744b7e8b13ee","modified":1615114466098},{"_id":"source/_posts/2021-03-07-Golang-sync-atomic.md","hash":"fe805150430ac3ea84de3450b3a81e569ab3eda2","modified":1615109821575},{"_id":"source/_posts/2021-03-07-Mysql-.md","hash":"2a6d96c6d32657733f0b2ac7c1ffbf3e282f57be","modified":1615112831193},{"_id":"source/_posts/2021-03-07-Mysql-InnoDB.md","hash":"699df249125564213d5684b3de4e92a8c712386a","modified":1615113082863},{"_id":"source/_posts/2021-03-07-Mysql-.md","hash":"cd6f54cfb699837a738dab37a51c96a9916cd525","modified":1615112900669},{"_id":"source/_posts/2021-03-07-Mysql-.md","hash":"2b101f2c429821e2a7be6447cddf7c16c4508303","modified":1615113663921},{"_id":"source/_posts/2021-03-07-Mysql-.md","hash":"183b018e912f5946a16648fbe4572a87d01e07b1","modified":1615113122057},{"_id":"source/_posts/2021-03-07-Mysql-.md","hash":"567990aee95336750ffa130b716e4b9c88c8cadd","modified":1615113045896},{"_id":"source/_posts/2021-03-07-Mysql-.md","hash":"5817e2101240cb6d8c643300e19835ff67dae52e","modified":1615112961870},{"_id":"source/_posts/2021-03-07-Mysql-.md","hash":"0e3ddb6a888e5350fa4fe1398a97f65c4beb4a98","modified":1615113002932},{"_id":"source/_posts/2021-03-07-Redis-SortedSet.md","hash":"418f6136c443b601d61c086fe468e776c3baf29e","modified":1615114103004},{"_id":"source/_posts/2021-03-07-Mysql-AUTO-INCREMENT.md","hash":"1d26cb3c11eb9a64b01157390d4affb4c0ee272e","modified":1615114397283},{"_id":"source/_posts/2021-03-07-Mysql-100.md","hash":"a53d0a04b9e8c6688ba15435e4c8c886addab759","modified":1615113966543},{"_id":"source/_posts/2021-03-07--.md","hash":"14bf239cab8d2d6b8edfd1bad36daf1b38d4f516","modified":1615113848197},{"_id":"source/_posts/2021-03-07-AES.md","hash":"02517a03ee42074b76b38c7a79c5da8488af9070","modified":1615110531814},{"_id":"source/_posts/2021-03-07-ipintintip.md","hash":"75b5e7dbc265c9e8e2994d845be9bb6567843d03","modified":1615112755847},{"_id":"source/_posts/2021-03-07--.md","hash":"7646a11155425059c55fb838dc7d055ef3739db0","modified":1615113845209},{"_id":"source/_posts/2021-03-07--.md","hash":"36521501b5e731620d83567aa7b9905920ea9ced","modified":1615113843828},{"_id":"source/_posts/2021-03-07--.md","hash":"921cc92fcf062529e58aa067d857777cd5311a14","modified":1615113846698},{"_id":"public/shu-ju-ku/mysql-zi-zeng-lie-auto-increment/index.html","hash":"f2aba5b7838fb4f646005da25c5121c4156d0451","modified":1615120633425},{"_id":"public/hou-duan-kai-fa/golang-9-gong-ge-tou-xiang-sheng-cheng/index.html","hash":"b6b18c2690eea7baea3e53b2b3bfeeba4bef86a9","modified":1615120633425},{"_id":"public/zhong-jian-jian/redis-sortedset-pai-xing-bang-tong-fen/index.html","hash":"b9e99ffad0aa68c5e04dc8f380b570e1d1ee2496","modified":1615120633425},{"_id":"public/shu-ju-ku/mysql-mian-shi-100-wen/index.html","hash":"53cccb4ae3b6640df87c64f8f4a98a560a646c85","modified":1615120633425},{"_id":"public/shu-ju-ku/mysql-sui-pian-zheng-li-yu-dao-de-na-xie-shi/index.html","hash":"61b03843bb0eea027f593a715ccd61aca8746952","modified":1615120633425},{"_id":"public/shu-ju-ku/mysql-explain-zi-duan-han-yi/index.html","hash":"5df27316490924d0be6d601ee72eb164ffb8185a","modified":1615120633425},{"_id":"public/shu-ju-ku/mysql-cun-chu-yin-qing-he-ti-xi-jie-gou/index.html","hash":"7500d6ea02e9eadcfed4f3de5e961c26018a90e6","modified":1615120633425},{"_id":"public/shu-ju-ku/mysql-innodb-cun-chu-yin-qing/index.html","hash":"cd127231b241c5ec96f7ad3bb6903985f8385a5d","modified":1615120633425},{"_id":"public/shu-ju-ku/mysql-wen-jian/index.html","hash":"e9d005de046f9e7c62acc57a3ad0d7f712cfad9c","modified":1615120633425},{"_id":"public/shu-ju-ku/mysql-biao/index.html","hash":"d72d27fc4d38cb35b7b7fe51c287f95ee6bf94a0","modified":1615120633425},{"_id":"public/shu-ju-ku/mysql-suo-yin-yu-suan-fa/index.html","hash":"387eadea99d57afe93799b0c5fa5884ce8a32c55","modified":1615120633425},{"_id":"public/shu-ju-ku/mysql-shi-wu/index.html","hash":"0a6a73076d345a9852e3f074ac4e6da6a92e9255","modified":1615120633425},{"_id":"public/shu-ju-ku/mysql-bei-fen-yu-hui-fu/index.html","hash":"8f623e77289f70bca047d026ce07babefb5bf888","modified":1615120633425},{"_id":"public/hou-duan-kai-fa/ip-zhuan-int-int-zhuan-ip/index.html","hash":"21c001e7603d8781a5ab2dfd48c9e001c4274101","modified":1615114584063},{"_id":"public/suan-fa/suan-fa-dao-lun-yi-ge-shu-zu-zhong-shi-xian-liang-ge-zhan/index.html","hash":"05080f8e61235a7d692e12f87c5cb490ca9decb7","modified":1615120633425},{"_id":"public/suan-fa/suan-fa-dao-lun-dan-shu-zu-shi-xian-shuang-duan-dui-lie/index.html","hash":"b33fb33671dd1b9f65fee7326c33c5ae1ac7bc77","modified":1615120633425},{"_id":"public/suan-fa/suan-fa-dao-lun-liang-ge-zhan-shi-xian-dui-lie/index.html","hash":"ed90b03384b8c14cb5d7a1cf5aed5943b2e5846a","modified":1615120633425},{"_id":"public/suan-fa/suan-fa-dao-lun-liang-ge-dui-lie-shi-xian-zhan/index.html","hash":"2c59dabcf4822488dac9358e66f4f261ed02bcc7","modified":1615120633425},{"_id":"public/xiao-lu-gong-ju/golang-san-xing-dai-ma-fa-song-ding-ding-ji-qi-ren-xiao-xi/index.html","hash":"27550a06fe00d29db957ef3be14b5a5a0502e175","modified":1615120633425},{"_id":"public/hou-duan-kai-fa/ni-de-aes-jia-mi-jie-guo-xiang-tong-ma/index.html","hash":"f37dce2f7326cc72cdedefdd84a59ab12aa9eb5a","modified":1615120633425},{"_id":"public/page/2/index.html","hash":"046fda6fc30996b09a74bc27de7fb58124647a87","modified":1615120633425},{"_id":"public/tags/AES/index.html","hash":"d42d7f0be0da11b595645a3bf1f953605bbc5471","modified":1615120633425},{"_id":"public/tags//index.html","hash":"1ee054ca8152b0b3b7dc75516ab3e29e156fccd9","modified":1615120633425},{"_id":"public/tags/IP/index.html","hash":"43313c0f2ca2d684936de81dae37e6314d784264","modified":1615120633425},{"_id":"public/tags/Utils/index.html","hash":"4cb1416a8e387cae3850b7c00fa0cadbc6596392","modified":1615120633425},{"_id":"public/tags/Mysql/index.html","hash":"98cc279c33fe7de19c5772c50fe017caae011b65","modified":1615120633425},{"_id":"public/tags//index.html","hash":"5f4f119c1fc8fd8fc288b1f9cbb6cde73204eaea","modified":1615120633425},{"_id":"public/tags//index.html","hash":"4fde893794ca78113cc563a5d8a6d6fa68cb5fd2","modified":1615120633425},{"_id":"public/tags/Redis/index.html","hash":"90eea43641244a4c7bbea91252dd62d5b10ca8b2","modified":1615120633425},{"_id":"public/tags//index.html","hash":"2186c55667933ead1e5423f2e14f8c9e997014e3","modified":1615120633425},{"_id":"public/archives/page/2/index.html","hash":"2e49d1d8c9760bd8bf756c7dc0f4a3aa6450062a","modified":1615120633425},{"_id":"public/archives/2021/page/2/index.html","hash":"8db89d4b665f9aee2cf8b22da66388becb21aad6","modified":1615120633425},{"_id":"public/archives/2021/03/page/2/index.html","hash":"59e4a7900229d8143a05b8c41e0267c9fd14a46d","modified":1615120633425},{"_id":"public/categories//index.html","hash":"2cb1384a3a0ebe68bf942735a99c13f523a551ff","modified":1615120633425},{"_id":"public/categories//index.html","hash":"b8dbd25c393b62c68f66e2c68d46fe0605c7aab4","modified":1615120633425},{"_id":"public/categories//index.html","hash":"e37828b2fb3a2ec51cc3abcb5a882ef452a3be81","modified":1615120633425},{"_id":"public/categories//index.html","hash":"d4129b03043b3167e0b2a1b695a5339dced7c0e2","modified":1615120633425},{"_id":"source/_posts/2021-03-07-Git-.md","hash":"9184d64944b02b9e71a5e22f6e11ea69cdaaf3c9","modified":1615117960710},{"_id":"source/_posts/2021-03-07-Linux-vim.md","hash":"6ef755bdff5f13b7080246aa4bf56794a95e4cac","modified":1615117805975},{"_id":"source/_posts/2021-03-07-Golang-.md","hash":"f512e9b37a081af8fb6c9c7f3dcfee9c20f4bf09","modified":1615117619743},{"_id":"source/_posts/2021-03-07-Golang-.md","hash":"fef786bb88b303efbf7588d898abe2f0b9fa6dbe","modified":1615117370827},{"_id":"source/_posts/2021-03-07-Mac-sshpass.md","hash":"38e4355094382932fe0a4da3ce940fa5171ecef8","modified":1615116423445},{"_id":"source/_posts/2021-03-07-Linux-.md","hash":"60907a31ae6c3ef1613222903f2d3185094268d1","modified":1615118517821},{"_id":"source/_posts/2021-03-07-Mysql-.md","hash":"60768cbba7903ea15224fcce3537652c997b0a8b","modified":1615117855031},{"_id":"source/_posts/2021-03-07-Python-BloomFilter.md","hash":"239fec018e9a18a3a4ff0be677f5d559b3317031","modified":1615117582470},{"_id":"source/_posts/2021-03-07-Mysql-.md","hash":"5dbf63b8da074f4b46d6e17ad4b6ceb148bb7b9b","modified":1615118197675},{"_id":"source/_posts/2021-03-07-Python-PILColor.md","hash":"da088c02734764873488a8ac30f3a3cb341a8c28","modified":1615117010566},{"_id":"source/_posts/2021-03-07-Python-PILMode-ImageFilter.md","hash":"feb101ab12a8c298a8dd0b57624ba4f719faae36","modified":1615117177839},{"_id":"source/_posts/2021-03-07-Python-Windows.md","hash":"589fdb44ec754822a750b4abf5ef22c74961504c","modified":1615118294322},{"_id":"source/_posts/2021-03-07-Python-PILImageFilter.md","hash":"841352a68f942667ddf294716c89141b6df1e3db","modified":1615116992334},{"_id":"source/_posts/2021-03-07-Python-PILTranspose-Blend-Split-Composite.md","hash":"d8a06c8250b9683f0b774c7eceba4bec82645d94","modified":1615117104381},{"_id":"source/_posts/2021-03-07-Python-.md","hash":"e2a34d94ec24b89b2997b2538d9f23b31c44402a","modified":1615116630262},{"_id":"source/_posts/2021-03-07-Python-.md","hash":"585a279ea7512812e0b7e1dc00167b133441c7f3","modified":1615118512558},{"_id":"source/_posts/2021-03-07-Python-MRO.md","hash":"43625bddb100f82fd0fa8efd4dd0255d40927745","modified":1615118149684},{"_id":"source/_posts/2021-03-07-Redis-exists.md","hash":"2ffa4e7c81491877f9ab58ea14bd748ad3d8b7ec","modified":1615117284046},{"_id":"source/_posts/2021-03-07-Redis-expireexists.md","hash":"c49e15560112c8267f5db075bab4120b210c479c","modified":1615116794868},{"_id":"source/_posts/2021-03-07-.md","hash":"4ea97427ec58c328ad120197a9b90973e3f0473f","modified":1615116091387},{"_id":"source/_posts/2021-03-07-Redis-redispipeline.md","hash":"8691d0cc4f74b195b5d3bfec057dbc9c79df4016","modified":1615116698192},{"_id":"source/_posts/2021-03-07--ipintintip.md","hash":"5409c7372eb31c937188bf374e79fbb954af453b","modified":1615117659834},{"_id":"source/_posts/2021-03-07--.md","hash":"56f3aae73a101eb0f0df8016394c8ef2ec35839b","modified":1615116533190},{"_id":"source/_posts/2021-03-07--Airflow.md","hash":"b18a8562aabe9892a0737cd17d52bbb4e2f03955","modified":1615118765443},{"_id":"source/_posts/2021-03-07--1.md","hash":"1a59d89494b9cc896cca63ef33ccfcebe57fdea3","modified":1615118053728},{"_id":"source/_posts/2021-03-07--Airflow.md","hash":"010c2c9970834e130543a3bcae811e134ea76864","modified":1615118710165},{"_id":"public/uncatesgorized/ruan-jian-airflow-an-zhuang-yu-jian-dan-shi-yong/index.html","hash":"15ee678c6e531c283fe5465b1d8eb9686cdc6fbb","modified":1615120633425},{"_id":"public/uncatesgorized/ruan-jian-airflow-jin-jie/index.html","hash":"cbdae08f271ecb23587d645ed037cde5ddfb93dc","modified":1615120633425},{"_id":"public/xiao-lu-gong-ju/python-windows-duo-ban-ben-an-zhuang/index.html","hash":"0b864826360402ed8c67e5f9bd758f1980289cd4","modified":1615120633425},{"_id":"public/hou-duan-kai-fa/python-sui-ji-han-shu/index.html","hash":"be5a39dbd979f94a4df2bfe1760d16a5f19afe0d","modified":1615120633425},{"_id":"public/uncatesgorized/za-zheng-shu-de-er-jin-zhi-zhong-you-ji-ge-1/index.html","hash":"6154c44b71cf90b27036535933c6ff02f9992242","modified":1615120633425},{"_id":"public/shu-ju-ku/mysql-suo/index.html","hash":"318e6dfb4e608b5e9a92aeeaa262f1afc58975e3","modified":1615120633425},{"_id":"public/hou-duan-kai-fa/python-guan-wang-li-zi-du-dong-mro-ji-cheng/index.html","hash":"5f9143e0ec1e5653846036bd5d9618b352ed8053","modified":1615120633425},{"_id":"public/uncatesgorized/linux-chang-yong-ming-ling-zheng-li/index.html","hash":"68ad9da14503dd4b9ac30b22b12eb93aab9a85c0","modified":1615120633425},{"_id":"public/uncatesgorized/git-chang-yong-ming-ling-zheng-li/index.html","hash":"8cf54a75f70230ecbba283c2c2bed75abff627c0","modified":1615120633425},{"_id":"public/uncatesgorized/linux-vim-ji-ben-cao-zuo-ming-ling/index.html","hash":"900002bb692fff551882744e0b58da75421cac7e","modified":1615120633425},{"_id":"public/shu-ju-ku/mysql-zhu-cong-tong-bu-yuan-li/index.html","hash":"a88477f5b6a9d85b0a4857ab5dcbf23bb7149555","modified":1615120633425},{"_id":"public/hou-duan-kai-fa/golang-zi-fu-chuan-gao-xiao-pin-jie/index.html","hash":"db45015b271b2aeff8e639e9a5686f57d31a54f7","modified":1615120633425},{"_id":"public/hou-duan-kai-fa/python-pil-mode-imagefilter-dui-bi-shi-jian/index.html","hash":"f1652b4ebe53470026a48f1b2ffcf9c6fff22a7e","modified":1615120633425},{"_id":"public/hou-duan-kai-fa/redis-exists-you-ke-neng-chao-chu-ni-de-yu-qi/index.html","hash":"59117fb5f0a1b5a4d577cdd0ae640ead995ec559","modified":1615120633425},{"_id":"public/hou-duan-kai-fa/python-pil-transpose-blend-split-composite/index.html","hash":"895580292fc8014a6eb6aad25b34bc24e35e71be","modified":1615120633425},{"_id":"public/hou-duan-kai-fa/python-pil-color/index.html","hash":"f8b94f846eca379fbb6d8f5f3ad1a145caa45efe","modified":1615120633425},{"_id":"public/hou-duan-kai-fa/python-pil-imagefilter-han-shu/index.html","hash":"ecdcbc3421dfbd41d481027de4719dbaf7ad4c3e","modified":1615120633425},{"_id":"public/uncatesgorized/python-ji-chu-zhi-shi-zheng-li/index.html","hash":"e97952f8da730a04b70a8ee58aa04562bcafce7b","modified":1615120633425},{"_id":"public/uncatesgorized/cheng-xu-ren-sheng-you-xiu-de-gong-cheng-shi-wen-hua/index.html","hash":"c5d56c62e842716fee214866d07f60a7e017497a","modified":1615120633425},{"_id":"public/uncatesgorized/mac-an-zhuang-sshpass/index.html","hash":"83d02ae5750567e78658e4393814064b8707f246","modified":1615120633425},{"_id":"public/zhong-jian-jian/redis-liang-ci-redis-cao-zuo-yong-bu-yong-pipeline/index.html","hash":"46bca607099415755c34a5ece29789ac1288f054","modified":1615120633425},{"_id":"public/zhong-jian-jian/redis-expire-bi-exists-geng-hao-yong/index.html","hash":"a483db0e0a93233df53f4c4416426db5a5d7a2df","modified":1615120633425},{"_id":"public/xiao-lu-gong-ju/chang-yong-zai-xian-wang-zhan/index.html","hash":"db1bba2b6665131a0450125be050fc3f993c79eb","modified":1615120633425},{"_id":"public/hou-duan-kai-fa/python-bloomfilter-shi-xian/index.html","hash":"74790bb00a25d2daea47427c31f2923fe44bec8c","modified":1615120633425},{"_id":"public/hou-duan-kai-fa/za-ip-zhuan-int-int-zhuan-ip/index.html","hash":"2589839e9383af1af9ee55fb01f5c11dd6e9509b","modified":1615120633425},{"_id":"public/archives/page/3/index.html","hash":"c5eb68be10873f5fa989fdd2325e36d17bdfccb4","modified":1615120633425},{"_id":"public/archives/2021/page/3/index.html","hash":"499ff39ff6aa2a817ef66381796e42751fc984c6","modified":1615120633425},{"_id":"public/archives/2021/03/page/3/index.html","hash":"0d521168356dc467e2bb0944bdf566c116a1a69b","modified":1615120633425},{"_id":"public/page/3/index.html","hash":"fe39681696192d8837326cf0267f231f37a567aa","modified":1615120633425},{"_id":"public/tags/Mac/index.html","hash":"393d27c696f8192643e5c69848d969b555f1e467","modified":1615120633425},{"_id":"public/tags/Python/index.html","hash":"fc4db2c7645d07b5dc9c81a6ca6b3a045da8842c","modified":1615120633425},{"_id":"public/tags/sshpass/index.html","hash":"4ecff8814a83a5d3ff4d30db671f0eb4edf42cfc","modified":1615120633425},{"_id":"public/tags//index.html","hash":"520303487960a04a36322589ab514f8c7912523e","modified":1615120633425},{"_id":"public/tags/PIL/index.html","hash":"de93fbef23ee01076123e9b54da2108833c1b57b","modified":1615120633425},{"_id":"public/tags/Linux/index.html","hash":"0bf2f64898a160028f54c44f1e657d8c9f3685eb","modified":1615120633425},{"_id":"public/tags//index.html","hash":"949476ee7e876c903aa2122cc612679b26bbd6f4","modified":1615120633425},{"_id":"public/tags/Airflow/index.html","hash":"883705b1280ef2dbf41f0851594e6568d3bff0f3","modified":1615120633425},{"_id":"public/tags/Git/index.html","hash":"20cfdbd6f0a094b4573cf9835fbc90abd15c4f1c","modified":1615120633425},{"_id":"public/tags/Vim/index.html","hash":"3e10ff5be7129e612887def3bb7e00a016b4bc2b","modified":1615120633425}],"Category":[{"name":"","_id":"cklyyhqw4000020s6dtmihbsy"},{"name":"","_id":"cklyyoqgf000320s6dzy09bsn"},{"name":"","_id":"cklyz06dv00066rs6bprm2s42"},{"name":"","_id":"cklyz0o2n000b6rs663bae4b8"},{"name":"","_id":"cklz02lpr000g6rs631v5a8j4"},{"name":"","_id":"cklz0h8qn001l6rs65vzc8b68"},{"name":"","_id":"cklz18iaz003k6rs6ein759kb"},{"name":"","parent":"cklz18iaz003k6rs6ein759kb","_id":"cklz2j7qq0008jvs6elxphcs3"},{"name":"","parent":"cklyyoqgf000320s6dzy09bsn","_id":"cklz38924001ejvs6h4d51al6"}],"Data":[{"_id":"friends","data":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}],"Page":[{"title":"about","date":"2018-09-30T09:25:30.000Z","type":"about","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2018-09-30 17:25:30\ntype: \"about\"\n---\n","updated":"2021-03-07T12:36:20.535Z","path":"about/index.html","_id":"cklyxsf1h0000q1s6hmymbxgc","comments":1,"layout":"page","content":"","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":""},{"title":"404","date":"2020-09-30T09:25:30.000Z","type":"404","layout":"404","description":"Oops :(","_content":"","source":"404/index.md","raw":"---\ntitle: 404\ndate: 2020-09-30 17:25:30\ntype: \"404\"\nlayout: \"404\"\ndescription: \"Oops :(\"\n---\n","updated":"2021-03-06T10:03:20.860Z","path":"404/index.html","comments":1,"_id":"cklyxsf1m0002q1s6b6o8hxbf","content":"","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":""},{"title":"archives","date":"2021-03-07T09:08:12.000Z","type":"archives","layout":"archives","_content":"","source":"archives/index.md","raw":"---\ntitle: archives\ndate: 2021-03-07 17:08:12\ntype: \"archives\"\nlayout: \"archives\"\n---\n","updated":"2021-03-07T09:08:44.769Z","path":"archives/index.html","comments":1,"_id":"cklyxsf1q0005q1s6hqgybdze","content":"","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":""},{"title":"friends","date":"2018-12-12T13:25:30.000Z","type":"friends","layout":"friends","_content":"","source":"friends/index.md","raw":"---\ntitle: friends\ndate: 2018-12-12 21:25:30\ntype: \"friends\"\nlayout: \"friends\"\n---\n","updated":"2021-03-07T08:57:52.423Z","path":"friends/index.html","comments":1,"_id":"cklyxsf1r0006q1s6b7lg4677","content":"","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":""},{"title":"categories","date":"2018-09-30T09:25:30.000Z","type":"categories","layout":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2018-09-30 17:25:30\ntype: \"categories\"\nlayout: \"categories\"\n---\n","updated":"2021-03-07T08:57:11.155Z","path":"categories/index.html","comments":1,"_id":"cklyxsf1s0007q1s67gl523gg","content":"","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":""},{"title":"tags","date":"2018-09-30T10:23:38.000Z","type":"tags","layout":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2018-09-30 18:23:38\ntype: \"tags\"\nlayout: \"tags\"\n---","updated":"2021-03-07T09:24:15.255Z","path":"tags/index.html","_id":"cklyxsf1s000aq1s6epd3doue","comments":1,"content":"","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":""}],"Post":[{"title":"AES","comments":1,"date":"2021-03-07T09:41:43.000Z","author":null,"_content":"## AES\n\n#### AES\n\n> [](https://zh.wikipedia.org/wiki/)[](https://zh.wikipedia.org/wiki/)AES 1282^120^2^128^128AES\n\n#### AES\n\n- **Electronic Codebook Book (ECB)**\n\n- **Cipher Block Chaining (CBC)**\n\n  ECBSSLIPSec\n\n  123IVIV\n\n  IVIVIVIVIV\n\n- **Counter (CTR)**, XOR \n\n- **Cipher FeedBack (CFB)**\n\n- **Output FeedBack (OFB)**,keyOFBXOR\n\n#### \n\n\t\n\n- AES-12816byte\n- AES-19224byte\n- AES-25632byte\n\n#### Padding\n\n- PKCS5PKCS5555\n- PKCS7PKCS70770\n- NOPADDING16\n\n#### \n\n1. \n2. \n3. Padding\n\n### \n\n```go\nfunc aesEncrypt(orig string, key string) string {\n\t// \n\torigData := []byte(orig)\n\tk := []byte(key)\n\t// \n\tblock, err := aes.NewCipher(k)\n\tif err != nil {\n\t\tpanic(fmt.Sprintf(\"key  16/24/32: %s\", err.Error()))\n\t}\n\t// \n\tblockSize := block.BlockSize()\n\t// \n\torigData = PKCS7Padding(origData, blockSize)\n\t// \n\tblockMode := cipher.NewCBCEncrypter(block, k[:blockSize])\n\t// \n\tcryted := make([]byte, len(origData))\n\t// \n\tblockMode.CryptBlocks(cryted, origData)\n\treturn base64.RawURLEncoding.EncodeToString(cryted)\n\n}\n\nfunc aesDecrypt(cryted string, key string) string {\n\tcrytedByte, _ := base64.RawURLEncoding.DecodeString(cryted)\n\tk := []byte(key)\n\n\t// \n\tblock, err := aes.NewCipher(k)\n\tif err != nil {\n\t\tpanic(fmt.Sprintf(\"key  16/24/32: %s\", err.Error()))\n\t}\n\t// \n\tblockSize := block.BlockSize()\n\t// \n\tblockMode := cipher.NewCBCDecrypter(block, k[:blockSize])\n\t// \n\torig := make([]byte, len(crytedByte))\n\t// \n\tblockMode.CryptBlocks(orig, crytedByte)\n\t// \n\torig = PKCS7UnPadding(orig)\n\treturn string(orig)\n}\n```\n\n#### \n\nbyte**hex****base64**base64\n\n\n### Base64\n\nBase64\n\njsbase64\n\n|            |                                                     |  |\n| -------------- | ------------------------------------------------------- | ---- |\n| StdEncoding    | A-Za-z0-9+/3=   |      |\n| RawStdEncoding | A-Za-z0-9+/3= |      |\n| URLEncoding    | A-Za-z0-9-_3=   |      |\n| RawURLEncoding | A-Za-z0-9-_3= |      |\n\n```go\nconst encodeStd = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"\nconst encodeURL = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"\n```\n\n```go\n//\nbase64.StdEncoding.EncodeToString(data)\nbase64.StdEncoding.DecodeString(data)\nbase64.RawStdEncoding.EncodeToString(data)\nbase64.RawStdEncoding.DecodeString(data)\n//\nbase64.URLEncoding.EncodeToString(data)\nbase64.URLEncoding.DecodeString(data)\nbase64.RawURLEncoding.EncodeToString(data)\nbase64.RawURLEncoding.DecodeString(data)\n```\n\n\n","source":"_posts/2021-03-07-AES.md","raw":"---\ntitle: AES\ncomments: true\ndate: 2021-03-07 17:41:43\nauthor:\ntags: \n - Golang\n - AES\ncategories:\n - \n---\n## AES\n\n#### AES\n\n> [](https://zh.wikipedia.org/wiki/)[](https://zh.wikipedia.org/wiki/)AES 1282^120^2^128^128AES\n\n#### AES\n\n- **Electronic Codebook Book (ECB)**\n\n- **Cipher Block Chaining (CBC)**\n\n  ECBSSLIPSec\n\n  123IVIV\n\n  IVIVIVIVIV\n\n- **Counter (CTR)**, XOR \n\n- **Cipher FeedBack (CFB)**\n\n- **Output FeedBack (OFB)**,keyOFBXOR\n\n#### \n\n\t\n\n- AES-12816byte\n- AES-19224byte\n- AES-25632byte\n\n#### Padding\n\n- PKCS5PKCS5555\n- PKCS7PKCS70770\n- NOPADDING16\n\n#### \n\n1. \n2. \n3. Padding\n\n### \n\n```go\nfunc aesEncrypt(orig string, key string) string {\n\t// \n\torigData := []byte(orig)\n\tk := []byte(key)\n\t// \n\tblock, err := aes.NewCipher(k)\n\tif err != nil {\n\t\tpanic(fmt.Sprintf(\"key  16/24/32: %s\", err.Error()))\n\t}\n\t// \n\tblockSize := block.BlockSize()\n\t// \n\torigData = PKCS7Padding(origData, blockSize)\n\t// \n\tblockMode := cipher.NewCBCEncrypter(block, k[:blockSize])\n\t// \n\tcryted := make([]byte, len(origData))\n\t// \n\tblockMode.CryptBlocks(cryted, origData)\n\treturn base64.RawURLEncoding.EncodeToString(cryted)\n\n}\n\nfunc aesDecrypt(cryted string, key string) string {\n\tcrytedByte, _ := base64.RawURLEncoding.DecodeString(cryted)\n\tk := []byte(key)\n\n\t// \n\tblock, err := aes.NewCipher(k)\n\tif err != nil {\n\t\tpanic(fmt.Sprintf(\"key  16/24/32: %s\", err.Error()))\n\t}\n\t// \n\tblockSize := block.BlockSize()\n\t// \n\tblockMode := cipher.NewCBCDecrypter(block, k[:blockSize])\n\t// \n\torig := make([]byte, len(crytedByte))\n\t// \n\tblockMode.CryptBlocks(orig, crytedByte)\n\t// \n\torig = PKCS7UnPadding(orig)\n\treturn string(orig)\n}\n```\n\n#### \n\nbyte**hex****base64**base64\n\n\n### Base64\n\nBase64\n\njsbase64\n\n|            |                                                     |  |\n| -------------- | ------------------------------------------------------- | ---- |\n| StdEncoding    | A-Za-z0-9+/3=   |      |\n| RawStdEncoding | A-Za-z0-9+/3= |      |\n| URLEncoding    | A-Za-z0-9-_3=   |      |\n| RawURLEncoding | A-Za-z0-9-_3= |      |\n\n```go\nconst encodeStd = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"\nconst encodeURL = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"\n```\n\n```go\n//\nbase64.StdEncoding.EncodeToString(data)\nbase64.StdEncoding.DecodeString(data)\nbase64.RawStdEncoding.EncodeToString(data)\nbase64.RawStdEncoding.DecodeString(data)\n//\nbase64.URLEncoding.EncodeToString(data)\nbase64.URLEncoding.DecodeString(data)\nbase64.RawURLEncoding.EncodeToString(data)\nbase64.RawURLEncoding.DecodeString(data)\n```\n\n\n","slug":"AES","published":1,"updated":"2021-03-07T09:48:51.814Z","_id":"cklz07gsv000p6rs66pxpc2wo","layout":"post","photos":[],"link":"","content":"<h2 id=\"AES\"><a href=\"#AES\" class=\"headerlink\" title=\"AES\"></a>AES</h2><h4 id=\"AES\"><a href=\"#AES\" class=\"headerlink\" title=\"AES\"></a>AES</h4><blockquote>\n<p><a href=\"https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A2%BC%E5%AD%B8\"></a><a href=\"https://zh.wikipedia.org/wiki/%E8%9B%AE%E5%8A%9B%E6%94%BB%E5%87%BB\"></a>AES 1282^120^2^128^128AES</p>\n</blockquote>\n<h4 id=\"AES\"><a href=\"#AES\" class=\"headerlink\" title=\"AES\"></a>AES</h4><ul>\n<li><p>**Electronic Codebook Book (ECB)**</p>\n</li>\n<li><p><strong>Cipher Block Chaining (CBC)</strong></p>\n<p>ECBSSLIPSec</p>\n<p>123IVIV</p>\n<p>IVIVIVIVIV</p>\n</li>\n<li><p><strong>Counter (CTR)</strong>, XOR </p>\n</li>\n<li><p><strong>Cipher FeedBack (CFB)</strong></p>\n</li>\n<li><p><strong>Output FeedBack (OFB)</strong>,keyOFBXOR</p>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>    </p>\n<ul>\n<li>AES-12816byte</li>\n<li>AES-19224byte</li>\n<li>AES-25632byte</li>\n</ul>\n<h4 id=\"Padding\"><a href=\"#Padding\" class=\"headerlink\" title=\"Padding\"></a>Padding</h4><ul>\n<li>PKCS5PKCS5555</li>\n<li>PKCS7PKCS70770</li>\n<li>NOPADDING16</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li></li>\n<li>Padding</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">aesEncrypt</span><span class=\"token punctuation\">(</span>orig <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> key <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token comment\">// </span>\n\torigData <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token function\">byte</span><span class=\"token punctuation\">(</span>orig<span class=\"token punctuation\">)</span>\n\tk <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token function\">byte</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\tblock<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> aes<span class=\"token punctuation\">.</span><span class=\"token function\">NewCipher</span><span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Sprintf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"key  16/24/32: %s\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">.</span><span class=\"token function\">Error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token comment\">// </span>\n\tblockSize <span class=\"token operator\">:=</span> block<span class=\"token punctuation\">.</span><span class=\"token function\">BlockSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\torigData <span class=\"token operator\">=</span> <span class=\"token function\">PKCS7Padding</span><span class=\"token punctuation\">(</span>origData<span class=\"token punctuation\">,</span> blockSize<span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\tblockMode <span class=\"token operator\">:=</span> cipher<span class=\"token punctuation\">.</span><span class=\"token function\">NewCBCEncrypter</span><span class=\"token punctuation\">(</span>block<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>blockSize<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\tcryted <span class=\"token operator\">:=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">byte</span><span class=\"token punctuation\">,</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>origData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\tblockMode<span class=\"token punctuation\">.</span><span class=\"token function\">CryptBlocks</span><span class=\"token punctuation\">(</span>cryted<span class=\"token punctuation\">,</span> origData<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span> base64<span class=\"token punctuation\">.</span>RawURLEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">EncodeToString</span><span class=\"token punctuation\">(</span>cryted<span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">aesDecrypt</span><span class=\"token punctuation\">(</span>cryted <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> key <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">&#123;</span>\n\tcrytedByte<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> base64<span class=\"token punctuation\">.</span>RawURLEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">DecodeString</span><span class=\"token punctuation\">(</span>cryted<span class=\"token punctuation\">)</span>\n\tk <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token function\">byte</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// </span>\n\tblock<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> aes<span class=\"token punctuation\">.</span><span class=\"token function\">NewCipher</span><span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Sprintf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"key  16/24/32: %s\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">.</span><span class=\"token function\">Error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token comment\">// </span>\n\tblockSize <span class=\"token operator\">:=</span> block<span class=\"token punctuation\">.</span><span class=\"token function\">BlockSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\tblockMode <span class=\"token operator\">:=</span> cipher<span class=\"token punctuation\">.</span><span class=\"token function\">NewCBCDecrypter</span><span class=\"token punctuation\">(</span>block<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>blockSize<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\torig <span class=\"token operator\">:=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">byte</span><span class=\"token punctuation\">,</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>crytedByte<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\tblockMode<span class=\"token punctuation\">.</span><span class=\"token function\">CryptBlocks</span><span class=\"token punctuation\">(</span>orig<span class=\"token punctuation\">,</span> crytedByte<span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\torig <span class=\"token operator\">=</span> <span class=\"token function\">PKCS7UnPadding</span><span class=\"token punctuation\">(</span>orig<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token function\">string</span><span class=\"token punctuation\">(</span>orig<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>byte<strong>hex</strong><strong>base64</strong>base64</p>\n<h3 id=\"Base64\"><a href=\"#Base64\" class=\"headerlink\" title=\"Base64\"></a>Base64</h3><p>Base64</p>\n<p>jsbase64</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>StdEncoding</td>\n<td>A-Za-z0-9+/3=</td>\n<td></td>\n</tr>\n<tr>\n<td>RawStdEncoding</td>\n<td>A-Za-z0-9+/3=</td>\n<td></td>\n</tr>\n<tr>\n<td>URLEncoding</td>\n<td>A-Za-z0-9-_3=</td>\n<td></td>\n</tr>\n<tr>\n<td>RawURLEncoding</td>\n<td>A-Za-z0-9-_3=</td>\n<td></td>\n</tr>\n</tbody></table>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">const</span> encodeStd <span class=\"token operator\">=</span> <span class=\"token string\">\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"</span>\n<span class=\"token keyword\">const</span> encodeURL <span class=\"token operator\">=</span> <span class=\"token string\">\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">//</span>\nbase64<span class=\"token punctuation\">.</span>StdEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">EncodeToString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\nbase64<span class=\"token punctuation\">.</span>StdEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">DecodeString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\nbase64<span class=\"token punctuation\">.</span>RawStdEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">EncodeToString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\nbase64<span class=\"token punctuation\">.</span>RawStdEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">DecodeString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//</span>\nbase64<span class=\"token punctuation\">.</span>URLEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">EncodeToString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\nbase64<span class=\"token punctuation\">.</span>URLEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">DecodeString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\nbase64<span class=\"token punctuation\">.</span>RawURLEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">EncodeToString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\nbase64<span class=\"token punctuation\">.</span>RawURLEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">DecodeString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h2 id=\"AES\"><a href=\"#AES\" class=\"headerlink\" title=\"AES\"></a>AES</h2><h4 id=\"AES\"><a href=\"#AES\" class=\"headerlink\" title=\"AES\"></a>AES</h4><blockquote>\n<p><a href=\"https://zh.wikipedia.org/wiki/%E5%AF%86%E7%A2%BC%E5%AD%B8\"></a><a href=\"https://zh.wikipedia.org/wiki/%E8%9B%AE%E5%8A%9B%E6%94%BB%E5%87%BB\"></a>AES 1282^120^2^128^128AES</p>\n</blockquote>\n<h4 id=\"AES\"><a href=\"#AES\" class=\"headerlink\" title=\"AES\"></a>AES</h4><ul>\n<li><p>**Electronic Codebook Book (ECB)**</p>\n</li>\n<li><p><strong>Cipher Block Chaining (CBC)</strong></p>\n<p>ECBSSLIPSec</p>\n<p>123IVIV</p>\n<p>IVIVIVIVIV</p>\n</li>\n<li><p><strong>Counter (CTR)</strong>, XOR </p>\n</li>\n<li><p><strong>Cipher FeedBack (CFB)</strong></p>\n</li>\n<li><p><strong>Output FeedBack (OFB)</strong>,keyOFBXOR</p>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>    </p>\n<ul>\n<li>AES-12816byte</li>\n<li>AES-19224byte</li>\n<li>AES-25632byte</li>\n</ul>\n<h4 id=\"Padding\"><a href=\"#Padding\" class=\"headerlink\" title=\"Padding\"></a>Padding</h4><ul>\n<li>PKCS5PKCS5555</li>\n<li>PKCS7PKCS70770</li>\n<li>NOPADDING16</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li></li>\n<li></li>\n<li>Padding</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">aesEncrypt</span><span class=\"token punctuation\">(</span>orig <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> key <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token comment\">// </span>\n\torigData <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token function\">byte</span><span class=\"token punctuation\">(</span>orig<span class=\"token punctuation\">)</span>\n\tk <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token function\">byte</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\tblock<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> aes<span class=\"token punctuation\">.</span><span class=\"token function\">NewCipher</span><span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Sprintf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"key  16/24/32: %s\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">.</span><span class=\"token function\">Error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token comment\">// </span>\n\tblockSize <span class=\"token operator\">:=</span> block<span class=\"token punctuation\">.</span><span class=\"token function\">BlockSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\torigData <span class=\"token operator\">=</span> <span class=\"token function\">PKCS7Padding</span><span class=\"token punctuation\">(</span>origData<span class=\"token punctuation\">,</span> blockSize<span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\tblockMode <span class=\"token operator\">:=</span> cipher<span class=\"token punctuation\">.</span><span class=\"token function\">NewCBCEncrypter</span><span class=\"token punctuation\">(</span>block<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>blockSize<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\tcryted <span class=\"token operator\">:=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">byte</span><span class=\"token punctuation\">,</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>origData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\tblockMode<span class=\"token punctuation\">.</span><span class=\"token function\">CryptBlocks</span><span class=\"token punctuation\">(</span>cryted<span class=\"token punctuation\">,</span> origData<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span> base64<span class=\"token punctuation\">.</span>RawURLEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">EncodeToString</span><span class=\"token punctuation\">(</span>cryted<span class=\"token punctuation\">)</span>\n\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">aesDecrypt</span><span class=\"token punctuation\">(</span>cryted <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> key <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">&#123;</span>\n\tcrytedByte<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> base64<span class=\"token punctuation\">.</span>RawURLEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">DecodeString</span><span class=\"token punctuation\">(</span>cryted<span class=\"token punctuation\">)</span>\n\tk <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token function\">byte</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span>\n\n\t<span class=\"token comment\">// </span>\n\tblock<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> aes<span class=\"token punctuation\">.</span><span class=\"token function\">NewCipher</span><span class=\"token punctuation\">(</span>k<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Sprintf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"key  16/24/32: %s\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">.</span><span class=\"token function\">Error</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token comment\">// </span>\n\tblockSize <span class=\"token operator\">:=</span> block<span class=\"token punctuation\">.</span><span class=\"token function\">BlockSize</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\tblockMode <span class=\"token operator\">:=</span> cipher<span class=\"token punctuation\">.</span><span class=\"token function\">NewCBCDecrypter</span><span class=\"token punctuation\">(</span>block<span class=\"token punctuation\">,</span> k<span class=\"token punctuation\">[</span><span class=\"token punctuation\">:</span>blockSize<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\torig <span class=\"token operator\">:=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">byte</span><span class=\"token punctuation\">,</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>crytedByte<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\tblockMode<span class=\"token punctuation\">.</span><span class=\"token function\">CryptBlocks</span><span class=\"token punctuation\">(</span>orig<span class=\"token punctuation\">,</span> crytedByte<span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\">// </span>\n\torig <span class=\"token operator\">=</span> <span class=\"token function\">PKCS7UnPadding</span><span class=\"token punctuation\">(</span>orig<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token function\">string</span><span class=\"token punctuation\">(</span>orig<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>byte<strong>hex</strong><strong>base64</strong>base64</p>\n<h3 id=\"Base64\"><a href=\"#Base64\" class=\"headerlink\" title=\"Base64\"></a>Base64</h3><p>Base64</p>\n<p>jsbase64</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>StdEncoding</td>\n<td>A-Za-z0-9+/3=</td>\n<td></td>\n</tr>\n<tr>\n<td>RawStdEncoding</td>\n<td>A-Za-z0-9+/3=</td>\n<td></td>\n</tr>\n<tr>\n<td>URLEncoding</td>\n<td>A-Za-z0-9-_3=</td>\n<td></td>\n</tr>\n<tr>\n<td>RawURLEncoding</td>\n<td>A-Za-z0-9-_3=</td>\n<td></td>\n</tr>\n</tbody></table>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">const</span> encodeStd <span class=\"token operator\">=</span> <span class=\"token string\">\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\"</span>\n<span class=\"token keyword\">const</span> encodeURL <span class=\"token operator\">=</span> <span class=\"token string\">\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">//</span>\nbase64<span class=\"token punctuation\">.</span>StdEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">EncodeToString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\nbase64<span class=\"token punctuation\">.</span>StdEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">DecodeString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\nbase64<span class=\"token punctuation\">.</span>RawStdEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">EncodeToString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\nbase64<span class=\"token punctuation\">.</span>RawStdEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">DecodeString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">//</span>\nbase64<span class=\"token punctuation\">.</span>URLEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">EncodeToString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\nbase64<span class=\"token punctuation\">.</span>URLEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">DecodeString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\nbase64<span class=\"token punctuation\">.</span>RawURLEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">EncodeToString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span>\nbase64<span class=\"token punctuation\">.</span>RawURLEncoding<span class=\"token punctuation\">.</span><span class=\"token function\">DecodeString</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n"},{"title":"Golang sync/atomic","date":"2021-03-07T09:28:35.000Z","author":null,"_content":"Go`sync/atomic`Go\n\n`Mutex`atomicCPUatomic`lock-free`CPU\n\n### \n\n- int32\n- int64\n- uint32\n- uint64\n- uintptr\n- unsafe.Pointer\n\n### \n\n-  AddXXX\n\n  ```go\n  *addr += delta\n  return *addr\n  ```\n\n-  CompareAndSwapXXX\n\n  ```go\n  if *addr == old {\n  \t*addr = new\n  \treturn true\n  }\n  return false\n  ```\n\n-  LoadXXX\n\n  ```go\n  return *addr\n  ```\n\n-  StoreXXX\n\n  ```go\n  *addr = val\n  ```\n\n-  SwapXXX\n\n  ```go\n  old = *addr\n  *addr = new\n  return old\n  ```\n\n\n\n### \n\nCPU(atomicity)CPU\n\nGo32int64(MOV)3232\n\n### \n********`atomic.Value`\n\n#### \n\n- 3232bug\n\n```go\n//,CAS\n//for\nvar value int32\n\nfunc addValue1(delta int32){\n\tfor{\n\t\t//value,\n\t\t//\n\t\tv := value\n\t\tif atomic.CompareAndSwapInt32(&value, v, v + delta){\n\t\t\tbreak\n\t\t}\n\t}\n}\n```\n\n- Load\n\n```go\nfunc addValue2(delta int32){\n    for{\n    \t//\n\t\tv := atomic.LoadInt32(&value)\n        if atomic.CompareAndSwapInt32(&value, v, v + delta){\n            //true,\n            break\n        }\n    }\n}\n```\n\n#### struct\n\n- \n- 1.4  `atomic.Value``unsafe.Pointer`\n\n```go\n// \n\ntype Config struct {\n\tAddr string\n\tPort string\n}\n\nfunc (c Config) String() string {\n\treturn c.Addr + \":\" + c.Port\n}\n\nfunc loadConfig() Config {\n\t// do something\n\treturn Config{}\n}\nfunc automicValue() {\n\tvar config atomic.Value\n\twg := sync.WaitGroup{}\n\tgo func() {\n\t\tfor {\n\t\t\ttime.Sleep(time.Millisecond)\n\t\t\tconfig.Store(loadConfig())\n\t\t}\n\t}()\n\n\tfor i := 0; i < 1000; i++ {\n\t\twg.Add(1)\n\t\tgo func() {\n\t\t\tc := config.Load().(Config)\n\t\t\tfmt.Println(c)\n\t\t\twg.Done()\n\t\t}()\n\t}\n\twg.Wait()\n}\n```\n\n#### atomic.Value \n\n`atomic``atomic.Value``atomic.Value``atomic`\n\n> ##### goroutine\n>\n> GoGMPGgoroutineMGPGGPCPU`runtime.GOMAXPROCS`\n>\n> GMruntimeMMGPGMruntimePGlocalqGglobalqPlocalqglobalqGMruntimeGGPlocalqglobalqGPP\n>\n> GGo runtimeG\n\n```go\n//atomic.Value\n\ntype Value struct {\n\tv interface{} // \n}\n\n//  interface{} interface{}\ntype ifaceWords struct {\n\ttyp  unsafe.Pointer\n\tdata unsafe.Pointer\n}\n\n// \nfunc (v *Value) Load() (x interface{}) {\n\tvp := (*ifaceWords)(unsafe.Pointer(v))\n\ttyp := LoadPointer(&vp.typ)\n\tif typ == nil || uintptr(typ) == ^uintptr(0) {\n\t\t// \n\t\treturn nil\n\t}\n  // interface{}\n\tdata := LoadPointer(&vp.data)\n\txp := (*ifaceWords)(unsafe.Pointer(&x))\n\txp.typ = typ\n\txp.data = data\n\treturn\n}\n\n// \nfunc (v *Value) Store(x interface{}) {\n\tif x == nil {\n\t\tpanic(\"sync/atomic: store of nil value into Value\")\n\t}\n  //  Go \n\tvp := (*ifaceWords)(unsafe.Pointer(v)) // \n\txp := (*ifaceWords)(unsafe.Pointer(&x)) // \n\tfor { // CompareAndSwap\n\t\ttyp := LoadPointer(&vp.typ)\n\t\tif typ == nil { // \n\t\t\truntime_procPin() // \n\t\t\tif !CompareAndSwapPointer(&vp.typ, nil, unsafe.Pointer(^uintptr(0))) {\n\t\t\t\truntime_procUnpin() // \n\t\t\t\tcontinue\n\t\t\t}\n\t\t\t// \n\t\t\tStorePointer(&vp.data, xp.data)\n\t\t\tStorePointer(&vp.typ, xp.typ)\n\t\t\truntime_procUnpin() // \n\t\t\treturn\n\t\t}\n\t\tif uintptr(typ) == ^uintptr(0) {\n\t\t\t// \n\t\t\tcontinue\n\t\t}\n\t\t// \n\t\tif typ != xp.typ {\n\t\t\tpanic(\"sync/atomic: store of inconsistently typed value into Value\")\n\t\t}\n\t\tStorePointer(&vp.data, xp.data)\n\t\treturn\n\t}\n}\n\n// GMPID\nfunc runtime_procPin()\n// GG\nfunc runtime_procUnpin()\n\n```\n\n---\n\n#### \n\n[Go](https://studygolang.com/pkgdoc)\n\n[Go  atomic.Value ](https://blog.betacat.io/post/golang-atomic-value-exploration/)\n\n[Go unsafe.Pointer uintptr](https://www.cnblogs.com/sunsky303/p/11820500.html)\n\n[Go 1.13sync.Pool](https://segmentfault.com/a/1190000021944703)\n\n[Go Slice ](https://segmentfault.com/a/1190000017783070)\n\n[Golang    GOMAXPROCS ](https://juejin.cn/post/6844903662553137165)\n\n[Golang](https://www.kancloud.cn/digest/batu-go/153537)","source":"_posts/2021-03-07-Golang-sync-atomic.md","raw":"---\ntitle: Golang sync/atomic\ndate: 2021-03-07 17:28:35\nauthor: \ntags: \n - Golang\n - atomic\ncategories: \n - \n---\nGo`sync/atomic`Go\n\n`Mutex`atomicCPUatomic`lock-free`CPU\n\n### \n\n- int32\n- int64\n- uint32\n- uint64\n- uintptr\n- unsafe.Pointer\n\n### \n\n-  AddXXX\n\n  ```go\n  *addr += delta\n  return *addr\n  ```\n\n-  CompareAndSwapXXX\n\n  ```go\n  if *addr == old {\n  \t*addr = new\n  \treturn true\n  }\n  return false\n  ```\n\n-  LoadXXX\n\n  ```go\n  return *addr\n  ```\n\n-  StoreXXX\n\n  ```go\n  *addr = val\n  ```\n\n-  SwapXXX\n\n  ```go\n  old = *addr\n  *addr = new\n  return old\n  ```\n\n\n\n### \n\nCPU(atomicity)CPU\n\nGo32int64(MOV)3232\n\n### \n********`atomic.Value`\n\n#### \n\n- 3232bug\n\n```go\n//,CAS\n//for\nvar value int32\n\nfunc addValue1(delta int32){\n\tfor{\n\t\t//value,\n\t\t//\n\t\tv := value\n\t\tif atomic.CompareAndSwapInt32(&value, v, v + delta){\n\t\t\tbreak\n\t\t}\n\t}\n}\n```\n\n- Load\n\n```go\nfunc addValue2(delta int32){\n    for{\n    \t//\n\t\tv := atomic.LoadInt32(&value)\n        if atomic.CompareAndSwapInt32(&value, v, v + delta){\n            //true,\n            break\n        }\n    }\n}\n```\n\n#### struct\n\n- \n- 1.4  `atomic.Value``unsafe.Pointer`\n\n```go\n// \n\ntype Config struct {\n\tAddr string\n\tPort string\n}\n\nfunc (c Config) String() string {\n\treturn c.Addr + \":\" + c.Port\n}\n\nfunc loadConfig() Config {\n\t// do something\n\treturn Config{}\n}\nfunc automicValue() {\n\tvar config atomic.Value\n\twg := sync.WaitGroup{}\n\tgo func() {\n\t\tfor {\n\t\t\ttime.Sleep(time.Millisecond)\n\t\t\tconfig.Store(loadConfig())\n\t\t}\n\t}()\n\n\tfor i := 0; i < 1000; i++ {\n\t\twg.Add(1)\n\t\tgo func() {\n\t\t\tc := config.Load().(Config)\n\t\t\tfmt.Println(c)\n\t\t\twg.Done()\n\t\t}()\n\t}\n\twg.Wait()\n}\n```\n\n#### atomic.Value \n\n`atomic``atomic.Value``atomic.Value``atomic`\n\n> ##### goroutine\n>\n> GoGMPGgoroutineMGPGGPCPU`runtime.GOMAXPROCS`\n>\n> GMruntimeMMGPGMruntimePGlocalqGglobalqPlocalqglobalqGMruntimeGGPlocalqglobalqGPP\n>\n> GGo runtimeG\n\n```go\n//atomic.Value\n\ntype Value struct {\n\tv interface{} // \n}\n\n//  interface{} interface{}\ntype ifaceWords struct {\n\ttyp  unsafe.Pointer\n\tdata unsafe.Pointer\n}\n\n// \nfunc (v *Value) Load() (x interface{}) {\n\tvp := (*ifaceWords)(unsafe.Pointer(v))\n\ttyp := LoadPointer(&vp.typ)\n\tif typ == nil || uintptr(typ) == ^uintptr(0) {\n\t\t// \n\t\treturn nil\n\t}\n  // interface{}\n\tdata := LoadPointer(&vp.data)\n\txp := (*ifaceWords)(unsafe.Pointer(&x))\n\txp.typ = typ\n\txp.data = data\n\treturn\n}\n\n// \nfunc (v *Value) Store(x interface{}) {\n\tif x == nil {\n\t\tpanic(\"sync/atomic: store of nil value into Value\")\n\t}\n  //  Go \n\tvp := (*ifaceWords)(unsafe.Pointer(v)) // \n\txp := (*ifaceWords)(unsafe.Pointer(&x)) // \n\tfor { // CompareAndSwap\n\t\ttyp := LoadPointer(&vp.typ)\n\t\tif typ == nil { // \n\t\t\truntime_procPin() // \n\t\t\tif !CompareAndSwapPointer(&vp.typ, nil, unsafe.Pointer(^uintptr(0))) {\n\t\t\t\truntime_procUnpin() // \n\t\t\t\tcontinue\n\t\t\t}\n\t\t\t// \n\t\t\tStorePointer(&vp.data, xp.data)\n\t\t\tStorePointer(&vp.typ, xp.typ)\n\t\t\truntime_procUnpin() // \n\t\t\treturn\n\t\t}\n\t\tif uintptr(typ) == ^uintptr(0) {\n\t\t\t// \n\t\t\tcontinue\n\t\t}\n\t\t// \n\t\tif typ != xp.typ {\n\t\t\tpanic(\"sync/atomic: store of inconsistently typed value into Value\")\n\t\t}\n\t\tStorePointer(&vp.data, xp.data)\n\t\treturn\n\t}\n}\n\n// GMPID\nfunc runtime_procPin()\n// GG\nfunc runtime_procUnpin()\n\n```\n\n---\n\n#### \n\n[Go](https://studygolang.com/pkgdoc)\n\n[Go  atomic.Value ](https://blog.betacat.io/post/golang-atomic-value-exploration/)\n\n[Go unsafe.Pointer uintptr](https://www.cnblogs.com/sunsky303/p/11820500.html)\n\n[Go 1.13sync.Pool](https://segmentfault.com/a/1190000021944703)\n\n[Go Slice ](https://segmentfault.com/a/1190000017783070)\n\n[Golang    GOMAXPROCS ](https://juejin.cn/post/6844903662553137165)\n\n[Golang](https://www.kancloud.cn/digest/batu-go/153537)","slug":"Golang-sync-atomic","published":1,"updated":"2021-03-07T09:37:01.575Z","_id":"cklz07vg4000t6rs6btkp978s","comments":1,"layout":"post","photos":[],"link":"","content":"<p>Go<code>sync/atomic</code>Go</p>\n<p><code>Mutex</code>atomicCPUatomic<code>lock-free</code>CPU</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>int32</li>\n<li>int64</li>\n<li>uint32</li>\n<li>uint64</li>\n<li>uintptr</li>\n<li>unsafe.Pointer</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p> AddXXX</p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token operator\">*</span>addr <span class=\"token operator\">+=</span> delta\n<span class=\"token keyword\">return</span> <span class=\"token operator\">*</span>addr<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><p> CompareAndSwapXXX</p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">if</span> <span class=\"token operator\">*</span>addr <span class=\"token operator\">==</span> old <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token operator\">*</span>addr <span class=\"token operator\">=</span> <span class=\"token builtin\">new</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p> LoadXXX</p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">return</span> <span class=\"token operator\">*</span>addr<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p> StoreXXX</p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token operator\">*</span>addr <span class=\"token operator\">=</span> val<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p> SwapXXX</p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">old <span class=\"token operator\">=</span> <span class=\"token operator\">*</span>addr\n<span class=\"token operator\">*</span>addr <span class=\"token operator\">=</span> <span class=\"token builtin\">new</span>\n<span class=\"token keyword\">return</span> old<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>CPU(atomicity)CPU</p>\n<p>Go32int64(MOV)3232</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong><strong></strong><code>atomic.Value</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>3232bug</li>\n</ul>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">//,CAS</span>\n<span class=\"token comment\">//for</span>\n<span class=\"token keyword\">var</span> value <span class=\"token builtin\">int32</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">addValue1</span><span class=\"token punctuation\">(</span>delta <span class=\"token builtin\">int32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">for</span><span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token comment\">//value,</span>\n\t\t<span class=\"token comment\">//</span>\n\t\tv <span class=\"token operator\">:=</span> value\n\t\t<span class=\"token keyword\">if</span> atomic<span class=\"token punctuation\">.</span><span class=\"token function\">CompareAndSwapInt32</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>value<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">,</span> v <span class=\"token operator\">+</span> delta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t\t\t<span class=\"token keyword\">break</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>Load</li>\n</ul>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">addValue2</span><span class=\"token punctuation\">(</span>delta <span class=\"token builtin\">int32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">for</span><span class=\"token punctuation\">&#123;</span>\n    \t<span class=\"token comment\">//</span>\n\t\tv <span class=\"token operator\">:=</span> atomic<span class=\"token punctuation\">.</span><span class=\"token function\">LoadInt32</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>value<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> atomic<span class=\"token punctuation\">.</span><span class=\"token function\">CompareAndSwapInt32</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>value<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">,</span> v <span class=\"token operator\">+</span> delta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n            <span class=\"token comment\">//true,</span>\n            <span class=\"token keyword\">break</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"struct\"><a href=\"#struct\" class=\"headerlink\" title=\"struct\"></a>struct</h4><ul>\n<li></li>\n<li>1.4  <code>atomic.Value</code><code>unsafe.Pointer</code></li>\n</ul>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// </span>\n\n<span class=\"token keyword\">type</span> Config <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tAddr <span class=\"token builtin\">string</span>\n\tPort <span class=\"token builtin\">string</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>c Config<span class=\"token punctuation\">)</span> <span class=\"token function\">String</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">return</span> c<span class=\"token punctuation\">.</span>Addr <span class=\"token operator\">+</span> <span class=\"token string\">\":\"</span> <span class=\"token operator\">+</span> c<span class=\"token punctuation\">.</span>Port\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">loadConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> Config <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token comment\">// do something</span>\n\t<span class=\"token keyword\">return</span> Config<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">automicValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">var</span> config atomic<span class=\"token punctuation\">.</span>Value\n\twg <span class=\"token operator\">:=</span> sync<span class=\"token punctuation\">.</span>WaitGroup<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">go</span> <span class=\"token keyword\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\ttime<span class=\"token punctuation\">.</span><span class=\"token function\">Sleep</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>Millisecond<span class=\"token punctuation\">)</span>\n\t\t\tconfig<span class=\"token punctuation\">.</span><span class=\"token function\">Store</span><span class=\"token punctuation\">(</span><span class=\"token function\">loadConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\t<span class=\"token keyword\">for</span> i <span class=\"token operator\">:=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span> <span class=\"token punctuation\">&#123;</span>\n\t\twg<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">go</span> <span class=\"token keyword\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\tc <span class=\"token operator\">:=</span> config<span class=\"token punctuation\">.</span><span class=\"token function\">Load</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>Config<span class=\"token punctuation\">)</span>\n\t\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span>\n\t\t\twg<span class=\"token punctuation\">.</span><span class=\"token function\">Done</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\twg<span class=\"token punctuation\">.</span><span class=\"token function\">Wait</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"atomic-Value-\"><a href=\"#atomic-Value-\" class=\"headerlink\" title=\"atomic.Value \"></a>atomic.Value </h4><p><code>atomic</code><code>atomic.Value</code><code>atomic.Value</code><code>atomic</code></p>\n<blockquote>\n<h5 id=\"goroutine\"><a href=\"#goroutine\" class=\"headerlink\" title=\"goroutine\"></a>goroutine</h5><p>GoGMPGgoroutineMGPGGPCPU<code>runtime.GOMAXPROCS</code></p>\n<p>GMruntimeMMGPGMruntimePGlocalqGglobalqPlocalqglobalqGMruntimeGGPlocalqglobalqGPP</p>\n<p>GGo runtimeG</p>\n</blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">//atomic.Value</span>\n\n<span class=\"token keyword\">type</span> Value <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tv <span class=\"token keyword\">interface</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span> <span class=\"token comment\">// </span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">//  interface&#123;&#125; interface&#123;&#125;</span>\n<span class=\"token keyword\">type</span> ifaceWords <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\ttyp  unsafe<span class=\"token punctuation\">.</span>Pointer\n\tdata unsafe<span class=\"token punctuation\">.</span>Pointer\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>v <span class=\"token operator\">*</span>Value<span class=\"token punctuation\">)</span> <span class=\"token function\">Load</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>x <span class=\"token keyword\">interface</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\tvp <span class=\"token operator\">:=</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>ifaceWords<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>unsafe<span class=\"token punctuation\">.</span><span class=\"token function\">Pointer</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\ttyp <span class=\"token operator\">:=</span> <span class=\"token function\">LoadPointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>vp<span class=\"token punctuation\">.</span>typ<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> typ <span class=\"token operator\">==</span> <span class=\"token boolean\">nil</span> <span class=\"token operator\">||</span> <span class=\"token function\">uintptr</span><span class=\"token punctuation\">(</span>typ<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token operator\">^</span><span class=\"token function\">uintptr</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token comment\">// </span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">nil</span>\n\t<span class=\"token punctuation\">&#125;</span>\n  <span class=\"token comment\">// interface&#123;&#125;</span>\n\tdata <span class=\"token operator\">:=</span> <span class=\"token function\">LoadPointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>vp<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n\txp <span class=\"token operator\">:=</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>ifaceWords<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>unsafe<span class=\"token punctuation\">.</span><span class=\"token function\">Pointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\txp<span class=\"token punctuation\">.</span>typ <span class=\"token operator\">=</span> typ\n\txp<span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> data\n\t<span class=\"token keyword\">return</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>v <span class=\"token operator\">*</span>Value<span class=\"token punctuation\">)</span> <span class=\"token function\">Store</span><span class=\"token punctuation\">(</span>x <span class=\"token keyword\">interface</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> x <span class=\"token operator\">==</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token function\">panic</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sync/atomic: store of nil value into Value\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n  <span class=\"token comment\">//  Go </span>\n\tvp <span class=\"token operator\">:=</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>ifaceWords<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>unsafe<span class=\"token punctuation\">.</span><span class=\"token function\">Pointer</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n\txp <span class=\"token operator\">:=</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>ifaceWords<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>unsafe<span class=\"token punctuation\">.</span><span class=\"token function\">Pointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// CompareAndSwap</span>\n\t\ttyp <span class=\"token operator\">:=</span> <span class=\"token function\">LoadPointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>vp<span class=\"token punctuation\">.</span>typ<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">if</span> typ <span class=\"token operator\">==</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// </span>\n\t\t\t<span class=\"token function\">runtime_procPin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token operator\">!</span><span class=\"token function\">CompareAndSwapPointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>vp<span class=\"token punctuation\">.</span>typ<span class=\"token punctuation\">,</span> <span class=\"token boolean\">nil</span><span class=\"token punctuation\">,</span> unsafe<span class=\"token punctuation\">.</span><span class=\"token function\">Pointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">^</span><span class=\"token function\">uintptr</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\t<span class=\"token function\">runtime_procUnpin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n\t\t\t\t<span class=\"token keyword\">continue</span>\n\t\t\t<span class=\"token punctuation\">&#125;</span>\n\t\t\t<span class=\"token comment\">// </span>\n\t\t\t<span class=\"token function\">StorePointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>vp<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">,</span> xp<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token function\">StorePointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>vp<span class=\"token punctuation\">.</span>typ<span class=\"token punctuation\">,</span> xp<span class=\"token punctuation\">.</span>typ<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token function\">runtime_procUnpin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n\t\t\t<span class=\"token keyword\">return</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token function\">uintptr</span><span class=\"token punctuation\">(</span>typ<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token operator\">^</span><span class=\"token function\">uintptr</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t<span class=\"token comment\">// </span>\n\t\t\t<span class=\"token keyword\">continue</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t\t<span class=\"token comment\">// </span>\n\t\t<span class=\"token keyword\">if</span> typ <span class=\"token operator\">!=</span> xp<span class=\"token punctuation\">.</span>typ <span class=\"token punctuation\">&#123;</span>\n\t\t\t<span class=\"token function\">panic</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sync/atomic: store of inconsistently typed value into Value\"</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t\t<span class=\"token function\">StorePointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>vp<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">,</span> xp<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">return</span>\n\t<span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// GMPID</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">runtime_procPin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// GG</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">runtime_procUnpin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://studygolang.com/pkgdoc\">Go</a></p>\n<p><a href=\"https://blog.betacat.io/post/golang-atomic-value-exploration/\">Go  atomic.Value </a></p>\n<p><a href=\"https://www.cnblogs.com/sunsky303/p/11820500.html\">Go unsafe.Pointer uintptr</a></p>\n<p><a href=\"https://segmentfault.com/a/1190000021944703\">Go 1.13sync.Pool</a></p>\n<p><a href=\"https://segmentfault.com/a/1190000017783070\">Go Slice </a></p>\n<p><a href=\"https://juejin.cn/post/6844903662553137165\">Golang    GOMAXPROCS </a></p>\n<p><a href=\"https://www.kancloud.cn/digest/batu-go/153537\">Golang</a></p>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<p>Go<code>sync/atomic</code>Go</p>\n<p><code>Mutex</code>atomicCPUatomic<code>lock-free</code>CPU</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>int32</li>\n<li>int64</li>\n<li>uint32</li>\n<li>uint64</li>\n<li>uintptr</li>\n<li>unsafe.Pointer</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p> AddXXX</p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token operator\">*</span>addr <span class=\"token operator\">+=</span> delta\n<span class=\"token keyword\">return</span> <span class=\"token operator\">*</span>addr<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><p> CompareAndSwapXXX</p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">if</span> <span class=\"token operator\">*</span>addr <span class=\"token operator\">==</span> old <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token operator\">*</span>addr <span class=\"token operator\">=</span> <span class=\"token builtin\">new</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p> LoadXXX</p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">return</span> <span class=\"token operator\">*</span>addr<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p> StoreXXX</p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token operator\">*</span>addr <span class=\"token operator\">=</span> val<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p> SwapXXX</p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">old <span class=\"token operator\">=</span> <span class=\"token operator\">*</span>addr\n<span class=\"token operator\">*</span>addr <span class=\"token operator\">=</span> <span class=\"token builtin\">new</span>\n<span class=\"token keyword\">return</span> old<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>CPU(atomicity)CPU</p>\n<p>Go32int64(MOV)3232</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><strong></strong><strong></strong><code>atomic.Value</code></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>3232bug</li>\n</ul>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">//,CAS</span>\n<span class=\"token comment\">//for</span>\n<span class=\"token keyword\">var</span> value <span class=\"token builtin\">int32</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">addValue1</span><span class=\"token punctuation\">(</span>delta <span class=\"token builtin\">int32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">for</span><span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token comment\">//value,</span>\n\t\t<span class=\"token comment\">//</span>\n\t\tv <span class=\"token operator\">:=</span> value\n\t\t<span class=\"token keyword\">if</span> atomic<span class=\"token punctuation\">.</span><span class=\"token function\">CompareAndSwapInt32</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>value<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">,</span> v <span class=\"token operator\">+</span> delta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t\t\t<span class=\"token keyword\">break</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>Load</li>\n</ul>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">addValue2</span><span class=\"token punctuation\">(</span>delta <span class=\"token builtin\">int32</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token keyword\">for</span><span class=\"token punctuation\">&#123;</span>\n    \t<span class=\"token comment\">//</span>\n\t\tv <span class=\"token operator\">:=</span> atomic<span class=\"token punctuation\">.</span><span class=\"token function\">LoadInt32</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>value<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> atomic<span class=\"token punctuation\">.</span><span class=\"token function\">CompareAndSwapInt32</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>value<span class=\"token punctuation\">,</span> v<span class=\"token punctuation\">,</span> v <span class=\"token operator\">+</span> delta<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n            <span class=\"token comment\">//true,</span>\n            <span class=\"token keyword\">break</span>\n        <span class=\"token punctuation\">&#125;</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"struct\"><a href=\"#struct\" class=\"headerlink\" title=\"struct\"></a>struct</h4><ul>\n<li></li>\n<li>1.4  <code>atomic.Value</code><code>unsafe.Pointer</code></li>\n</ul>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// </span>\n\n<span class=\"token keyword\">type</span> Config <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tAddr <span class=\"token builtin\">string</span>\n\tPort <span class=\"token builtin\">string</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>c Config<span class=\"token punctuation\">)</span> <span class=\"token function\">String</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">return</span> c<span class=\"token punctuation\">.</span>Addr <span class=\"token operator\">+</span> <span class=\"token string\">\":\"</span> <span class=\"token operator\">+</span> c<span class=\"token punctuation\">.</span>Port\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">loadConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> Config <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token comment\">// do something</span>\n\t<span class=\"token keyword\">return</span> Config<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">automicValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">var</span> config atomic<span class=\"token punctuation\">.</span>Value\n\twg <span class=\"token operator\">:=</span> sync<span class=\"token punctuation\">.</span>WaitGroup<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">go</span> <span class=\"token keyword\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\ttime<span class=\"token punctuation\">.</span><span class=\"token function\">Sleep</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>Millisecond<span class=\"token punctuation\">)</span>\n\t\t\tconfig<span class=\"token punctuation\">.</span><span class=\"token function\">Store</span><span class=\"token punctuation\">(</span><span class=\"token function\">loadConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\t<span class=\"token keyword\">for</span> i <span class=\"token operator\">:=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span> <span class=\"token punctuation\">&#123;</span>\n\t\twg<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">go</span> <span class=\"token keyword\">func</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\tc <span class=\"token operator\">:=</span> config<span class=\"token punctuation\">.</span><span class=\"token function\">Load</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">(</span>Config<span class=\"token punctuation\">)</span>\n\t\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span>\n\t\t\twg<span class=\"token punctuation\">.</span><span class=\"token function\">Done</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\twg<span class=\"token punctuation\">.</span><span class=\"token function\">Wait</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"atomic-Value-\"><a href=\"#atomic-Value-\" class=\"headerlink\" title=\"atomic.Value \"></a>atomic.Value </h4><p><code>atomic</code><code>atomic.Value</code><code>atomic.Value</code><code>atomic</code></p>\n<blockquote>\n<h5 id=\"goroutine\"><a href=\"#goroutine\" class=\"headerlink\" title=\"goroutine\"></a>goroutine</h5><p>GoGMPGgoroutineMGPGGPCPU<code>runtime.GOMAXPROCS</code></p>\n<p>GMruntimeMMGPGMruntimePGlocalqGglobalqPlocalqglobalqGMruntimeGGPlocalqglobalqGPP</p>\n<p>GGo runtimeG</p>\n</blockquote>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">//atomic.Value</span>\n\n<span class=\"token keyword\">type</span> Value <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tv <span class=\"token keyword\">interface</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span> <span class=\"token comment\">// </span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">//  interface&#123;&#125; interface&#123;&#125;</span>\n<span class=\"token keyword\">type</span> ifaceWords <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\ttyp  unsafe<span class=\"token punctuation\">.</span>Pointer\n\tdata unsafe<span class=\"token punctuation\">.</span>Pointer\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>v <span class=\"token operator\">*</span>Value<span class=\"token punctuation\">)</span> <span class=\"token function\">Load</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>x <span class=\"token keyword\">interface</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\tvp <span class=\"token operator\">:=</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>ifaceWords<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>unsafe<span class=\"token punctuation\">.</span><span class=\"token function\">Pointer</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\ttyp <span class=\"token operator\">:=</span> <span class=\"token function\">LoadPointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>vp<span class=\"token punctuation\">.</span>typ<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> typ <span class=\"token operator\">==</span> <span class=\"token boolean\">nil</span> <span class=\"token operator\">||</span> <span class=\"token function\">uintptr</span><span class=\"token punctuation\">(</span>typ<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token operator\">^</span><span class=\"token function\">uintptr</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token comment\">// </span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">nil</span>\n\t<span class=\"token punctuation\">&#125;</span>\n  <span class=\"token comment\">// interface&#123;&#125;</span>\n\tdata <span class=\"token operator\">:=</span> <span class=\"token function\">LoadPointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>vp<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n\txp <span class=\"token operator\">:=</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>ifaceWords<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>unsafe<span class=\"token punctuation\">.</span><span class=\"token function\">Pointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\txp<span class=\"token punctuation\">.</span>typ <span class=\"token operator\">=</span> typ\n\txp<span class=\"token punctuation\">.</span>data <span class=\"token operator\">=</span> data\n\t<span class=\"token keyword\">return</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>v <span class=\"token operator\">*</span>Value<span class=\"token punctuation\">)</span> <span class=\"token function\">Store</span><span class=\"token punctuation\">(</span>x <span class=\"token keyword\">interface</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> x <span class=\"token operator\">==</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token function\">panic</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sync/atomic: store of nil value into Value\"</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n  <span class=\"token comment\">//  Go </span>\n\tvp <span class=\"token operator\">:=</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>ifaceWords<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>unsafe<span class=\"token punctuation\">.</span><span class=\"token function\">Pointer</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n\txp <span class=\"token operator\">:=</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>ifaceWords<span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>unsafe<span class=\"token punctuation\">.</span><span class=\"token function\">Pointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n\t<span class=\"token keyword\">for</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// CompareAndSwap</span>\n\t\ttyp <span class=\"token operator\">:=</span> <span class=\"token function\">LoadPointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>vp<span class=\"token punctuation\">.</span>typ<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">if</span> typ <span class=\"token operator\">==</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// </span>\n\t\t\t<span class=\"token function\">runtime_procPin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n\t\t\t<span class=\"token keyword\">if</span> <span class=\"token operator\">!</span><span class=\"token function\">CompareAndSwapPointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>vp<span class=\"token punctuation\">.</span>typ<span class=\"token punctuation\">,</span> <span class=\"token boolean\">nil</span><span class=\"token punctuation\">,</span> unsafe<span class=\"token punctuation\">.</span><span class=\"token function\">Pointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">^</span><span class=\"token function\">uintptr</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\t<span class=\"token function\">runtime_procUnpin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n\t\t\t\t<span class=\"token keyword\">continue</span>\n\t\t\t<span class=\"token punctuation\">&#125;</span>\n\t\t\t<span class=\"token comment\">// </span>\n\t\t\t<span class=\"token function\">StorePointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>vp<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">,</span> xp<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token function\">StorePointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>vp<span class=\"token punctuation\">.</span>typ<span class=\"token punctuation\">,</span> xp<span class=\"token punctuation\">.</span>typ<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token function\">runtime_procUnpin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n\t\t\t<span class=\"token keyword\">return</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t\t<span class=\"token keyword\">if</span> <span class=\"token function\">uintptr</span><span class=\"token punctuation\">(</span>typ<span class=\"token punctuation\">)</span> <span class=\"token operator\">==</span> <span class=\"token operator\">^</span><span class=\"token function\">uintptr</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t<span class=\"token comment\">// </span>\n\t\t\t<span class=\"token keyword\">continue</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t\t<span class=\"token comment\">// </span>\n\t\t<span class=\"token keyword\">if</span> typ <span class=\"token operator\">!=</span> xp<span class=\"token punctuation\">.</span>typ <span class=\"token punctuation\">&#123;</span>\n\t\t\t<span class=\"token function\">panic</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sync/atomic: store of inconsistently typed value into Value\"</span><span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t\t<span class=\"token function\">StorePointer</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&amp;</span>vp<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">,</span> xp<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">return</span>\n\t<span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// GMPID</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">runtime_procPin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">// GG</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">runtime_procUnpin</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<hr>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://studygolang.com/pkgdoc\">Go</a></p>\n<p><a href=\"https://blog.betacat.io/post/golang-atomic-value-exploration/\">Go  atomic.Value </a></p>\n<p><a href=\"https://www.cnblogs.com/sunsky303/p/11820500.html\">Go unsafe.Pointer uintptr</a></p>\n<p><a href=\"https://segmentfault.com/a/1190000021944703\">Go 1.13sync.Pool</a></p>\n<p><a href=\"https://segmentfault.com/a/1190000017783070\">Go Slice </a></p>\n<p><a href=\"https://juejin.cn/post/6844903662553137165\">Golang    GOMAXPROCS </a></p>\n<p><a href=\"https://www.kancloud.cn/digest/batu-go/153537\">Golang</a></p>\n"},{"title":"Mysql-","comments":1,"date":"2021-03-07T10:26:33.000Z","author":null,"_content":"### \n#### \n\n- hot backup \n\n  \n\n- cold backup \n\n  \n\n  MySQL\n\n  \n\n- warm backup \n\n  \n\n#### \n\n- \n\n  SQL\n\n- \n\n  \n\n#### \n\n- \n\n  \n\n- \n\n  \n\n- \n\n  point-in-time\n\n### \n\n#### \n\n\n\n1. \n2. relay log)\n3. \n\n![](https://img-blog.csdnimg.cn/20200505105757299.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center)\n\n\n#### \n\n1. \n\n   \n\n2. \n\n   \n\n3. \n\n   \n\n4. \n\n   \n","source":"_posts/2021-03-07-Mysql-.md","raw":"---\ntitle: Mysql-\ncomments: true\ndate: 2021-03-07 18:26:33\nauthor:\ntags:\n - Mysql\ncategories:\n - \n---\n### \n#### \n\n- hot backup \n\n  \n\n- cold backup \n\n  \n\n  MySQL\n\n  \n\n- warm backup \n\n  \n\n#### \n\n- \n\n  SQL\n\n- \n\n  \n\n#### \n\n- \n\n  \n\n- \n\n  \n\n- \n\n  point-in-time\n\n### \n\n#### \n\n\n\n1. \n2. relay log)\n3. \n\n![](https://img-blog.csdnimg.cn/20200505105757299.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center)\n\n\n#### \n\n1. \n\n   \n\n2. \n\n   \n\n3. \n\n   \n\n4. \n\n   \n","slug":"Mysql-","published":1,"updated":"2021-03-07T10:27:11.193Z","_id":"cklz0gflb001k6rs6heyldfdz","layout":"post","photos":[],"link":"","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p>hot backup </p>\n<p></p>\n</li>\n<li><p>cold backup </p>\n<p></p>\n<p>MySQL</p>\n<p></p>\n</li>\n<li><p>warm backup </p>\n<p></p>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p></p>\n<p>SQL</p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p>point-in-time</p>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ol>\n<li></li>\n<li>relay log)</li>\n<li></li>\n</ol>\n<p><img src=\"https://img-blog.csdnimg.cn/20200505105757299.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n</ol>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p>hot backup </p>\n<p></p>\n</li>\n<li><p>cold backup </p>\n<p></p>\n<p>MySQL</p>\n<p></p>\n</li>\n<li><p>warm backup </p>\n<p></p>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p></p>\n<p>SQL</p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p>point-in-time</p>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<ol>\n<li></li>\n<li>relay log)</li>\n<li></li>\n</ol>\n<p><img src=\"https://img-blog.csdnimg.cn/20200505105757299.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n</ol>\n"},{"title":"Mysql-","comments":1,"date":"2021-03-07T10:27:51.000Z","author":null,"_content":"\n### \n\n\n\n### ACID\n\n-  atomicity\n\n  \n\n-  consistency\n\n- 1010010100\n\n-  isolation\n\n  \n\n-  durability\n\n  \n\n### \n\n#### redo\n\nredo)InnoDB Log BufferWrite-Ahead LoggingWAL\n\n- LSNLog Sequence Number\n\n- InnoDB\n\n- InnoDB\n\n  `show engine innodb status`\n  \n  ```mysql\n  show engine innodb status\\G;\n  \n  ---\n  LOG\n  ---\n  Log sequence number 77292702 # LSN\n  Log flushed up to   77292702 # LSN\n  Pages flushed up to 77292702\n  Last checkpoint at  77292702 # LSN\n  0 pending log writes, 0 pending chkp writes\n  8 log i/o's done, 0.00 log i/o's/second\n  ```\n\n### undo\n\nundoundoredoredoundo\n\nredoundosegmentundoundo segmentundue\n\nundo\n\n### \n\n- begin\n- commit\n- rollback\n\n### \n\n-  read uncommitted\n\n  \n\n-  read committed\n\n  \n\n-  repeatable read\n\n  InnoDBInnoDB`next-key`\n\n-  serializable\n\n  InnoDBselect`lock in share mode`InnoDBrrserializable\n\n#### \n\n- ```mysql\n  select @@tx_isolation\\G;\n  select @@global.tx_isolation\\G;\n  ```\n\n\n#### \n\n\n\n`two-phase commit`rollbackcommit\n\n- \n\n  \n\n- \n\n  \n\n- \n\n  ","source":"_posts/2021-03-07-Mysql-.md","raw":"---\ntitle: Mysql-\ncomments: true\ndate: 2021-03-07 18:27:51\nauthor:\ntags:\n - Mysql\ncategories:\n - \n---\n\n### \n\n\n\n### ACID\n\n-  atomicity\n\n  \n\n-  consistency\n\n- 1010010100\n\n-  isolation\n\n  \n\n-  durability\n\n  \n\n### \n\n#### redo\n\nredo)InnoDB Log BufferWrite-Ahead LoggingWAL\n\n- LSNLog Sequence Number\n\n- InnoDB\n\n- InnoDB\n\n  `show engine innodb status`\n  \n  ```mysql\n  show engine innodb status\\G;\n  \n  ---\n  LOG\n  ---\n  Log sequence number 77292702 # LSN\n  Log flushed up to   77292702 # LSN\n  Pages flushed up to 77292702\n  Last checkpoint at  77292702 # LSN\n  0 pending log writes, 0 pending chkp writes\n  8 log i/o's done, 0.00 log i/o's/second\n  ```\n\n### undo\n\nundoundoredoredoundo\n\nredoundosegmentundoundo segmentundue\n\nundo\n\n### \n\n- begin\n- commit\n- rollback\n\n### \n\n-  read uncommitted\n\n  \n\n-  read committed\n\n  \n\n-  repeatable read\n\n  InnoDBInnoDB`next-key`\n\n-  serializable\n\n  InnoDBselect`lock in share mode`InnoDBrrserializable\n\n#### \n\n- ```mysql\n  select @@tx_isolation\\G;\n  select @@global.tx_isolation\\G;\n  ```\n\n\n#### \n\n\n\n`two-phase commit`rollbackcommit\n\n- \n\n  \n\n- \n\n  \n\n- \n\n  ","slug":"Mysql-","published":1,"updated":"2021-03-07T10:28:20.669Z","_id":"cklz0i42u001p6rs6fliparsn","layout":"post","photos":[],"link":"","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"ACID\"><a href=\"#ACID\" class=\"headerlink\" title=\"ACID\"></a>ACID</h3><ul>\n<li><p> atomicity</p>\n<p></p>\n</li>\n<li><p> consistency</p>\n</li>\n<li><p>1010010100</p>\n</li>\n<li><p> isolation</p>\n<p></p>\n</li>\n<li><p> durability</p>\n<p></p>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"redo\"><a href=\"#redo\" class=\"headerlink\" title=\"redo\"></a>redo</h4><p>redo)InnoDB Log BufferWrite-Ahead LoggingWAL</p>\n<ul>\n<li><p>LSNLog Sequence Number</p>\n</li>\n<li><p>InnoDB</p>\n</li>\n<li><p>InnoDB</p>\n<p><code>show engine innodb status</code></p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show engine innodb status\\G;\n\n---\nLOG\n---\nLog sequence number 77292702 # LSN\nLog flushed up to   77292702 # LSN\nPages flushed up to 77292702\nLast checkpoint at  77292702 # LSN\n0 pending log writes, 0 pending chkp writes\n8 log i&#x2F;o&#39;s done, 0.00 log i&#x2F;o&#39;s&#x2F;second<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"undo\"><a href=\"#undo\" class=\"headerlink\" title=\"undo\"></a>undo</h3><p>undoundoredoredoundo</p>\n<p>redoundosegmentundoundo segmentundue</p>\n<p>undo</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>begin</li>\n<li>commit</li>\n<li>rollback</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p> read uncommitted</p>\n<p></p>\n</li>\n<li><p> read committed</p>\n<p></p>\n</li>\n<li><p> repeatable read</p>\n<p>InnoDBInnoDB<code>next-key</code></p>\n</li>\n<li><p> serializable</p>\n<p>InnoDBselect<code>lock in share mode</code>InnoDBrrserializable</p>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><pre><code class=\"mysql\">select @@tx_isolation\\G;\nselect @@global.tx_isolation\\G;\n</code></pre>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p><code>two-phase commit</code>rollbackcommit</p>\n<ul>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<h3 id=\"ACID\"><a href=\"#ACID\" class=\"headerlink\" title=\"ACID\"></a>ACID</h3><ul>\n<li><p> atomicity</p>\n<p></p>\n</li>\n<li><p> consistency</p>\n</li>\n<li><p>1010010100</p>\n</li>\n<li><p> isolation</p>\n<p></p>\n</li>\n<li><p> durability</p>\n<p></p>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"redo\"><a href=\"#redo\" class=\"headerlink\" title=\"redo\"></a>redo</h4><p>redo)InnoDB Log BufferWrite-Ahead LoggingWAL</p>\n<ul>\n<li><p>LSNLog Sequence Number</p>\n</li>\n<li><p>InnoDB</p>\n</li>\n<li><p>InnoDB</p>\n<p><code>show engine innodb status</code></p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show engine innodb status\\G;\n\n---\nLOG\n---\nLog sequence number 77292702 # LSN\nLog flushed up to   77292702 # LSN\nPages flushed up to 77292702\nLast checkpoint at  77292702 # LSN\n0 pending log writes, 0 pending chkp writes\n8 log i&#x2F;o&#39;s done, 0.00 log i&#x2F;o&#39;s&#x2F;second<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"undo\"><a href=\"#undo\" class=\"headerlink\" title=\"undo\"></a>undo</h3><p>undoundoredoredoundo</p>\n<p>redoundosegmentundoundo segmentundue</p>\n<p>undo</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>begin</li>\n<li>commit</li>\n<li>rollback</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p> read uncommitted</p>\n<p></p>\n</li>\n<li><p> read committed</p>\n<p></p>\n</li>\n<li><p> repeatable read</p>\n<p>InnoDBInnoDB<code>next-key</code></p>\n</li>\n<li><p> serializable</p>\n<p>InnoDBselect<code>lock in share mode</code>InnoDBrrserializable</p>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><pre><code class=\"mysql\">select @@tx_isolation\\G;\nselect @@global.tx_isolation\\G;\n</code></pre>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p></p>\n<p><code>two-phase commit</code>rollbackcommit</p>\n<ul>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n</ul>\n"},{"title":"Mysql-","comments":1,"date":"2021-03-07T10:28:56.000Z","author":null,"_content":"\n### B+\n\n- \n\n  MySQL\n\n  InnoDBS\n\n### B+\n\n- \n\n  \n\n- \n\n  \n\n- \n\n  I/OI/OIOPS\n\n  > 1. \n  >\n  >    ==13==LRUInnoDB\n  >\n  >    InnoDB Plugin 1.0.4\n  >\n  > 2. \n  >\n  >    NInnoDB\n  >\n  >    N`innodb_read_ahead_threshold`56\n\n### \n\n- InnoDB\n\n  InnoDB ==h(k)=k mod m== \n\n  Pagechain\n\n  m2\n\n  \n\n\n","source":"_posts/2021-03-07-Mysql-.md","raw":"---\ntitle: Mysql-\ncomments: true\ndate: 2021-03-07 18:28:56\nauthor:\ntags:\n - Mysql\ncategories:\n - \n---\n\n### B+\n\n- \n\n  MySQL\n\n  InnoDBS\n\n### B+\n\n- \n\n  \n\n- \n\n  \n\n- \n\n  I/OI/OIOPS\n\n  > 1. \n  >\n  >    ==13==LRUInnoDB\n  >\n  >    InnoDB Plugin 1.0.4\n  >\n  > 2. \n  >\n  >    NInnoDB\n  >\n  >    N`innodb_read_ahead_threshold`56\n\n### \n\n- InnoDB\n\n  InnoDB ==h(k)=k mod m== \n\n  Pagechain\n\n  m2\n\n  \n\n\n","slug":"Mysql-","published":1,"updated":"2021-03-07T10:29:21.870Z","_id":"cklz0ji13001s6rs6bddo8pxq","layout":"post","photos":[],"link":"","content":"<h3 id=\"B-\"><a href=\"#B-\" class=\"headerlink\" title=\"B+\"></a>B+</h3><ul>\n<li><p></p>\n<p>MySQL</p>\n<p>InnoDBS</p>\n</li>\n</ul>\n<h3 id=\"B-\"><a href=\"#B-\" class=\"headerlink\" title=\"B+\"></a>B+</h3><ul>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p>I/OI/OIOPS</p>\n<blockquote>\n<ol>\n<li><p></p>\n<p>==13==LRUInnoDB</p>\n<p>InnoDB Plugin 1.0.4</p>\n</li>\n<li><p></p>\n<p>NInnoDB</p>\n<p>N<code>innodb_read_ahead_threshold</code>56</p>\n</li>\n</ol>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p>InnoDB</p>\n<p>InnoDB ==h(k)=k mod m== </p>\n<p>Pagechain</p>\n<p>m2</p>\n</li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"B-\"><a href=\"#B-\" class=\"headerlink\" title=\"B+\"></a>B+</h3><ul>\n<li><p></p>\n<p>MySQL</p>\n<p>InnoDBS</p>\n</li>\n</ul>\n<h3 id=\"B-\"><a href=\"#B-\" class=\"headerlink\" title=\"B+\"></a>B+</h3><ul>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n<li><p></p>\n<p>I/OI/OIOPS</p>\n<blockquote>\n<ol>\n<li><p></p>\n<p>==13==LRUInnoDB</p>\n<p>InnoDB Plugin 1.0.4</p>\n</li>\n<li><p></p>\n<p>NInnoDB</p>\n<p>N<code>innodb_read_ahead_threshold</code>56</p>\n</li>\n</ol>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p>InnoDB</p>\n<p>InnoDB ==h(k)=k mod m== </p>\n<p>Pagechain</p>\n<p>m2</p>\n</li>\n</ul>\n"},{"title":"Mysql-","comments":1,"date":"2021-03-07T10:29:40.000Z","author":null,"_content":"\n### \n\n- \n- \n- InnoDB6\n\n### \n\n- ->->->\n\n![](https://img-blog.csdnimg.cn/20200504134054591.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center)\n\n\n- \n\n  undo\n\n- \n\n  3264\n\n  1.  B+\n  2.  B+\n  3. \n\n- \n\n  6416KB1MB\n\n  InnoDB4\n\n- \n\n  27992\n\n  1. (B-tree Node)\n  2. undo\n  3. \n  4. \n  5. \n  6. \n  7. (BLOB)\n  8. \n\n- \n\n  16KB/2~2007992\n\n### \n\n1. \n2. Redo\n3. \n4. \n\n### InnoDB\n\n- Compact\n\n![](https://img-blog.csdnimg.cn/20200504134112330.png#pic_center)\n\n  - \n\n    \n\n    2552552varchar65535\n\n  - NULL\n\n    \n\n  - \n\n    5\n\n  - ID\n\n  - RowID6\n\n- \n\n  InnoDB\n\n- Char\n\n  char0x20charvarchar\n\n### InnoDB\n\nInnoDB7\n\n1.  file header\n\n    838\n\n   > \n   >\n   > \n   >\n   > undo log\n   >\n   > \n\n2.  page header\n\n    1456\n\n   > \n   >\n   > \n   >\n   > \n   >\n   > ID\n   >\n   > \n\n3. Infimun + supermum records\n\n   \n\n   Infimun \n\n   supermum \n\n  ![](https://img-blog.csdnimg.cn/20200504134129918.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center)\n\n\n4. () user records\n\n5.  free space\n\n   \n\n6.  page directory\n\n   \n\n   B+page directory\n\n7.  file tailer\n\n   \n\n    18\n\n### \n\n- \n\n  \n\n  \n\n  \n\n- \n\n  \n\n  \n\n  \n\n  default\n\n  not null\n\n\n","source":"_posts/2021-03-07-Mysql-.md","raw":"---\ntitle: Mysql-\ncomments: true\ndate: 2021-03-07 18:29:40\nauthor:\ntags:\n - Mysql\ncategories:\n - \n---\n\n### \n\n- \n- \n- InnoDB6\n\n### \n\n- ->->->\n\n![](https://img-blog.csdnimg.cn/20200504134054591.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center)\n\n\n- \n\n  undo\n\n- \n\n  3264\n\n  1.  B+\n  2.  B+\n  3. \n\n- \n\n  6416KB1MB\n\n  InnoDB4\n\n- \n\n  27992\n\n  1. (B-tree Node)\n  2. undo\n  3. \n  4. \n  5. \n  6. \n  7. (BLOB)\n  8. \n\n- \n\n  16KB/2~2007992\n\n### \n\n1. \n2. Redo\n3. \n4. \n\n### InnoDB\n\n- Compact\n\n![](https://img-blog.csdnimg.cn/20200504134112330.png#pic_center)\n\n  - \n\n    \n\n    2552552varchar65535\n\n  - NULL\n\n    \n\n  - \n\n    5\n\n  - ID\n\n  - RowID6\n\n- \n\n  InnoDB\n\n- Char\n\n  char0x20charvarchar\n\n### InnoDB\n\nInnoDB7\n\n1.  file header\n\n    838\n\n   > \n   >\n   > \n   >\n   > undo log\n   >\n   > \n\n2.  page header\n\n    1456\n\n   > \n   >\n   > \n   >\n   > \n   >\n   > ID\n   >\n   > \n\n3. Infimun + supermum records\n\n   \n\n   Infimun \n\n   supermum \n\n  ![](https://img-blog.csdnimg.cn/20200504134129918.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center)\n\n\n4. () user records\n\n5.  free space\n\n   \n\n6.  page directory\n\n   \n\n   B+page directory\n\n7.  file tailer\n\n   \n\n    18\n\n### \n\n- \n\n  \n\n  \n\n  \n\n- \n\n  \n\n  \n\n  \n\n  default\n\n  not null\n\n\n","slug":"Mysql-","published":1,"updated":"2021-03-07T10:30:02.932Z","_id":"cklz0kg32001v6rs6amk3h9q5","layout":"post","photos":[],"link":"","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li>InnoDB6</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>-&gt;-&gt;-&gt;</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20200504134054591.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"\"></p>\n<ul>\n<li><p></p>\n<p>undo</p>\n</li>\n<li><p></p>\n<p>3264</p>\n<ol>\n<li> B+</li>\n<li> B+</li>\n<li></li>\n</ol>\n</li>\n<li><p></p>\n<p>6416KB1MB</p>\n<p>InnoDB4</p>\n</li>\n<li><p></p>\n<p>27992</p>\n<ol>\n<li>(B-tree Node)</li>\n<li>undo</li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>(BLOB)</li>\n<li></li>\n</ol>\n</li>\n<li><p></p>\n<p>16KB/2~2007992</p>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n<li>Redo</li>\n<li></li>\n<li></li>\n</ol>\n<h3 id=\"InnoDB\"><a href=\"#InnoDB\" class=\"headerlink\" title=\"InnoDB\"></a>InnoDB</h3><ul>\n<li>Compact</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20200504134112330.png#pic_center\" alt=\"\"></p>\n<ul>\n<li><p></p>\n<p></p>\n<p>2552552varchar65535</p>\n</li>\n<li><p>NULL</p>\n<p></p>\n</li>\n<li><p></p>\n<p>5</p>\n</li>\n<li><p>ID</p>\n</li>\n<li><p>RowID6</p>\n</li>\n<li><p></p>\n<p>InnoDB</p>\n</li>\n<li><p>Char</p>\n<p>char0x20charvarchar</p>\n</li>\n</ul>\n<h3 id=\"InnoDB\"><a href=\"#InnoDB\" class=\"headerlink\" title=\"InnoDB\"></a>InnoDB</h3><p>InnoDB7</p>\n<ol>\n<li><p> file header</p>\n<p> 838</p>\n<blockquote>\n<p></p>\n<p></p>\n<p>undo log</p>\n<p></p>\n</blockquote>\n</li>\n<li><p> page header</p>\n<p> 1456</p>\n<blockquote>\n<p></p>\n<p></p>\n<p></p>\n<p>ID</p>\n<p></p>\n</blockquote>\n</li>\n<li><p>Infimun + supermum records</p>\n<p></p>\n<p>Infimun </p>\n<p>supermum </p>\n</li>\n</ol>\n<p>  <img src=\"https://img-blog.csdnimg.cn/20200504134129918.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"\"></p>\n<ol start=\"4\">\n<li><p>() user records</p>\n</li>\n<li><p> free space</p>\n<p></p>\n</li>\n<li><p> page directory</p>\n<p></p>\n<p>B+page directory</p>\n</li>\n<li><p> file tailer</p>\n<p></p>\n<p> 18</p>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p></p>\n<p></p>\n<p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>default</p>\n<p>not null</p>\n</li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li></li>\n<li>InnoDB6</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>-&gt;-&gt;-&gt;</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20200504134054591.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"\"></p>\n<ul>\n<li><p></p>\n<p>undo</p>\n</li>\n<li><p></p>\n<p>3264</p>\n<ol>\n<li> B+</li>\n<li> B+</li>\n<li></li>\n</ol>\n</li>\n<li><p></p>\n<p>6416KB1MB</p>\n<p>InnoDB4</p>\n</li>\n<li><p></p>\n<p>27992</p>\n<ol>\n<li>(B-tree Node)</li>\n<li>undo</li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li>(BLOB)</li>\n<li></li>\n</ol>\n</li>\n<li><p></p>\n<p>16KB/2~2007992</p>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n<li>Redo</li>\n<li></li>\n<li></li>\n</ol>\n<h3 id=\"InnoDB\"><a href=\"#InnoDB\" class=\"headerlink\" title=\"InnoDB\"></a>InnoDB</h3><ul>\n<li>Compact</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20200504134112330.png#pic_center\" alt=\"\"></p>\n<ul>\n<li><p></p>\n<p></p>\n<p>2552552varchar65535</p>\n</li>\n<li><p>NULL</p>\n<p></p>\n</li>\n<li><p></p>\n<p>5</p>\n</li>\n<li><p>ID</p>\n</li>\n<li><p>RowID6</p>\n</li>\n<li><p></p>\n<p>InnoDB</p>\n</li>\n<li><p>Char</p>\n<p>char0x20charvarchar</p>\n</li>\n</ul>\n<h3 id=\"InnoDB\"><a href=\"#InnoDB\" class=\"headerlink\" title=\"InnoDB\"></a>InnoDB</h3><p>InnoDB7</p>\n<ol>\n<li><p> file header</p>\n<p> 838</p>\n<blockquote>\n<p></p>\n<p></p>\n<p>undo log</p>\n<p></p>\n</blockquote>\n</li>\n<li><p> page header</p>\n<p> 1456</p>\n<blockquote>\n<p></p>\n<p></p>\n<p></p>\n<p>ID</p>\n<p></p>\n</blockquote>\n</li>\n<li><p>Infimun + supermum records</p>\n<p></p>\n<p>Infimun </p>\n<p>supermum </p>\n</li>\n</ol>\n<p>  <img src=\"https://img-blog.csdnimg.cn/20200504134129918.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"\"></p>\n<ol start=\"4\">\n<li><p>() user records</p>\n</li>\n<li><p> free space</p>\n<p></p>\n</li>\n<li><p> page directory</p>\n<p></p>\n<p>B+page directory</p>\n</li>\n<li><p> file tailer</p>\n<p></p>\n<p> 18</p>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><p></p>\n<p></p>\n<p></p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>default</p>\n<p>not null</p>\n</li>\n</ul>\n"},{"title":"Mysql-","comments":1,"date":"2021-03-07T10:30:22.000Z","author":null,"_content":"\n#### \n```mysql\nmysql --help | grep my.cnf\n```\n\n\n\n#### \n\n- \n\n  ```mysql\n  # \n  show variables like 'log_error';\n  ```\n\n- \n\n  \n\n  \n\n  1%\n\n  - binlog_format\n\n    1. statement SQL\n\n    2. row \n\n       \n\n    3. mixed statementrow\n\n       > NDB\n       >\n       > UUIDROW_COUNT()\n       >\n       > insert delay\n       >\n       > \n       >\n       > \n\n- \n\n- \n\n#### socket\n\n\tUnix\n\n```mysql\nshow variables like 'socket';\n```\n\n#### pid\n\n\tMySQLID\n\n```mysql\nshow variables like 'pid_file';\n```\n\n#### \n\n\tMySQLMySQLfrm\n\n#### \n\n- \n\n  MySQL\n\n  1. \n\n     10MBibdata1innodb_data_file\n\n  2. \n\n     innodb_file_per_tableInnoDB.idb\n\n     \n\n![](https://img-blog.csdnimg.cn/20200504133622515.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center)\n\n- \n\n  \n\n  ib_ligfile0ib_ligfile1InnoDB\n\n  InnoDB\n\n![](https://img-blog.csdnimg.cn/20200504133647661.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center)\n\n\n  ","source":"_posts/2021-03-07-Mysql-.md","raw":"---\ntitle: Mysql-\ncomments: true\ndate: 2021-03-07 18:30:22\nauthor:\ntags:\n - Mysql\ncategories:\n - \n---\n\n#### \n```mysql\nmysql --help | grep my.cnf\n```\n\n\n\n#### \n\n- \n\n  ```mysql\n  # \n  show variables like 'log_error';\n  ```\n\n- \n\n  \n\n  \n\n  1%\n\n  - binlog_format\n\n    1. statement SQL\n\n    2. row \n\n       \n\n    3. mixed statementrow\n\n       > NDB\n       >\n       > UUIDROW_COUNT()\n       >\n       > insert delay\n       >\n       > \n       >\n       > \n\n- \n\n- \n\n#### socket\n\n\tUnix\n\n```mysql\nshow variables like 'socket';\n```\n\n#### pid\n\n\tMySQLID\n\n```mysql\nshow variables like 'pid_file';\n```\n\n#### \n\n\tMySQLMySQLfrm\n\n#### \n\n- \n\n  MySQL\n\n  1. \n\n     10MBibdata1innodb_data_file\n\n  2. \n\n     innodb_file_per_tableInnoDB.idb\n\n     \n\n![](https://img-blog.csdnimg.cn/20200504133622515.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center)\n\n- \n\n  \n\n  ib_ligfile0ib_ligfile1InnoDB\n\n  InnoDB\n\n![](https://img-blog.csdnimg.cn/20200504133647661.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center)\n\n\n  ","slug":"Mysql-","published":1,"updated":"2021-03-07T10:30:45.896Z","_id":"cklz0lcie001y6rs65v9j0pwp","layout":"post","photos":[],"link":"","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">mysql --help | grep my.cnf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p></p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\"># \nshow variables like &#39;log_error&#39;;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><p></p>\n<p></p>\n<p></p>\n<p>1%</p>\n<ul>\n<li><p>binlog_format</p>\n<ol>\n<li><p>statement SQL</p>\n</li>\n<li><p>row </p>\n<p></p>\n</li>\n<li><p>mixed statementrow</p>\n<blockquote>\n<p>NDB</p>\n<p>UUIDROW_COUNT()</p>\n<p>insert delay</p>\n<p></p>\n<p></p>\n</blockquote>\n</li>\n</ol>\n</li>\n</ul>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<h4 id=\"socket\"><a href=\"#socket\" class=\"headerlink\" title=\"socket\"></a>socket</h4><p>    Unix</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show variables like &#39;socket&#39;;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"pid\"><a href=\"#pid\" class=\"headerlink\" title=\"pid\"></a>pid</h4><p>    MySQLID</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show variables like &#39;pid_file&#39;;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>    MySQLMySQLfrm</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p></p>\n<p>MySQL</p>\n<ol>\n<li><p></p>\n<p>10MBibdata1innodb_data_file</p>\n</li>\n<li><p></p>\n<p>innodb_file_per_tableInnoDB.idb</p>\n<p></p>\n</li>\n</ol>\n</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20200504133622515.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"\"></p>\n<ul>\n<li><p></p>\n<p></p>\n<p>ib_ligfile0ib_ligfile1InnoDB</p>\n<p>InnoDB</p>\n</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20200504133647661.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"\"></p>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">mysql --help | grep my.cnf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p></p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\"># \nshow variables like &#39;log_error&#39;;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><p></p>\n<p></p>\n<p></p>\n<p>1%</p>\n<ul>\n<li><p>binlog_format</p>\n<ol>\n<li><p>statement SQL</p>\n</li>\n<li><p>row </p>\n<p></p>\n</li>\n<li><p>mixed statementrow</p>\n<blockquote>\n<p>NDB</p>\n<p>UUIDROW_COUNT()</p>\n<p>insert delay</p>\n<p></p>\n<p></p>\n</blockquote>\n</li>\n</ol>\n</li>\n</ul>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n<h4 id=\"socket\"><a href=\"#socket\" class=\"headerlink\" title=\"socket\"></a>socket</h4><p>    Unix</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show variables like &#39;socket&#39;;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"pid\"><a href=\"#pid\" class=\"headerlink\" title=\"pid\"></a>pid</h4><p>    MySQLID</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show variables like &#39;pid_file&#39;;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>    MySQLMySQLfrm</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p></p>\n<p>MySQL</p>\n<ol>\n<li><p></p>\n<p>10MBibdata1innodb_data_file</p>\n</li>\n<li><p></p>\n<p>innodb_file_per_tableInnoDB.idb</p>\n<p></p>\n</li>\n</ol>\n</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20200504133622515.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"\"></p>\n<ul>\n<li><p></p>\n<p></p>\n<p>ib_ligfile0ib_ligfile1InnoDB</p>\n<p>InnoDB</p>\n</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20200504133647661.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"\"></p>\n"},{"title":"Mysql-InnoDB","comments":1,"date":"2021-03-07T10:31:06.000Z","author":null,"_content":"\n### InnoDB4\n1. \n\n   ```mysql\n   show engine innodb status\\G;\n   INSERT BUFFER AND ADAPTIVE HASH INDEX # \n   ```\n\n   \n\n   > \n   >\n   > - selectinsert buffer\n   > - 1/32\n   > - master thread10\n\n   IO\n\n   \n\n   - \n   - \n\n2.  double write\n\n   buffer pollflushdouble writeIO\n\n   > double write\n   >\n   > - double write buffer2M\n   >\n   > - 1282M\n\n   double write bufferdouble write1Mdouble writedouble writedouble write buffer double write\n\n3. \n\n   InnoDBB+\n\n   ====\n\n   InnoDB buffer poll\n\n4. \n\n   - \n\n     ==13==LRUInnoDBInnoDB Plugin 1.0.4\n\n   - \n\n     NInnoDBN`innodb_read_ahead_threshold`56\n\n\n\n\n### InnoDB\n![](https://img-blog.csdnimg.cn/20200504133348713.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center)\n\n\n#### \n\nInnoDB7\n\n1. 1master thread\n\n2. 1\n\n3. 1\n\n4. 4I/O threadread write\n\n   > Insert  buffer thread\n   >\n   > Log thread\n   >\n   > Read thread\n   >\n   > Write  thread\n   >\n   > ```mysql\n   > show engine innodb status\\G; # \n   > \n   > Per second averages calculated from the last 46 seconds # 46s\n   > \n   > FILE I/O\n   > xxx\n   > ```\n\n#### \n\n1.  buffer poll\n\n   InnoDB16kLRU\n\n   ```mysql\n   show engine innodb status\\G;\n   \n   BUFFER POOL AND MEMORY\n   Buffer pool size   8191 # \n   Free buffers       7529 # \n   Database pages     658 # \n   Old database pages 262\n   Modified db pages  0 # \n   ```\n\n   - \n     1. \n     2. \n     3. undo\n     4.  insert buffer\n     5. hash\n     6. InnoDB lock info\n     7.  data dictionary\n\n2.  redo log buffer\n\n3.  additional memory poll","source":"_posts/2021-03-07-Mysql-InnoDB.md","raw":"---\ntitle: Mysql-InnoDB\ncomments: true\ndate: 2021-03-07 18:31:06\nauthor:\ntags:\n - Mysql\ncategories:\n - \n---\n\n### InnoDB4\n1. \n\n   ```mysql\n   show engine innodb status\\G;\n   INSERT BUFFER AND ADAPTIVE HASH INDEX # \n   ```\n\n   \n\n   > \n   >\n   > - selectinsert buffer\n   > - 1/32\n   > - master thread10\n\n   IO\n\n   \n\n   - \n   - \n\n2.  double write\n\n   buffer pollflushdouble writeIO\n\n   > double write\n   >\n   > - double write buffer2M\n   >\n   > - 1282M\n\n   double write bufferdouble write1Mdouble writedouble writedouble write buffer double write\n\n3. \n\n   InnoDBB+\n\n   ====\n\n   InnoDB buffer poll\n\n4. \n\n   - \n\n     ==13==LRUInnoDBInnoDB Plugin 1.0.4\n\n   - \n\n     NInnoDBN`innodb_read_ahead_threshold`56\n\n\n\n\n### InnoDB\n![](https://img-blog.csdnimg.cn/20200504133348713.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center)\n\n\n#### \n\nInnoDB7\n\n1. 1master thread\n\n2. 1\n\n3. 1\n\n4. 4I/O threadread write\n\n   > Insert  buffer thread\n   >\n   > Log thread\n   >\n   > Read thread\n   >\n   > Write  thread\n   >\n   > ```mysql\n   > show engine innodb status\\G; # \n   > \n   > Per second averages calculated from the last 46 seconds # 46s\n   > \n   > FILE I/O\n   > xxx\n   > ```\n\n#### \n\n1.  buffer poll\n\n   InnoDB16kLRU\n\n   ```mysql\n   show engine innodb status\\G;\n   \n   BUFFER POOL AND MEMORY\n   Buffer pool size   8191 # \n   Free buffers       7529 # \n   Database pages     658 # \n   Old database pages 262\n   Modified db pages  0 # \n   ```\n\n   - \n     1. \n     2. \n     3. undo\n     4.  insert buffer\n     5. hash\n     6. InnoDB lock info\n     7.  data dictionary\n\n2.  redo log buffer\n\n3.  additional memory poll","slug":"Mysql-InnoDB","published":1,"updated":"2021-03-07T10:31:22.863Z","_id":"cklz0mac900216rs63jy0gsve","layout":"post","photos":[],"link":"","content":"<h3 id=\"InnoDB4\"><a href=\"#InnoDB4\" class=\"headerlink\" title=\"InnoDB4\"></a>InnoDB4</h3><ol>\n<li><p></p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show engine innodb status\\G;\nINSERT BUFFER AND ADAPTIVE HASH INDEX # <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p></p>\n<blockquote>\n<p></p>\n<ul>\n<li>selectinsert buffer</li>\n<li>1/32</li>\n<li>master thread10</li>\n</ul>\n</blockquote>\n<p>IO</p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><p> double write</p>\n<p>buffer pollflushdouble writeIO</p>\n<blockquote>\n<p>double write</p>\n<ul>\n<li><p>double write buffer2M</p>\n</li>\n<li><p>1282M</p>\n</li>\n</ul>\n</blockquote>\n<p>double write bufferdouble write1Mdouble writedouble writedouble write buffer double write</p>\n</li>\n<li><p></p>\n<p>InnoDBB+</p>\n<p>====</p>\n<p>InnoDB buffer poll</p>\n</li>\n<li><p></p>\n<ul>\n<li><p></p>\n<p>==13==LRUInnoDBInnoDB Plugin 1.0.4</p>\n</li>\n<li><p></p>\n<p>NInnoDBN<code>innodb_read_ahead_threshold</code>56</p>\n</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"InnoDB\"><a href=\"#InnoDB\" class=\"headerlink\" title=\"InnoDB\"></a>InnoDB</h3><p><img src=\"https://img-blog.csdnimg.cn/20200504133348713.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>InnoDB7</p>\n<ol>\n<li><p>1master thread</p>\n</li>\n<li><p>1</p>\n</li>\n<li><p>1</p>\n</li>\n<li><p>4I/O threadread write</p>\n<blockquote>\n<p>Insert  buffer thread</p>\n<p>Log thread</p>\n<p>Read thread</p>\n<p>Write  thread</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show engine innodb status\\G; # \n\nPer second averages calculated from the last 46 seconds # 46s\n\nFILE I&#x2F;O\nxxx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></blockquote>\n</li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><p> buffer poll</p>\n<p>InnoDB16kLRU</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show engine innodb status\\G;\n\nBUFFER POOL AND MEMORY\nBuffer pool size   8191 # \nFree buffers       7529 # \nDatabase pages     658 # \nOld database pages 262\nModified db pages  0 # <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li><ol>\n<li></li>\n<li></li>\n<li>undo</li>\n<li> insert buffer</li>\n<li>hash</li>\n<li>InnoDB lock info</li>\n<li> data dictionary</li>\n</ol>\n</li>\n</ul>\n</li>\n<li><p> redo log buffer</p>\n</li>\n<li><p> additional memory poll</p>\n</li>\n</ol>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"InnoDB4\"><a href=\"#InnoDB4\" class=\"headerlink\" title=\"InnoDB4\"></a>InnoDB4</h3><ol>\n<li><p></p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show engine innodb status\\G;\nINSERT BUFFER AND ADAPTIVE HASH INDEX # <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p></p>\n<blockquote>\n<p></p>\n<ul>\n<li>selectinsert buffer</li>\n<li>1/32</li>\n<li>master thread10</li>\n</ul>\n</blockquote>\n<p>IO</p>\n<p></p>\n<ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li><p> double write</p>\n<p>buffer pollflushdouble writeIO</p>\n<blockquote>\n<p>double write</p>\n<ul>\n<li><p>double write buffer2M</p>\n</li>\n<li><p>1282M</p>\n</li>\n</ul>\n</blockquote>\n<p>double write bufferdouble write1Mdouble writedouble writedouble write buffer double write</p>\n</li>\n<li><p></p>\n<p>InnoDBB+</p>\n<p>====</p>\n<p>InnoDB buffer poll</p>\n</li>\n<li><p></p>\n<ul>\n<li><p></p>\n<p>==13==LRUInnoDBInnoDB Plugin 1.0.4</p>\n</li>\n<li><p></p>\n<p>NInnoDBN<code>innodb_read_ahead_threshold</code>56</p>\n</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"InnoDB\"><a href=\"#InnoDB\" class=\"headerlink\" title=\"InnoDB\"></a>InnoDB</h3><p><img src=\"https://img-blog.csdnimg.cn/20200504133348713.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>InnoDB7</p>\n<ol>\n<li><p>1master thread</p>\n</li>\n<li><p>1</p>\n</li>\n<li><p>1</p>\n</li>\n<li><p>4I/O threadread write</p>\n<blockquote>\n<p>Insert  buffer thread</p>\n<p>Log thread</p>\n<p>Read thread</p>\n<p>Write  thread</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show engine innodb status\\G; # \n\nPer second averages calculated from the last 46 seconds # 46s\n\nFILE I&#x2F;O\nxxx<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></blockquote>\n</li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><p> buffer poll</p>\n<p>InnoDB16kLRU</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show engine innodb status\\G;\n\nBUFFER POOL AND MEMORY\nBuffer pool size   8191 # \nFree buffers       7529 # \nDatabase pages     658 # \nOld database pages 262\nModified db pages  0 # <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li><ol>\n<li></li>\n<li></li>\n<li>undo</li>\n<li> insert buffer</li>\n<li>hash</li>\n<li>InnoDB lock info</li>\n<li> data dictionary</li>\n</ol>\n</li>\n</ul>\n</li>\n<li><p> redo log buffer</p>\n</li>\n<li><p> additional memory poll</p>\n</li>\n</ol>\n"},{"title":"Mysql-","comments":1,"date":"2021-03-07T10:31:46.000Z","author":null,"_content":"\n### MySQL\n\n```mysql\nshow engines; #\n```\n\n- MyISAM\n\n  XX.MYIXX.MYD\n\n  OLAP\n\n  \n\n- InnoDB\n\n  XX.IDB\n\n  OLTP\n\n- Mermory\n\n  MemoryMyISAMI/OMemory\n\n  hash\n\n- Archiveinsertselect\n\n  110\n  \n- Maria\n\n  MyISAM\n\n  MVCCBLOB\n\n- NDB\n\n  \n\n  \n\n- MergeCSVSphinxInfobright\n\n|      | InnoDB | MyISAM | Memory       | Archive |\n| -------- | ------ | ------ | ------------ | ------- |\n| b+ | yes    | yes    | yes          | no      |\n| MVCC     | yes    | no     | no           | no      |\n|      | yes    | no     | no           | no      |\n|  | 64TB   | 256TB  | RAM          | None    |\n|  | yes    | yes    |  | No      |\n|      | yes    | no     | no           | no      |\n|    | row    | table  | table        | row     |\n|  | yes    | yes    | no           | no      |\n|  | yes    | no     |  | no      |\n\n\n\n### \n\n- \n- /\n\n\n\n### MySQL\n\nmy.cnf\n\n```shell\n  ~ mysql --help | grep my.cnf\n                      \norder of preference, my.cnf, $MYSQL_TCP_PORT,\n/etc/my.cnf \n/etc/mysql/my.cnf \n/usr/local/Cellar/mysql-client/8.0.18/etc/my.cnf \n~/.my.cnf\n```\n\n### MySQL\n\n![](https://img-blog.csdnimg.cn/20200504105206146.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center)\n\n\n- \n- \n- SQL\n- \n- \n- \n- \n- \n\n\n\n","source":"_posts/2021-03-07-Mysql-.md","raw":"---\ntitle: Mysql-\ncomments: true\ndate: 2021-03-07 18:31:46\nauthor:\ntags:\n - Mysql\ncategories:\n - \n---\n\n### MySQL\n\n```mysql\nshow engines; #\n```\n\n- MyISAM\n\n  XX.MYIXX.MYD\n\n  OLAP\n\n  \n\n- InnoDB\n\n  XX.IDB\n\n  OLTP\n\n- Mermory\n\n  MemoryMyISAMI/OMemory\n\n  hash\n\n- Archiveinsertselect\n\n  110\n  \n- Maria\n\n  MyISAM\n\n  MVCCBLOB\n\n- NDB\n\n  \n\n  \n\n- MergeCSVSphinxInfobright\n\n|      | InnoDB | MyISAM | Memory       | Archive |\n| -------- | ------ | ------ | ------------ | ------- |\n| b+ | yes    | yes    | yes          | no      |\n| MVCC     | yes    | no     | no           | no      |\n|      | yes    | no     | no           | no      |\n|  | 64TB   | 256TB  | RAM          | None    |\n|  | yes    | yes    |  | No      |\n|      | yes    | no     | no           | no      |\n|    | row    | table  | table        | row     |\n|  | yes    | yes    | no           | no      |\n|  | yes    | no     |  | no      |\n\n\n\n### \n\n- \n- /\n\n\n\n### MySQL\n\nmy.cnf\n\n```shell\n  ~ mysql --help | grep my.cnf\n                      \norder of preference, my.cnf, $MYSQL_TCP_PORT,\n/etc/my.cnf \n/etc/mysql/my.cnf \n/usr/local/Cellar/mysql-client/8.0.18/etc/my.cnf \n~/.my.cnf\n```\n\n### MySQL\n\n![](https://img-blog.csdnimg.cn/20200504105206146.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center)\n\n\n- \n- \n- SQL\n- \n- \n- \n- \n- \n\n\n\n","slug":"Mysql-","published":1,"updated":"2021-03-07T10:32:02.057Z","_id":"cklz0n58300246rs68dxq8t89","layout":"post","photos":[],"link":"","content":"<h3 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h3><pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show engines; #<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>MyISAM</p>\n<p>XX.MYIXX.MYD</p>\n<p>OLAP</p>\n<p></p>\n</li>\n<li><p>InnoDB</p>\n<p>XX.IDB</p>\n<p>OLTP</p>\n</li>\n<li><p>Mermory</p>\n<p>MemoryMyISAMI/OMemory</p>\n<p>hash</p>\n</li>\n<li><p>Archiveinsertselect</p>\n<p>110</p>\n</li>\n<li><p>Maria</p>\n<p>MyISAM</p>\n<p>MVCCBLOB</p>\n</li>\n<li><p>NDB</p>\n<p></p>\n<p></p>\n</li>\n<li><p>MergeCSVSphinxInfobright</p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>InnoDB</th>\n<th>MyISAM</th>\n<th>Memory</th>\n<th>Archive</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>b+</td>\n<td>yes</td>\n<td>yes</td>\n<td>yes</td>\n<td>no</td>\n</tr>\n<tr>\n<td>MVCC</td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>64TB</td>\n<td>256TB</td>\n<td>RAM</td>\n<td>None</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>yes</td>\n<td></td>\n<td>No</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>row</td>\n<td>table</td>\n<td>table</td>\n<td>row</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>no</td>\n<td></td>\n<td>no</td>\n</tr>\n</tbody></table>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li>/</li>\n</ul>\n<h3 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h3><p>my.cnf</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">  ~ mysql --help | grep my.cnf\n                      \norder of preference, my.cnf, $MYSQL_TCP_PORT,\n&#x2F;etc&#x2F;my.cnf \n&#x2F;etc&#x2F;mysql&#x2F;my.cnf \n&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;mysql-client&#x2F;8.0.18&#x2F;etc&#x2F;my.cnf \n~&#x2F;.my.cnf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h3><p><img src=\"https://img-blog.csdnimg.cn/20200504105206146.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"\"></p>\n<ul>\n<li></li>\n<li></li>\n<li>SQL</li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h3><pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show engines; #<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>MyISAM</p>\n<p>XX.MYIXX.MYD</p>\n<p>OLAP</p>\n<p></p>\n</li>\n<li><p>InnoDB</p>\n<p>XX.IDB</p>\n<p>OLTP</p>\n</li>\n<li><p>Mermory</p>\n<p>MemoryMyISAMI/OMemory</p>\n<p>hash</p>\n</li>\n<li><p>Archiveinsertselect</p>\n<p>110</p>\n</li>\n<li><p>Maria</p>\n<p>MyISAM</p>\n<p>MVCCBLOB</p>\n</li>\n<li><p>NDB</p>\n<p></p>\n<p></p>\n</li>\n<li><p>MergeCSVSphinxInfobright</p>\n</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>InnoDB</th>\n<th>MyISAM</th>\n<th>Memory</th>\n<th>Archive</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>b+</td>\n<td>yes</td>\n<td>yes</td>\n<td>yes</td>\n<td>no</td>\n</tr>\n<tr>\n<td>MVCC</td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>64TB</td>\n<td>256TB</td>\n<td>RAM</td>\n<td>None</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>yes</td>\n<td></td>\n<td>No</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>row</td>\n<td>table</td>\n<td>table</td>\n<td>row</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>no</td>\n<td></td>\n<td>no</td>\n</tr>\n</tbody></table>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li></li>\n<li>/</li>\n</ul>\n<h3 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h3><p>my.cnf</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">  ~ mysql --help | grep my.cnf\n                      \norder of preference, my.cnf, $MYSQL_TCP_PORT,\n&#x2F;etc&#x2F;my.cnf \n&#x2F;etc&#x2F;mysql&#x2F;my.cnf \n&#x2F;usr&#x2F;local&#x2F;Cellar&#x2F;mysql-client&#x2F;8.0.18&#x2F;etc&#x2F;my.cnf \n~&#x2F;.my.cnf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h3 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h3><p><img src=\"https://img-blog.csdnimg.cn/20200504105206146.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_center\" alt=\"\"></p>\n<ul>\n<li></li>\n<li></li>\n<li>SQL</li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n"},{"title":"Mysql-Explain","comments":1,"date":"2021-03-07T10:39:10.000Z","author":null,"_content":"\n# [mysql explain](https://www.cnblogs.com/yycc/p/7338894.html)\n\n### explaindescmysqlselect\n\n> explain   desc \n>\n> \n\n> explain sql desc sql\n>\n> sql\n\n### explain\n\n1. ==table== \n\n2. ==select_type== select\n\n   > - **SIMPLE**:SELECT(UNION)\n   > - **PRIMARY**:SELECT\n   > - **UNION**:UNIONSELECT\n   > - **DEPENDENT UNION**:UNIONSELECT,\n   > - **UNION RESULT**:UNION \n   > - **SUBQUERY**:SELECT\n   > - **DEPENDENT SUBQUERY**:SELECT,\n   > - **DERIVED**:SELECT(FROM)\n\n3. ==type== \n\n   > \n   >\n   > system > const > eq_ref > ref > fulltext > ref_or_null > index_merge > unique_subquery > index_subquery > range > index > ALL\n   > - **system**:(=)const\n   > - **const**:,,const,!\n   > - **eq_ref**:,,const\n   > - **ref**:,\n   > - **ref_or_null**:ref,MySQLNULL\n   > - **index_merge**:\n   > - **unique_subquery**:INref: value IN (SELECT primary_key FROM single_table WHERE some_expr) unique_subquery,,\n   > - **index_subquery**:unique_subqueryIN,: value IN (SELECT key_column FROM single_table WHERE some_expr)\n   > - **range**:,\n   > - **index**:ALL,ALL,\n   > - **ALL**:,\n\n3. ==possible_keys== MySQL\n\n4. ==key== NULLMYSQL\n\n   > SELECTUSE INDEXindexnameforce index(indexname) IGNORE INDEXindexnameMYSQL\n\n5. ==key_len== NULL,NULL\n\n6. ==ref== key\n\n7. ==rows== MYSQL\n\n8. ==extra== MYSQL\n\n   > **Using temporary****Using filesort**MYSQL\n   >\n   > - distinct: MYSQL\n   > - not exists: MYSQLLEFT JOINLEFT JOIN\n   > - range checked for each Recordindex map:#:MySQL,,\n   > - **using filesort**: **MYSQL**\n   > - using index: \n   > - using temporary ,MySQLORDER BYGROUP BY\n   > -  where used WHEREALLindex\n   > -  system systemconst\n   > -  const MYSQL\n   > - eq_ref MYSQL\n   > - ref \n   > - range ><\n   > - index ALL\n   > - ALL \n\n9. ==filtered== ","source":"_posts/2021-03-07-Mysql-Explain.md","raw":"---\ntitle: Mysql-Explain\ncomments: true\ndate: 2021-03-07 18:39:10\nauthor:\ntags:\n - Mysql\ncategories:\n - \n---\n\n# [mysql explain](https://www.cnblogs.com/yycc/p/7338894.html)\n\n### explaindescmysqlselect\n\n> explain   desc \n>\n> \n\n> explain sql desc sql\n>\n> sql\n\n### explain\n\n1. ==table== \n\n2. ==select_type== select\n\n   > - **SIMPLE**:SELECT(UNION)\n   > - **PRIMARY**:SELECT\n   > - **UNION**:UNIONSELECT\n   > - **DEPENDENT UNION**:UNIONSELECT,\n   > - **UNION RESULT**:UNION \n   > - **SUBQUERY**:SELECT\n   > - **DEPENDENT SUBQUERY**:SELECT,\n   > - **DERIVED**:SELECT(FROM)\n\n3. ==type== \n\n   > \n   >\n   > system > const > eq_ref > ref > fulltext > ref_or_null > index_merge > unique_subquery > index_subquery > range > index > ALL\n   > - **system**:(=)const\n   > - **const**:,,const,!\n   > - **eq_ref**:,,const\n   > - **ref**:,\n   > - **ref_or_null**:ref,MySQLNULL\n   > - **index_merge**:\n   > - **unique_subquery**:INref: value IN (SELECT primary_key FROM single_table WHERE some_expr) unique_subquery,,\n   > - **index_subquery**:unique_subqueryIN,: value IN (SELECT key_column FROM single_table WHERE some_expr)\n   > - **range**:,\n   > - **index**:ALL,ALL,\n   > - **ALL**:,\n\n3. ==possible_keys== MySQL\n\n4. ==key== NULLMYSQL\n\n   > SELECTUSE INDEXindexnameforce index(indexname) IGNORE INDEXindexnameMYSQL\n\n5. ==key_len== NULL,NULL\n\n6. ==ref== key\n\n7. ==rows== MYSQL\n\n8. ==extra== MYSQL\n\n   > **Using temporary****Using filesort**MYSQL\n   >\n   > - distinct: MYSQL\n   > - not exists: MYSQLLEFT JOINLEFT JOIN\n   > - range checked for each Recordindex map:#:MySQL,,\n   > - **using filesort**: **MYSQL**\n   > - using index: \n   > - using temporary ,MySQLORDER BYGROUP BY\n   > -  where used WHEREALLindex\n   > -  system systemconst\n   > -  const MYSQL\n   > - eq_ref MYSQL\n   > - ref \n   > - range ><\n   > - index ALL\n   > - ALL \n\n9. ==filtered== ","slug":"Mysql-Explain","published":1,"updated":"2021-03-07T10:39:37.861Z","_id":"cklz0wo21002n6rs6cmey25uc","layout":"post","photos":[],"link":"","content":"<h1 id=\"mysql-explain\"><a href=\"#mysql-explain\" class=\"headerlink\" title=\"mysql explain\"></a><a href=\"https://www.cnblogs.com/yycc/p/7338894.html\">mysql explain</a></h1><h3 id=\"explaindescmysqlselect\"><a href=\"#explaindescmysqlselect\" class=\"headerlink\" title=\"explaindescmysqlselect\"></a>explaindescmysqlselect</h3><blockquote>\n<p>explain   desc </p>\n<p></p>\n</blockquote>\n<blockquote>\n<p>explain sql desc sql</p>\n<p>sql</p>\n</blockquote>\n<h3 id=\"explain\"><a href=\"#explain\" class=\"headerlink\" title=\"explain\"></a>explain</h3><ol>\n<li><p>==table== </p>\n</li>\n<li><p>==select_type== select</p>\n<blockquote>\n<ul>\n<li><strong>SIMPLE</strong>:SELECT(UNION)</li>\n<li><strong>PRIMARY</strong>:SELECT</li>\n<li><strong>UNION</strong>:UNIONSELECT</li>\n<li><strong>DEPENDENT UNION</strong>:UNIONSELECT,</li>\n<li><strong>UNION RESULT</strong>:UNION </li>\n<li><strong>SUBQUERY</strong>:SELECT</li>\n<li><strong>DEPENDENT SUBQUERY</strong>:SELECT,</li>\n<li><strong>DERIVED</strong>:SELECT(FROM)</li>\n</ul>\n</blockquote>\n</li>\n<li><p>==type== </p>\n<blockquote>\n<p></p>\n<p>system &gt; const &gt; eq_ref &gt; ref &gt; fulltext &gt; ref_or_null &gt; index_merge &gt; unique_subquery &gt; index_subquery &gt; range &gt; index &gt; ALL</p>\n<ul>\n<li><strong>system</strong>:(=)const</li>\n<li><strong>const</strong>:,,const,!</li>\n<li><strong>eq_ref</strong>:,,const</li>\n<li><strong>ref</strong>:,</li>\n<li><strong>ref_or_null</strong>:ref,MySQLNULL</li>\n<li><strong>index_merge</strong>:</li>\n<li><strong>unique_subquery</strong>:INref: value IN (SELECT primary_key FROM single_table WHERE some_expr) unique_subquery,,</li>\n<li><strong>index_subquery</strong>:unique_subqueryIN,: value IN (SELECT key_column FROM single_table WHERE some_expr)</li>\n<li><strong>range</strong>:,</li>\n<li><strong>index</strong>:ALL,ALL,</li>\n<li><strong>ALL</strong>:,</li>\n</ul>\n</blockquote>\n</li>\n<li><p>==possible_keys== MySQL</p>\n</li>\n<li><p>==key== NULLMYSQL</p>\n<blockquote>\n<p>SELECTUSE INDEXindexnameforce index(indexname) IGNORE INDEXindexnameMYSQL</p>\n</blockquote>\n</li>\n<li><p>==key_len== NULL,NULL</p>\n</li>\n<li><p>==ref== key</p>\n</li>\n<li><p>==rows== MYSQL</p>\n</li>\n<li><p>==extra== MYSQL</p>\n<blockquote>\n<p><strong>Using temporary</strong><strong>Using filesort</strong>MYSQL</p>\n<ul>\n<li>distinct: MYSQL</li>\n<li>not exists: MYSQLLEFT JOINLEFT JOIN</li>\n<li>range checked for each Recordindex map:#:MySQL,,</li>\n<li><strong>using filesort</strong>: <strong>MYSQL</strong></li>\n<li>using index: </li>\n<li>using temporary ,MySQLORDER BYGROUP BY</li>\n<li> where used WHEREALLindex</li>\n<li> system systemconst</li>\n<li> const MYSQL</li>\n<li>eq_ref MYSQL</li>\n<li>ref </li>\n<li>range &gt;&lt;</li>\n<li>index ALL</li>\n<li>ALL </li>\n</ul>\n</blockquote>\n</li>\n<li><p>==filtered== </p>\n</li>\n</ol>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h1 id=\"mysql-explain\"><a href=\"#mysql-explain\" class=\"headerlink\" title=\"mysql explain\"></a><a href=\"https://www.cnblogs.com/yycc/p/7338894.html\">mysql explain</a></h1><h3 id=\"explaindescmysqlselect\"><a href=\"#explaindescmysqlselect\" class=\"headerlink\" title=\"explaindescmysqlselect\"></a>explaindescmysqlselect</h3><blockquote>\n<p>explain   desc </p>\n<p></p>\n</blockquote>\n<blockquote>\n<p>explain sql desc sql</p>\n<p>sql</p>\n</blockquote>\n<h3 id=\"explain\"><a href=\"#explain\" class=\"headerlink\" title=\"explain\"></a>explain</h3><ol>\n<li><p>==table== </p>\n</li>\n<li><p>==select_type== select</p>\n<blockquote>\n<ul>\n<li><strong>SIMPLE</strong>:SELECT(UNION)</li>\n<li><strong>PRIMARY</strong>:SELECT</li>\n<li><strong>UNION</strong>:UNIONSELECT</li>\n<li><strong>DEPENDENT UNION</strong>:UNIONSELECT,</li>\n<li><strong>UNION RESULT</strong>:UNION </li>\n<li><strong>SUBQUERY</strong>:SELECT</li>\n<li><strong>DEPENDENT SUBQUERY</strong>:SELECT,</li>\n<li><strong>DERIVED</strong>:SELECT(FROM)</li>\n</ul>\n</blockquote>\n</li>\n<li><p>==type== </p>\n<blockquote>\n<p></p>\n<p>system &gt; const &gt; eq_ref &gt; ref &gt; fulltext &gt; ref_or_null &gt; index_merge &gt; unique_subquery &gt; index_subquery &gt; range &gt; index &gt; ALL</p>\n<ul>\n<li><strong>system</strong>:(=)const</li>\n<li><strong>const</strong>:,,const,!</li>\n<li><strong>eq_ref</strong>:,,const</li>\n<li><strong>ref</strong>:,</li>\n<li><strong>ref_or_null</strong>:ref,MySQLNULL</li>\n<li><strong>index_merge</strong>:</li>\n<li><strong>unique_subquery</strong>:INref: value IN (SELECT primary_key FROM single_table WHERE some_expr) unique_subquery,,</li>\n<li><strong>index_subquery</strong>:unique_subqueryIN,: value IN (SELECT key_column FROM single_table WHERE some_expr)</li>\n<li><strong>range</strong>:,</li>\n<li><strong>index</strong>:ALL,ALL,</li>\n<li><strong>ALL</strong>:,</li>\n</ul>\n</blockquote>\n</li>\n<li><p>==possible_keys== MySQL</p>\n</li>\n<li><p>==key== NULLMYSQL</p>\n<blockquote>\n<p>SELECTUSE INDEXindexnameforce index(indexname) IGNORE INDEXindexnameMYSQL</p>\n</blockquote>\n</li>\n<li><p>==key_len== NULL,NULL</p>\n</li>\n<li><p>==ref== key</p>\n</li>\n<li><p>==rows== MYSQL</p>\n</li>\n<li><p>==extra== MYSQL</p>\n<blockquote>\n<p><strong>Using temporary</strong><strong>Using filesort</strong>MYSQL</p>\n<ul>\n<li>distinct: MYSQL</li>\n<li>not exists: MYSQLLEFT JOINLEFT JOIN</li>\n<li>range checked for each Recordindex map:#:MySQL,,</li>\n<li><strong>using filesort</strong>: <strong>MYSQL</strong></li>\n<li>using index: </li>\n<li>using temporary ,MySQLORDER BYGROUP BY</li>\n<li> where used WHEREALLindex</li>\n<li> system systemconst</li>\n<li> const MYSQL</li>\n<li>eq_ref MYSQL</li>\n<li>ref </li>\n<li>range &gt;&lt;</li>\n<li>index ALL</li>\n<li>ALL </li>\n</ul>\n</blockquote>\n</li>\n<li><p>==filtered== </p>\n</li>\n</ol>\n"},{"title":"Mysql-","comments":1,"date":"2021-03-07T10:40:36.000Z","author":null,"_content":"\n### \n\n- MySQLvarchartextblobMySQL\n- MySQL\n- MySQLMySQL\n\n### \n\n```sql\nselect table_name,engine,table_rows,data_length,index_length,DATA_FREE from information_schema.tables where TABLE_NAME='chat_msgs';\n\n\noptimize table chat_msgs;\n```\n\n![](https://img-blog.csdnimg.cn/20200420224821232.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n![](https://img-blog.csdnimg.cn/20200420224845211.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n\n### information_schema.tables\n\n- show create table information_schema.tables;\n\n```sql\nCREATE TEMPORARY TABLE `TABLES` (\n  `TABLE_CATALOG` varchar(512) NOT NULL DEFAULT '',\n  `TABLE_SCHEMA` varchar(64) NOT NULL DEFAULT '',\n  `TABLE_NAME` varchar(64) NOT NULL DEFAULT '',\n  `TABLE_TYPE` varchar(64) NOT NULL DEFAULT '',\n  `ENGINE` varchar(64) DEFAULT NULL,\n  `VERSION` bigint(21) unsigned DEFAULT NULL,\n  `ROW_FORMAT` varchar(10) DEFAULT NULL,\n  `TABLE_ROWS` bigint(21) unsigned DEFAULT NULL,\n  `AVG_ROW_LENGTH` bigint(21) unsigned DEFAULT NULL,\n  `DATA_LENGTH` bigint(21) unsigned DEFAULT NULL,\n  `MAX_DATA_LENGTH` bigint(21) unsigned DEFAULT NULL,\n  `INDEX_LENGTH` bigint(21) unsigned DEFAULT NULL,\n  `DATA_FREE` bigint(21) unsigned DEFAULT NULL,\n  `AUTO_INCREMENT` bigint(21) unsigned DEFAULT NULL,\n  `CREATE_TIME` datetime DEFAULT NULL,\n  `UPDATE_TIME` datetime DEFAULT NULL,\n  `CHECK_TIME` datetime DEFAULT NULL,\n  `TABLE_COLLATION` varchar(32) DEFAULT NULL,\n  `CHECKSUM` bigint(21) unsigned DEFAULT NULL,\n  `CREATE_OPTIONS` varchar(255) DEFAULT NULL,\n  `TABLE_COMMENT` varchar(2048) NOT NULL DEFAULT ''\n) ENGINE=MEMORY DEFAULT CHARSET=utf8\n```\n\n- desc information_schema.tables; \n\n| Field             | Type                  | Null | Key  | Default | Extra |  |\n| :---------------- | :-------------------- | :--- | :--- | :------ | :---- | :-- |\n| TABLE\\_CATALOG    | varchar\\(512\\)        | NO   |      |         |       ||\n| TABLE\\_SCHEMA     | varchar\\(64\\)         | NO   |      |         |  |DB|\n| TABLE\\_NAME       | varchar\\(64\\)         | NO   |      |         |       ||\n| TABLE\\_TYPE       | varchar\\(64\\)         | NO   |      |         |       ||\n| ENGINE            | varchar\\(64\\)         | YES  |      | NULL    |       ||\n| VERSION           | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| ROW\\_FORMAT       | varchar\\(10\\)         | YES  |      | NULL    |       ||\n| TABLE\\_ROWS       | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| AVG\\_ROW\\_LENGTH  | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| DATA\\_LENGTH      | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| MAX\\_DATA\\_LENGTH | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| INDEX\\_LENGTH     | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| DATA\\_FREE        | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| AUTO\\_INCREMENT   | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| CREATE\\_TIME      | datetime              | YES  |      | NULL    |       ||\n| UPDATE\\_TIME      | datetime              | YES  |      | NULL    |       ||\n| CHECK\\_TIME       | datetime              | YES  |      | NULL    |       ||\n| TABLE\\_COLLATION  | varchar\\(32\\)         | YES  |      | NULL    |       ||\n| CHECKSUM          | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| CREATE\\_OPTIONS   | varchar\\(255\\)        | YES  |      | NULL    |       ||\n| TABLE\\_COMMENT    | varchar\\(2048\\)       | NO   |      |         |       ||\n\n- db\n\n```sql\nselect distinct TABLE_SCHEMA from information_schema.tables;\n\nshow databases;\n```\n\n- \n\n```sql\nselect (sum(DATA_LENGTH) + sum(INDEX_LENGTH)) as size from tables where table_schema='mysql' and table_name like 'time_%';\n```\n\n- \n\n```sql\nselect (sum(DATA_LENGTH) + sum(INDEX_LENGTH)) as size from tables where table_schema='mysql';\n```\n\n### Notice\n\n- \n- optimize table MyISAMBDBInnoDBMyISAM\n- optimize table \n- InnoDBoptimize table[Table dose not support optimize,doing recreate + analyze instead] mysqld --skip-new  mysqld --safe-mode MySQLoptimize table\n- mysqlInfobrightinformation_schema","source":"_posts/2021-03-07-Mysql-.md","raw":"---\ntitle: Mysql-\ncomments: true\ndate: 2021-03-07 18:40:36\nauthor:\ntags:\n- Mysql\ncategories:\n - \n---\n\n### \n\n- MySQLvarchartextblobMySQL\n- MySQL\n- MySQLMySQL\n\n### \n\n```sql\nselect table_name,engine,table_rows,data_length,index_length,DATA_FREE from information_schema.tables where TABLE_NAME='chat_msgs';\n\n\noptimize table chat_msgs;\n```\n\n![](https://img-blog.csdnimg.cn/20200420224821232.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n![](https://img-blog.csdnimg.cn/20200420224845211.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n\n### information_schema.tables\n\n- show create table information_schema.tables;\n\n```sql\nCREATE TEMPORARY TABLE `TABLES` (\n  `TABLE_CATALOG` varchar(512) NOT NULL DEFAULT '',\n  `TABLE_SCHEMA` varchar(64) NOT NULL DEFAULT '',\n  `TABLE_NAME` varchar(64) NOT NULL DEFAULT '',\n  `TABLE_TYPE` varchar(64) NOT NULL DEFAULT '',\n  `ENGINE` varchar(64) DEFAULT NULL,\n  `VERSION` bigint(21) unsigned DEFAULT NULL,\n  `ROW_FORMAT` varchar(10) DEFAULT NULL,\n  `TABLE_ROWS` bigint(21) unsigned DEFAULT NULL,\n  `AVG_ROW_LENGTH` bigint(21) unsigned DEFAULT NULL,\n  `DATA_LENGTH` bigint(21) unsigned DEFAULT NULL,\n  `MAX_DATA_LENGTH` bigint(21) unsigned DEFAULT NULL,\n  `INDEX_LENGTH` bigint(21) unsigned DEFAULT NULL,\n  `DATA_FREE` bigint(21) unsigned DEFAULT NULL,\n  `AUTO_INCREMENT` bigint(21) unsigned DEFAULT NULL,\n  `CREATE_TIME` datetime DEFAULT NULL,\n  `UPDATE_TIME` datetime DEFAULT NULL,\n  `CHECK_TIME` datetime DEFAULT NULL,\n  `TABLE_COLLATION` varchar(32) DEFAULT NULL,\n  `CHECKSUM` bigint(21) unsigned DEFAULT NULL,\n  `CREATE_OPTIONS` varchar(255) DEFAULT NULL,\n  `TABLE_COMMENT` varchar(2048) NOT NULL DEFAULT ''\n) ENGINE=MEMORY DEFAULT CHARSET=utf8\n```\n\n- desc information_schema.tables; \n\n| Field             | Type                  | Null | Key  | Default | Extra |  |\n| :---------------- | :-------------------- | :--- | :--- | :------ | :---- | :-- |\n| TABLE\\_CATALOG    | varchar\\(512\\)        | NO   |      |         |       ||\n| TABLE\\_SCHEMA     | varchar\\(64\\)         | NO   |      |         |  |DB|\n| TABLE\\_NAME       | varchar\\(64\\)         | NO   |      |         |       ||\n| TABLE\\_TYPE       | varchar\\(64\\)         | NO   |      |         |       ||\n| ENGINE            | varchar\\(64\\)         | YES  |      | NULL    |       ||\n| VERSION           | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| ROW\\_FORMAT       | varchar\\(10\\)         | YES  |      | NULL    |       ||\n| TABLE\\_ROWS       | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| AVG\\_ROW\\_LENGTH  | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| DATA\\_LENGTH      | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| MAX\\_DATA\\_LENGTH | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| INDEX\\_LENGTH     | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| DATA\\_FREE        | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| AUTO\\_INCREMENT   | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| CREATE\\_TIME      | datetime              | YES  |      | NULL    |       ||\n| UPDATE\\_TIME      | datetime              | YES  |      | NULL    |       ||\n| CHECK\\_TIME       | datetime              | YES  |      | NULL    |       ||\n| TABLE\\_COLLATION  | varchar\\(32\\)         | YES  |      | NULL    |       ||\n| CHECKSUM          | bigint\\(21\\) unsigned | YES  |      | NULL    |       ||\n| CREATE\\_OPTIONS   | varchar\\(255\\)        | YES  |      | NULL    |       ||\n| TABLE\\_COMMENT    | varchar\\(2048\\)       | NO   |      |         |       ||\n\n- db\n\n```sql\nselect distinct TABLE_SCHEMA from information_schema.tables;\n\nshow databases;\n```\n\n- \n\n```sql\nselect (sum(DATA_LENGTH) + sum(INDEX_LENGTH)) as size from tables where table_schema='mysql' and table_name like 'time_%';\n```\n\n- \n\n```sql\nselect (sum(DATA_LENGTH) + sum(INDEX_LENGTH)) as size from tables where table_schema='mysql';\n```\n\n### Notice\n\n- \n- optimize table MyISAMBDBInnoDBMyISAM\n- optimize table \n- InnoDBoptimize table[Table dose not support optimize,doing recreate + analyze instead] mysqld --skip-new  mysqld --safe-mode MySQLoptimize table\n- mysqlInfobrightinformation_schema","slug":"Mysql-","published":1,"updated":"2021-03-07T10:41:03.921Z","_id":"cklz0yhu8002q6rs66xgr5e9z","layout":"post","photos":[],"link":"","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>MySQLvarchartextblobMySQL</li>\n<li>MySQL</li>\n<li>MySQLMySQL</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> table_name<span class=\"token punctuation\">,</span><span class=\"token keyword\">engine</span><span class=\"token punctuation\">,</span>table_rows<span class=\"token punctuation\">,</span>data_length<span class=\"token punctuation\">,</span>index_length<span class=\"token punctuation\">,</span>DATA_FREE <span class=\"token keyword\">from</span> information_schema<span class=\"token punctuation\">.</span><span class=\"token keyword\">tables</span> <span class=\"token keyword\">where</span> TABLE_NAME<span class=\"token operator\">=</span><span class=\"token string\">'chat_msgs'</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">optimize</span> <span class=\"token keyword\">table</span> chat_msgs<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://img-blog.csdnimg.cn/20200420224821232.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"><br><img src=\"https://img-blog.csdnimg.cn/20200420224845211.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n<h3 id=\"information-schema-tables\"><a href=\"#information-schema-tables\" class=\"headerlink\" title=\"information_schema.tables\"></a>information_schema.tables</h3><ul>\n<li>show create table information_schema.tables;</li>\n</ul>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TEMPORARY</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">`</span><span class=\"token keyword\">TABLES</span><span class=\"token punctuation\">`</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">`</span>TABLE_CATALOG<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">512</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>TABLE_SCHEMA<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>TABLE_NAME<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>TABLE_TYPE<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span><span class=\"token keyword\">ENGINE</span><span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>VERSION<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>ROW_FORMAT<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>TABLE_ROWS<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>AVG_ROW_LENGTH<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>DATA_LENGTH<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>MAX_DATA_LENGTH<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>INDEX_LENGTH<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>DATA_FREE<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span><span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>CREATE_TIME<span class=\"token punctuation\">`</span> <span class=\"token keyword\">datetime</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>UPDATE_TIME<span class=\"token punctuation\">`</span> <span class=\"token keyword\">datetime</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>CHECK_TIME<span class=\"token punctuation\">`</span> <span class=\"token keyword\">datetime</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>TABLE_COLLATION<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>CHECKSUM<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>CREATE_OPTIONS<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>TABLE_COMMENT<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">2048</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span>\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span>MEMORY <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>desc information_schema.tables; </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Field</th>\n<th align=\"left\">Type</th>\n<th align=\"left\">Null</th>\n<th align=\"left\">Key</th>\n<th align=\"left\">Default</th>\n<th align=\"left\">Extra</th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">TABLE_CATALOG</td>\n<td align=\"left\">varchar(512)</td>\n<td align=\"left\">NO</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">TABLE_SCHEMA</td>\n<td align=\"left\">varchar(64)</td>\n<td align=\"left\">NO</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\">DB</td>\n</tr>\n<tr>\n<td align=\"left\">TABLE_NAME</td>\n<td align=\"left\">varchar(64)</td>\n<td align=\"left\">NO</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">TABLE_TYPE</td>\n<td align=\"left\">varchar(64)</td>\n<td align=\"left\">NO</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">ENGINE</td>\n<td align=\"left\">varchar(64)</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">VERSION</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">ROW_FORMAT</td>\n<td align=\"left\">varchar(10)</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">TABLE_ROWS</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">AVG_ROW_LENGTH</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">DATA_LENGTH</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">MAX_DATA_LENGTH</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">INDEX_LENGTH</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">DATA_FREE</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">AUTO_INCREMENT</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">CREATE_TIME</td>\n<td align=\"left\">datetime</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">UPDATE_TIME</td>\n<td align=\"left\">datetime</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">CHECK_TIME</td>\n<td align=\"left\">datetime</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">TABLE_COLLATION</td>\n<td align=\"left\">varchar(32)</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">CHECKSUM</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">CREATE_OPTIONS</td>\n<td align=\"left\">varchar(255)</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">TABLE_COMMENT</td>\n<td align=\"left\">varchar(2048)</td>\n<td align=\"left\">NO</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<ul>\n<li>db</li>\n</ul>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token keyword\">distinct</span> TABLE_SCHEMA <span class=\"token keyword\">from</span> information_schema<span class=\"token punctuation\">.</span><span class=\"token keyword\">tables</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">show</span> <span class=\"token keyword\">databases</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token punctuation\">(</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>DATA_LENGTH<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>INDEX_LENGTH<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> size <span class=\"token keyword\">from</span> <span class=\"token keyword\">tables</span> <span class=\"token keyword\">where</span> table_schema<span class=\"token operator\">=</span><span class=\"token string\">'mysql'</span> <span class=\"token operator\">and</span> table_name <span class=\"token operator\">like</span> <span class=\"token string\">'time_%'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token punctuation\">(</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>DATA_LENGTH<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>INDEX_LENGTH<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> size <span class=\"token keyword\">from</span> <span class=\"token keyword\">tables</span> <span class=\"token keyword\">where</span> table_schema<span class=\"token operator\">=</span><span class=\"token string\">'mysql'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"Notice\"><a href=\"#Notice\" class=\"headerlink\" title=\"Notice\"></a>Notice</h3><ul>\n<li></li>\n<li>optimize table MyISAMBDBInnoDBMyISAM</li>\n<li>optimize table </li>\n<li>InnoDBoptimize table[Table dose not support optimize,doing recreate + analyze instead] mysqld skip-new  mysqld safe-mode MySQLoptimize table</li>\n<li>mysqlInfobrightinformation_schema</li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>MySQLvarchartextblobMySQL</li>\n<li>MySQL</li>\n<li>MySQLMySQL</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> table_name<span class=\"token punctuation\">,</span><span class=\"token keyword\">engine</span><span class=\"token punctuation\">,</span>table_rows<span class=\"token punctuation\">,</span>data_length<span class=\"token punctuation\">,</span>index_length<span class=\"token punctuation\">,</span>DATA_FREE <span class=\"token keyword\">from</span> information_schema<span class=\"token punctuation\">.</span><span class=\"token keyword\">tables</span> <span class=\"token keyword\">where</span> TABLE_NAME<span class=\"token operator\">=</span><span class=\"token string\">'chat_msgs'</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">optimize</span> <span class=\"token keyword\">table</span> chat_msgs<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://img-blog.csdnimg.cn/20200420224821232.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"><br><img src=\"https://img-blog.csdnimg.cn/20200420224845211.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n<h3 id=\"information-schema-tables\"><a href=\"#information-schema-tables\" class=\"headerlink\" title=\"information_schema.tables\"></a>information_schema.tables</h3><ul>\n<li>show create table information_schema.tables;</li>\n</ul>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TEMPORARY</span> <span class=\"token keyword\">TABLE</span> <span class=\"token punctuation\">`</span><span class=\"token keyword\">TABLES</span><span class=\"token punctuation\">`</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">`</span>TABLE_CATALOG<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">512</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>TABLE_SCHEMA<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>TABLE_NAME<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>TABLE_TYPE<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span><span class=\"token keyword\">ENGINE</span><span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">64</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>VERSION<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>ROW_FORMAT<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>TABLE_ROWS<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>AVG_ROW_LENGTH<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>DATA_LENGTH<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>MAX_DATA_LENGTH<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>INDEX_LENGTH<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>DATA_FREE<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span><span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>CREATE_TIME<span class=\"token punctuation\">`</span> <span class=\"token keyword\">datetime</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>UPDATE_TIME<span class=\"token punctuation\">`</span> <span class=\"token keyword\">datetime</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>CHECK_TIME<span class=\"token punctuation\">`</span> <span class=\"token keyword\">datetime</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>TABLE_COLLATION<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">32</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>CHECKSUM<span class=\"token punctuation\">`</span> <span class=\"token keyword\">bigint</span><span class=\"token punctuation\">(</span><span class=\"token number\">21</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">unsigned</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>CREATE_OPTIONS<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">`</span>TABLE_COMMENT<span class=\"token punctuation\">`</span> <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">2048</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">NOT</span> <span class=\"token boolean\">NULL</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">''</span>\n<span class=\"token punctuation\">)</span> <span class=\"token keyword\">ENGINE</span><span class=\"token operator\">=</span>MEMORY <span class=\"token keyword\">DEFAULT</span> <span class=\"token keyword\">CHARSET</span><span class=\"token operator\">=</span>utf8<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li>desc information_schema.tables; </li>\n</ul>\n<table>\n<thead>\n<tr>\n<th align=\"left\">Field</th>\n<th align=\"left\">Type</th>\n<th align=\"left\">Null</th>\n<th align=\"left\">Key</th>\n<th align=\"left\">Default</th>\n<th align=\"left\">Extra</th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">TABLE_CATALOG</td>\n<td align=\"left\">varchar(512)</td>\n<td align=\"left\">NO</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">TABLE_SCHEMA</td>\n<td align=\"left\">varchar(64)</td>\n<td align=\"left\">NO</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\">DB</td>\n</tr>\n<tr>\n<td align=\"left\">TABLE_NAME</td>\n<td align=\"left\">varchar(64)</td>\n<td align=\"left\">NO</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">TABLE_TYPE</td>\n<td align=\"left\">varchar(64)</td>\n<td align=\"left\">NO</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">ENGINE</td>\n<td align=\"left\">varchar(64)</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">VERSION</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">ROW_FORMAT</td>\n<td align=\"left\">varchar(10)</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">TABLE_ROWS</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">AVG_ROW_LENGTH</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">DATA_LENGTH</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">MAX_DATA_LENGTH</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">INDEX_LENGTH</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">DATA_FREE</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">AUTO_INCREMENT</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">CREATE_TIME</td>\n<td align=\"left\">datetime</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">UPDATE_TIME</td>\n<td align=\"left\">datetime</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">CHECK_TIME</td>\n<td align=\"left\">datetime</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">TABLE_COLLATION</td>\n<td align=\"left\">varchar(32)</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">CHECKSUM</td>\n<td align=\"left\">bigint(21) unsigned</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">CREATE_OPTIONS</td>\n<td align=\"left\">varchar(255)</td>\n<td align=\"left\">YES</td>\n<td align=\"left\"></td>\n<td align=\"left\">NULL</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">TABLE_COMMENT</td>\n<td align=\"left\">varchar(2048)</td>\n<td align=\"left\">NO</td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<ul>\n<li>db</li>\n</ul>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token keyword\">distinct</span> TABLE_SCHEMA <span class=\"token keyword\">from</span> information_schema<span class=\"token punctuation\">.</span><span class=\"token keyword\">tables</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">show</span> <span class=\"token keyword\">databases</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token punctuation\">(</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>DATA_LENGTH<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>INDEX_LENGTH<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> size <span class=\"token keyword\">from</span> <span class=\"token keyword\">tables</span> <span class=\"token keyword\">where</span> table_schema<span class=\"token operator\">=</span><span class=\"token string\">'mysql'</span> <span class=\"token operator\">and</span> table_name <span class=\"token operator\">like</span> <span class=\"token string\">'time_%'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">select</span> <span class=\"token punctuation\">(</span><span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>DATA_LENGTH<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token function\">sum</span><span class=\"token punctuation\">(</span>INDEX_LENGTH<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">as</span> size <span class=\"token keyword\">from</span> <span class=\"token keyword\">tables</span> <span class=\"token keyword\">where</span> table_schema<span class=\"token operator\">=</span><span class=\"token string\">'mysql'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h3 id=\"Notice\"><a href=\"#Notice\" class=\"headerlink\" title=\"Notice\"></a>Notice</h3><ul>\n<li></li>\n<li>optimize table MyISAMBDBInnoDBMyISAM</li>\n<li>optimize table </li>\n<li>InnoDBoptimize table[Table dose not support optimize,doing recreate + analyze instead] mysqld skip-new  mysqld safe-mode MySQLoptimize table</li>\n<li>mysqlInfobrightinformation_schema</li>\n</ul>\n"},{"title":"","comments":1,"date":"2021-03-07T10:22:20.000Z","author":null,"_content":"\n### A[1..n]n\n- pushpopO(1)\n\n##### \n\n- push\n```go\npackage main\n\nimport \"fmt\"\n\nconst maxSize = 10\nconst (\n\tsLeft stackType = iota\n\tsRight\n)\n\ntype stackType int\n\ntype Stack struct {\n\tarr   [maxSize]int\n\tleft  int\n\tright int\n}\n\nvar stack = Stack{\n\tarr:   [maxSize]int{},\n\tleft:  -1,\n\tright: maxSize,\n}\n\nfunc (s *Stack) Push(val int, stackType stackType) bool {\n\tif s.IsFull() {\n\t\treturn false\n\t}\n\tif stackType == sLeft {\n\t\ts.arr[s.left+1] = val\n\t\ts.left++\n\t} else {\n\t\ts.arr[s.right-1] = val\n\t\ts.right--\n\t}\n\treturn true\n}\n\nfunc (s *Stack) Pop(stackType stackType) (val int, exist bool) {\n\tif stackType == sLeft {\n\t\tif s.left > -1 {\n\t\t\tval = s.arr[s.left]\n\t\t\texist = true\n\t\t\ts.left--\n\t\t}\n\t} else {\n\t\tif s.right < maxSize {\n\t\t\tval = s.arr[s.right]\n\t\t\texist = true\n\t\t\ts.right++\n\t\t}\n\t}\n\treturn\n}\n\n// \nfunc (s *Stack) IsEmpty() bool {\n\tif s.right == maxSize && s.left == -1 {\n\t\treturn true\n\t}\n\treturn false\n}\n\nfunc (s *Stack) IsFull() bool {\n\tif s.right-s.left == 1 {\n\t\treturn true\n\t}\n\treturn false\n}\n```\n\n","source":"_posts/2021-03-07--.md","raw":"---\ntitle: \ncomments: true\ndate: 2021-03-07 18:22:20\nauthor:\ntags:\n - Golang\n - \ncategories:\n - \n---\n\n### A[1..n]n\n- pushpopO(1)\n\n##### \n\n- push\n```go\npackage main\n\nimport \"fmt\"\n\nconst maxSize = 10\nconst (\n\tsLeft stackType = iota\n\tsRight\n)\n\ntype stackType int\n\ntype Stack struct {\n\tarr   [maxSize]int\n\tleft  int\n\tright int\n}\n\nvar stack = Stack{\n\tarr:   [maxSize]int{},\n\tleft:  -1,\n\tright: maxSize,\n}\n\nfunc (s *Stack) Push(val int, stackType stackType) bool {\n\tif s.IsFull() {\n\t\treturn false\n\t}\n\tif stackType == sLeft {\n\t\ts.arr[s.left+1] = val\n\t\ts.left++\n\t} else {\n\t\ts.arr[s.right-1] = val\n\t\ts.right--\n\t}\n\treturn true\n}\n\nfunc (s *Stack) Pop(stackType stackType) (val int, exist bool) {\n\tif stackType == sLeft {\n\t\tif s.left > -1 {\n\t\t\tval = s.arr[s.left]\n\t\t\texist = true\n\t\t\ts.left--\n\t\t}\n\t} else {\n\t\tif s.right < maxSize {\n\t\t\tval = s.arr[s.right]\n\t\t\texist = true\n\t\t\ts.right++\n\t\t}\n\t}\n\treturn\n}\n\n// \nfunc (s *Stack) IsEmpty() bool {\n\tif s.right == maxSize && s.left == -1 {\n\t\treturn true\n\t}\n\treturn false\n}\n\nfunc (s *Stack) IsFull() bool {\n\tif s.right-s.left == 1 {\n\t\treturn true\n\t}\n\treturn false\n}\n```\n\n","slug":"-","published":1,"updated":"2021-03-07T10:44:08.197Z","_id":"cklz11jix002t6rs6dnbt62yf","layout":"post","photos":[],"link":"","content":"<h3 id=\"A-1-n-n\"><a href=\"#A-1-n-n\" class=\"headerlink\" title=\"A[1..n]n\"></a>A[1..n]n</h3><ul>\n<li>pushpopO(1)</li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li>push<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span>\n\n<span class=\"token keyword\">const</span> maxSize <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">(</span>\n\tsLeft stackType <span class=\"token operator\">=</span> <span class=\"token boolean\">iota</span>\n\tsRight\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">type</span> stackType <span class=\"token builtin\">int</span>\n\n<span class=\"token keyword\">type</span> Stack <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tarr   <span class=\"token punctuation\">[</span>maxSize<span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span>\n\tleft  <span class=\"token builtin\">int</span>\n\tright <span class=\"token builtin\">int</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">var</span> stack <span class=\"token operator\">=</span> Stack<span class=\"token punctuation\">&#123;</span>\n\tarr<span class=\"token punctuation\">:</span>   <span class=\"token punctuation\">[</span>maxSize<span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\tleft<span class=\"token punctuation\">:</span>  <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n\tright<span class=\"token punctuation\">:</span> maxSize<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> stackType stackType<span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">IsFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">if</span> stackType <span class=\"token operator\">==</span> sLeft <span class=\"token punctuation\">&#123;</span>\n\t\ts<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">.</span>left<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val\n\t\ts<span class=\"token punctuation\">.</span>left<span class=\"token operator\">++</span>\n\t<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n\t\ts<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">.</span>right<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val\n\t\ts<span class=\"token punctuation\">.</span>right<span class=\"token operator\">--</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span>stackType stackType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> exist <span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> stackType <span class=\"token operator\">==</span> sLeft <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span>left <span class=\"token operator\">></span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\tval <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">.</span>left<span class=\"token punctuation\">]</span>\n\t\t\texist <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n\t\t\ts<span class=\"token punctuation\">.</span>left<span class=\"token operator\">--</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span>right <span class=\"token operator\">&lt;</span> maxSize <span class=\"token punctuation\">&#123;</span>\n\t\t\tval <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">.</span>right<span class=\"token punctuation\">]</span>\n\t\t\texist <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n\t\t\ts<span class=\"token punctuation\">.</span>right<span class=\"token operator\">++</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">IsEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span>right <span class=\"token operator\">==</span> maxSize <span class=\"token operator\">&amp;&amp;</span> s<span class=\"token punctuation\">.</span>left <span class=\"token operator\">==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">IsFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span>right<span class=\"token operator\">-</span>s<span class=\"token punctuation\">.</span>left <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"A-1-n-n\"><a href=\"#A-1-n-n\" class=\"headerlink\" title=\"A[1..n]n\"></a>A[1..n]n</h3><ul>\n<li>pushpopO(1)</li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li>push<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"fmt\"</span>\n\n<span class=\"token keyword\">const</span> maxSize <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n<span class=\"token keyword\">const</span> <span class=\"token punctuation\">(</span>\n\tsLeft stackType <span class=\"token operator\">=</span> <span class=\"token boolean\">iota</span>\n\tsRight\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">type</span> stackType <span class=\"token builtin\">int</span>\n\n<span class=\"token keyword\">type</span> Stack <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tarr   <span class=\"token punctuation\">[</span>maxSize<span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span>\n\tleft  <span class=\"token builtin\">int</span>\n\tright <span class=\"token builtin\">int</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">var</span> stack <span class=\"token operator\">=</span> Stack<span class=\"token punctuation\">&#123;</span>\n\tarr<span class=\"token punctuation\">:</span>   <span class=\"token punctuation\">[</span>maxSize<span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n\tleft<span class=\"token punctuation\">:</span>  <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n\tright<span class=\"token punctuation\">:</span> maxSize<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> stackType stackType<span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">IsFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">if</span> stackType <span class=\"token operator\">==</span> sLeft <span class=\"token punctuation\">&#123;</span>\n\t\ts<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">.</span>left<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val\n\t\ts<span class=\"token punctuation\">.</span>left<span class=\"token operator\">++</span>\n\t<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n\t\ts<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">.</span>right<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val\n\t\ts<span class=\"token punctuation\">.</span>right<span class=\"token operator\">--</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span>stackType stackType<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> exist <span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> stackType <span class=\"token operator\">==</span> sLeft <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span>left <span class=\"token operator\">></span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\tval <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">.</span>left<span class=\"token punctuation\">]</span>\n\t\t\texist <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n\t\t\ts<span class=\"token punctuation\">.</span>left<span class=\"token operator\">--</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span>right <span class=\"token operator\">&lt;</span> maxSize <span class=\"token punctuation\">&#123;</span>\n\t\t\tval <span class=\"token operator\">=</span> s<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">.</span>right<span class=\"token punctuation\">]</span>\n\t\t\texist <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span>\n\t\t\ts<span class=\"token punctuation\">.</span>right<span class=\"token operator\">++</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">IsEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span>right <span class=\"token operator\">==</span> maxSize <span class=\"token operator\">&amp;&amp;</span> s<span class=\"token punctuation\">.</span>left <span class=\"token operator\">==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">IsFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span>right<span class=\"token operator\">-</span>s<span class=\"token punctuation\">.</span>left <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n"},{"title":"-","comments":1,"date":"2021-03-07T10:17:47.000Z","author":null,"_content":"\n### \n- pushpopO(1)\n- pushpopO(n)n\n- flagpushpopO(1)\n```go\npackage main\n\nconst maxSize = 10\n\ntype StackDeque struct {\n\tpushStack *Stack\n\tpopStack  *Stack\n\tflag      bool // true in pushfalse in pop\n}\n\nfunc (s *StackDeque) exchange(from, to *Stack) {\n\tto.Clean()\n\tfor true {\n\t\tif v, ok := from.Pop(); ok {\n\t\t\tto.Push(v)\n\t\t} else {\n\t\t\tbreak\n\t\t}\n\t}\n\ts.flag = !s.flag\n}\n\nfunc (s *StackDeque) Push(val int) bool {\n\tif !s.flag { // pop\n\t\ts.exchange(s.popStack, s.pushStack)\n\t}\n\treturn s.pushStack.Push(val)\n}\n\nfunc (s *StackDeque) Pop() (int, bool) {\n\tif s.flag {\n\t\ts.exchange(s.pushStack, s.popStack)\n\t}\n\treturn s.popStack.Pop()\n}\n\n// --------------------------------\ntype Stack struct {\n\tarr  [maxSize]int\n\tsize int\n}\n\nfunc (s *Stack) isFull() bool {\n\tif s.size == maxSize {\n\t\treturn true\n\t}\n\treturn false\n}\n\nfunc (s *Stack) isEmpty() bool {\n\tif s.size == 0 {\n\t\treturn true\n\t}\n\treturn false\n}\n\nfunc (s *Stack) Push(val int) bool {\n\tif s.isFull() {\n\t\treturn false\n\t}\n\ts.arr[s.size] = val\n\ts.size++\n\treturn true\n}\n\nfunc (s *Stack) Pop() (int, bool) {\n\tif s.isEmpty() {\n\t\treturn 0, false\n\t}\n\tval := s.arr[s.size-1]\n\ts.size--\n\treturn val, true\n}\n\nfunc (s *Stack) Clean() {\n\ts.size = 0\n}\n\n// --------------------------------\n```\n","source":"_posts/2021-03-07--.md","raw":"---\ntitle: -\ncomments: true\ndate: 2021-03-07 18:17:47\nauthor:\ntags:\n - Golang\n - \ncategories:\n - \n---\n\n### \n- pushpopO(1)\n- pushpopO(n)n\n- flagpushpopO(1)\n```go\npackage main\n\nconst maxSize = 10\n\ntype StackDeque struct {\n\tpushStack *Stack\n\tpopStack  *Stack\n\tflag      bool // true in pushfalse in pop\n}\n\nfunc (s *StackDeque) exchange(from, to *Stack) {\n\tto.Clean()\n\tfor true {\n\t\tif v, ok := from.Pop(); ok {\n\t\t\tto.Push(v)\n\t\t} else {\n\t\t\tbreak\n\t\t}\n\t}\n\ts.flag = !s.flag\n}\n\nfunc (s *StackDeque) Push(val int) bool {\n\tif !s.flag { // pop\n\t\ts.exchange(s.popStack, s.pushStack)\n\t}\n\treturn s.pushStack.Push(val)\n}\n\nfunc (s *StackDeque) Pop() (int, bool) {\n\tif s.flag {\n\t\ts.exchange(s.pushStack, s.popStack)\n\t}\n\treturn s.popStack.Pop()\n}\n\n// --------------------------------\ntype Stack struct {\n\tarr  [maxSize]int\n\tsize int\n}\n\nfunc (s *Stack) isFull() bool {\n\tif s.size == maxSize {\n\t\treturn true\n\t}\n\treturn false\n}\n\nfunc (s *Stack) isEmpty() bool {\n\tif s.size == 0 {\n\t\treturn true\n\t}\n\treturn false\n}\n\nfunc (s *Stack) Push(val int) bool {\n\tif s.isFull() {\n\t\treturn false\n\t}\n\ts.arr[s.size] = val\n\ts.size++\n\treturn true\n}\n\nfunc (s *Stack) Pop() (int, bool) {\n\tif s.isEmpty() {\n\t\treturn 0, false\n\t}\n\tval := s.arr[s.size-1]\n\ts.size--\n\treturn val, true\n}\n\nfunc (s *Stack) Clean() {\n\ts.size = 0\n}\n\n// --------------------------------\n```\n","slug":"-","published":1,"updated":"2021-03-07T10:44:05.209Z","_id":"cklz11taa002x6rs607u566h8","layout":"post","photos":[],"link":"","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>pushpopO(1)</li>\n<li>pushpopO(n)n</li>\n<li>flagpushpopO(1)<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">const</span> maxSize <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n\n<span class=\"token keyword\">type</span> StackDeque <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tpushStack <span class=\"token operator\">*</span>Stack\n\tpopStack  <span class=\"token operator\">*</span>Stack\n\tflag      <span class=\"token builtin\">bool</span> <span class=\"token comment\">// true in pushfalse in pop</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>StackDeque<span class=\"token punctuation\">)</span> <span class=\"token function\">exchange</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">,</span> to <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\tto<span class=\"token punctuation\">.</span><span class=\"token function\">Clean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">for</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">if</span> v<span class=\"token punctuation\">,</span> ok <span class=\"token operator\">:=</span> from<span class=\"token punctuation\">.</span><span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> ok <span class=\"token punctuation\">&#123;</span>\n\t\t\tto<span class=\"token punctuation\">.</span><span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t<span class=\"token keyword\">break</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\ts<span class=\"token punctuation\">.</span>flag <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>s<span class=\"token punctuation\">.</span>flag\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>StackDeque<span class=\"token punctuation\">)</span> <span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token operator\">!</span>s<span class=\"token punctuation\">.</span>flag <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// pop</span>\n\t\ts<span class=\"token punctuation\">.</span><span class=\"token function\">exchange</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">.</span>popStack<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">.</span>pushStack<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> s<span class=\"token punctuation\">.</span>pushStack<span class=\"token punctuation\">.</span><span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>StackDeque<span class=\"token punctuation\">)</span> <span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span>flag <span class=\"token punctuation\">&#123;</span>\n\t\ts<span class=\"token punctuation\">.</span><span class=\"token function\">exchange</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">.</span>pushStack<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">.</span>popStack<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> s<span class=\"token punctuation\">.</span>popStack<span class=\"token punctuation\">.</span><span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// --------------------------------</span>\n<span class=\"token keyword\">type</span> Stack <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tarr  <span class=\"token punctuation\">[</span>maxSize<span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span>\n\tsize <span class=\"token builtin\">int</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">isFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span>size <span class=\"token operator\">==</span> maxSize <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span>size <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">isFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\ts<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val\n\ts<span class=\"token punctuation\">.</span>size<span class=\"token operator\">++</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\tval <span class=\"token operator\">:=</span> s<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">.</span>size<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\ts<span class=\"token punctuation\">.</span>size<span class=\"token operator\">--</span>\n\t<span class=\"token keyword\">return</span> val<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">Clean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\ts<span class=\"token punctuation\">.</span>size <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// --------------------------------</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li>pushpopO(1)</li>\n<li>pushpopO(n)n</li>\n<li>flagpushpopO(1)<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">const</span> maxSize <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n\n<span class=\"token keyword\">type</span> StackDeque <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tpushStack <span class=\"token operator\">*</span>Stack\n\tpopStack  <span class=\"token operator\">*</span>Stack\n\tflag      <span class=\"token builtin\">bool</span> <span class=\"token comment\">// true in pushfalse in pop</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>StackDeque<span class=\"token punctuation\">)</span> <span class=\"token function\">exchange</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">,</span> to <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\tto<span class=\"token punctuation\">.</span><span class=\"token function\">Clean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">for</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">if</span> v<span class=\"token punctuation\">,</span> ok <span class=\"token operator\">:=</span> from<span class=\"token punctuation\">.</span><span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> ok <span class=\"token punctuation\">&#123;</span>\n\t\t\tto<span class=\"token punctuation\">.</span><span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t<span class=\"token keyword\">break</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\ts<span class=\"token punctuation\">.</span>flag <span class=\"token operator\">=</span> <span class=\"token operator\">!</span>s<span class=\"token punctuation\">.</span>flag\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>StackDeque<span class=\"token punctuation\">)</span> <span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token operator\">!</span>s<span class=\"token punctuation\">.</span>flag <span class=\"token punctuation\">&#123;</span> <span class=\"token comment\">// pop</span>\n\t\ts<span class=\"token punctuation\">.</span><span class=\"token function\">exchange</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">.</span>popStack<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">.</span>pushStack<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> s<span class=\"token punctuation\">.</span>pushStack<span class=\"token punctuation\">.</span><span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>StackDeque<span class=\"token punctuation\">)</span> <span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span>flag <span class=\"token punctuation\">&#123;</span>\n\t\ts<span class=\"token punctuation\">.</span><span class=\"token function\">exchange</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">.</span>pushStack<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">.</span>popStack<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> s<span class=\"token punctuation\">.</span>popStack<span class=\"token punctuation\">.</span><span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// --------------------------------</span>\n<span class=\"token keyword\">type</span> Stack <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tarr  <span class=\"token punctuation\">[</span>maxSize<span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span>\n\tsize <span class=\"token builtin\">int</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">isFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span>size <span class=\"token operator\">==</span> maxSize <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span>size <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">isFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\ts<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">.</span>size<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val\n\ts<span class=\"token punctuation\">.</span>size<span class=\"token operator\">++</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> s<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\tval <span class=\"token operator\">:=</span> s<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>s<span class=\"token punctuation\">.</span>size<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\ts<span class=\"token punctuation\">.</span>size<span class=\"token operator\">--</span>\n\t<span class=\"token keyword\">return</span> val<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>s <span class=\"token operator\">*</span>Stack<span class=\"token punctuation\">)</span> <span class=\"token function\">Clean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\ts<span class=\"token punctuation\">.</span>size <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// --------------------------------</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n"},{"title":"-","comments":1,"date":"2021-03-07T10:14:53.000Z","author":null,"_content":"\n### \n[](https://liyuxing.blog.csdn.net/article/details/111464812)\n```go\ntype DequeStack struct {\n\tpushDeque *Deque\n\tpopDeque *Deque\n\tflag bool // true in push, false in pop\n}\n\nfunc (d *DequeStack) exchange(from, to *Deque) {\n\tto.Clean()\n\tfor true {\n\t\tif v, ok := from.Pop(); ok {\n\t\t\tto.Push(v)\n\t\t} else {\n\t\t\tbreak\n\t\t}\n\t}\n\td.flag=!d.flag\n}\n\nfunc (d *DequeStack) Push(val int) bool {\n\tif !d.flag{\n\t\td.exchange(d.popDeque, d.pushDeque)\n\t}\n\treturn d.pushDeque.Push(val)\n}\n\nfunc (d *DequeStack) Pop() (int, bool){\n\tif d.flag{\n\t\td.exchange(d.pushDeque, d.popDeque)\n\t}\n\treturn d.popDeque.Pop()\n}\n\n// \ntype Deque struct {\n\tarr  [maxSize]int\n\thead int\n\ttail int\n\tsize int\n}\n\nfunc (d *Deque) next(position int) int {\n\tif position == len(d.arr)-1 {\n\t\treturn 0\n\t}\n\treturn position + 1\n}\n\nfunc (d *Deque) isFull() bool {\n\treturn d.size == len(d.arr)\n}\n\nfunc (d *Deque) isEmpty() bool {\n\treturn d.size == 0\n}\n\nfunc (d *Deque) Push(val int) bool {\n\tif d.isFull() {\n\t\treturn false\n\t}\n\td.arr[d.tail] = val\n\td.tail = d.next(d.tail)\n\td.size++\n\treturn true\n}\n\nfunc (d *Deque) Pop() (int, bool) {\n\tif d.isEmpty() {\n\t\treturn 0, false\n\t}\n\tval := d.arr[d.head]\n\td.head = d.next(d.head)\n\td.size--\n\treturn val, true\n}\n\nfunc (d *Deque) Clean() {\n\td.head = 0\n\td.tail = 0\n\td.size = 0\n}\n```\n","source":"_posts/2021-03-07--.md","raw":"---\ntitle: -\ncomments: true\ndate: 2021-03-07 18:14:53\nauthor:\ntags:\n - Golang\n - \ncategories:\n - \n---\n\n### \n[](https://liyuxing.blog.csdn.net/article/details/111464812)\n```go\ntype DequeStack struct {\n\tpushDeque *Deque\n\tpopDeque *Deque\n\tflag bool // true in push, false in pop\n}\n\nfunc (d *DequeStack) exchange(from, to *Deque) {\n\tto.Clean()\n\tfor true {\n\t\tif v, ok := from.Pop(); ok {\n\t\t\tto.Push(v)\n\t\t} else {\n\t\t\tbreak\n\t\t}\n\t}\n\td.flag=!d.flag\n}\n\nfunc (d *DequeStack) Push(val int) bool {\n\tif !d.flag{\n\t\td.exchange(d.popDeque, d.pushDeque)\n\t}\n\treturn d.pushDeque.Push(val)\n}\n\nfunc (d *DequeStack) Pop() (int, bool){\n\tif d.flag{\n\t\td.exchange(d.pushDeque, d.popDeque)\n\t}\n\treturn d.popDeque.Pop()\n}\n\n// \ntype Deque struct {\n\tarr  [maxSize]int\n\thead int\n\ttail int\n\tsize int\n}\n\nfunc (d *Deque) next(position int) int {\n\tif position == len(d.arr)-1 {\n\t\treturn 0\n\t}\n\treturn position + 1\n}\n\nfunc (d *Deque) isFull() bool {\n\treturn d.size == len(d.arr)\n}\n\nfunc (d *Deque) isEmpty() bool {\n\treturn d.size == 0\n}\n\nfunc (d *Deque) Push(val int) bool {\n\tif d.isFull() {\n\t\treturn false\n\t}\n\td.arr[d.tail] = val\n\td.tail = d.next(d.tail)\n\td.size++\n\treturn true\n}\n\nfunc (d *Deque) Pop() (int, bool) {\n\tif d.isEmpty() {\n\t\treturn 0, false\n\t}\n\tval := d.arr[d.head]\n\td.head = d.next(d.head)\n\td.size--\n\treturn val, true\n}\n\nfunc (d *Deque) Clean() {\n\td.head = 0\n\td.tail = 0\n\td.size = 0\n}\n```\n","slug":"-","published":1,"updated":"2021-03-07T10:44:03.828Z","_id":"cklz12ptu00316rs64eoqh6bs","layout":"post","photos":[],"link":"","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://liyuxing.blog.csdn.net/article/details/111464812\"></a></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">type</span> DequeStack <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tpushDeque <span class=\"token operator\">*</span>Deque\n\tpopDeque <span class=\"token operator\">*</span>Deque\n\tflag <span class=\"token builtin\">bool</span> <span class=\"token comment\">// true in push, false in pop</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>DequeStack<span class=\"token punctuation\">)</span> <span class=\"token function\">exchange</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">,</span> to <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\tto<span class=\"token punctuation\">.</span><span class=\"token function\">Clean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">for</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">if</span> v<span class=\"token punctuation\">,</span> ok <span class=\"token operator\">:=</span> from<span class=\"token punctuation\">.</span><span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> ok <span class=\"token punctuation\">&#123;</span>\n\t\t\tto<span class=\"token punctuation\">.</span><span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t<span class=\"token keyword\">break</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\td<span class=\"token punctuation\">.</span>flag<span class=\"token operator\">=</span><span class=\"token operator\">!</span>d<span class=\"token punctuation\">.</span>flag\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>DequeStack<span class=\"token punctuation\">)</span> <span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token operator\">!</span>d<span class=\"token punctuation\">.</span>flag<span class=\"token punctuation\">&#123;</span>\n\t\td<span class=\"token punctuation\">.</span><span class=\"token function\">exchange</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>popDeque<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">.</span>pushDeque<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> d<span class=\"token punctuation\">.</span>pushDeque<span class=\"token punctuation\">.</span><span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>DequeStack<span class=\"token punctuation\">)</span> <span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span>flag<span class=\"token punctuation\">&#123;</span>\n\t\td<span class=\"token punctuation\">.</span><span class=\"token function\">exchange</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>pushDeque<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">.</span>popDeque<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> d<span class=\"token punctuation\">.</span>popDeque<span class=\"token punctuation\">.</span><span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">type</span> Deque <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tarr  <span class=\"token punctuation\">[</span>maxSize<span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span>\n\thead <span class=\"token builtin\">int</span>\n\ttail <span class=\"token builtin\">int</span>\n\tsize <span class=\"token builtin\">int</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">next</span><span class=\"token punctuation\">(</span>position <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">int</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> position <span class=\"token operator\">==</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> position <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">isFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">return</span> d<span class=\"token punctuation\">.</span>size <span class=\"token operator\">==</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">return</span> d<span class=\"token punctuation\">.</span>size <span class=\"token operator\">==</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\td<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">.</span>tail<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val\n\td<span class=\"token punctuation\">.</span>tail <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>tail<span class=\"token punctuation\">)</span>\n\td<span class=\"token punctuation\">.</span>size<span class=\"token operator\">++</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\tval <span class=\"token operator\">:=</span> d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">]</span>\n\td<span class=\"token punctuation\">.</span>head <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">)</span>\n\td<span class=\"token punctuation\">.</span>size<span class=\"token operator\">--</span>\n\t<span class=\"token keyword\">return</span> val<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">Clean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\td<span class=\"token punctuation\">.</span>head <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\td<span class=\"token punctuation\">.</span>tail <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\td<span class=\"token punctuation\">.</span>size <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://liyuxing.blog.csdn.net/article/details/111464812\"></a></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">type</span> DequeStack <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tpushDeque <span class=\"token operator\">*</span>Deque\n\tpopDeque <span class=\"token operator\">*</span>Deque\n\tflag <span class=\"token builtin\">bool</span> <span class=\"token comment\">// true in push, false in pop</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>DequeStack<span class=\"token punctuation\">)</span> <span class=\"token function\">exchange</span><span class=\"token punctuation\">(</span>from<span class=\"token punctuation\">,</span> to <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\tto<span class=\"token punctuation\">.</span><span class=\"token function\">Clean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">for</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">if</span> v<span class=\"token punctuation\">,</span> ok <span class=\"token operator\">:=</span> from<span class=\"token punctuation\">.</span><span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> ok <span class=\"token punctuation\">&#123;</span>\n\t\t\tto<span class=\"token punctuation\">.</span><span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t<span class=\"token keyword\">break</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\td<span class=\"token punctuation\">.</span>flag<span class=\"token operator\">=</span><span class=\"token operator\">!</span>d<span class=\"token punctuation\">.</span>flag\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>DequeStack<span class=\"token punctuation\">)</span> <span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> <span class=\"token operator\">!</span>d<span class=\"token punctuation\">.</span>flag<span class=\"token punctuation\">&#123;</span>\n\t\td<span class=\"token punctuation\">.</span><span class=\"token function\">exchange</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>popDeque<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">.</span>pushDeque<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> d<span class=\"token punctuation\">.</span>pushDeque<span class=\"token punctuation\">.</span><span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>DequeStack<span class=\"token punctuation\">)</span> <span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span>flag<span class=\"token punctuation\">&#123;</span>\n\t\td<span class=\"token punctuation\">.</span><span class=\"token function\">exchange</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>pushDeque<span class=\"token punctuation\">,</span> d<span class=\"token punctuation\">.</span>popDeque<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> d<span class=\"token punctuation\">.</span>popDeque<span class=\"token punctuation\">.</span><span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">type</span> Deque <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tarr  <span class=\"token punctuation\">[</span>maxSize<span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span>\n\thead <span class=\"token builtin\">int</span>\n\ttail <span class=\"token builtin\">int</span>\n\tsize <span class=\"token builtin\">int</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">next</span><span class=\"token punctuation\">(</span>position <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">int</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> position <span class=\"token operator\">==</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> position <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">isFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">return</span> d<span class=\"token punctuation\">.</span>size <span class=\"token operator\">==</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">return</span> d<span class=\"token punctuation\">.</span>size <span class=\"token operator\">==</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">Push</span><span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\td<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">.</span>tail<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val\n\td<span class=\"token punctuation\">.</span>tail <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>tail<span class=\"token punctuation\">)</span>\n\td<span class=\"token punctuation\">.</span>size<span class=\"token operator\">++</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">Pop</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\tval <span class=\"token operator\">:=</span> d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">]</span>\n\td<span class=\"token punctuation\">.</span>head <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>head<span class=\"token punctuation\">)</span>\n\td<span class=\"token punctuation\">.</span>size<span class=\"token operator\">--</span>\n\t<span class=\"token keyword\">return</span> val<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">Clean</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\td<span class=\"token punctuation\">.</span>head <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\td<span class=\"token punctuation\">.</span>tail <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n\td<span class=\"token punctuation\">.</span>size <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"-","comments":1,"date":"2021-03-07T10:21:22.000Z","author":null,"_content":"### (deque)4O(1)\n\n```go\npackage main\n\n// \nconst maxSize = 10\n\ntype Deque struct {\n\tleftHead  int\n\trightHead int\n\tsize      int // \n\tarr       [maxSize]int\n}\n\nfunc (d *Deque) isEmpty() bool {\n\treturn d.size == 0\n}\n\nfunc (d *Deque) isFull() bool {\n\tif d.size == len(d.arr) {\n\t\treturn true\n\t}\n\treturn false\n}\n\nfunc (d *Deque) pre(position int) int {\n\tif position == 0 {\n\t\treturn len(d.arr) - 1\n\t}\n\treturn position - 1\n}\n\nfunc (d *Deque) next(position int) int {\n\tif position == len(d.arr)-1 {\n\t\treturn 0\n\t}\n\treturn position + 1\n}\n\nfunc (d *Deque) LeftInsert(val int) bool {\n\tif d.isFull() {\n\t\treturn false\n\t}\n\tif d.isEmpty() {\n\t\td.rightHead = d.next(d.rightHead)\n\t}\n\td.arr[d.leftHead] = val\n\td.size++\n\td.leftHead = d.pre(d.leftHead)\n\treturn true\n}\n\nfunc (d *Deque) RightInsert(val int) bool {\n\tif d.isFull() {\n\t\treturn false\n\t}\n\tif d.isEmpty() {\n\t\td.leftHead = d.pre(d.leftHead)\n\t}\n\td.arr[d.rightHead] = val\n\td.size++\n\td.rightHead = d.next(d.rightHead)\n\treturn true\n}\n\nfunc (d *Deque) LeftDelete() (int, bool) {\n\tif d.isEmpty() {\n\t\treturn 0, false\n\t}\n\td.leftHead = d.next(d.leftHead)\n\tif d.isEmpty() {\n\t\td.rightHead = d.pre(d.rightHead)\n\t}\n\tval := d.arr[d.leftHead]\n\td.size--\n\treturn val, true\n}\n\nfunc (d *Deque) RightDelete() (int, bool) {\n\tif d.isEmpty() {\n\t\treturn 0, false\n\t}\n\td.rightHead = d.pre(d.rightHead)\n\tif d.isEmpty() {\n\t\td.leftHead = d.next(d.leftHead)\n\t}\n\tval := d.arr[d.rightHead]\n\td.size--\n\treturn val, true\n}\n\nvar deque = Deque{\n\tleftHead:  0,\n\trightHead: 0,\n\tarr:       [maxSize]int{},\n}\n```\n","source":"_posts/2021-03-07--.md","raw":"---\ntitle: -\ncomments: true\ndate: 2021-03-07 18:21:22\nauthor:\ntags:\n - Golang\n - \ncategories:\n - \n---\n### (deque)4O(1)\n\n```go\npackage main\n\n// \nconst maxSize = 10\n\ntype Deque struct {\n\tleftHead  int\n\trightHead int\n\tsize      int // \n\tarr       [maxSize]int\n}\n\nfunc (d *Deque) isEmpty() bool {\n\treturn d.size == 0\n}\n\nfunc (d *Deque) isFull() bool {\n\tif d.size == len(d.arr) {\n\t\treturn true\n\t}\n\treturn false\n}\n\nfunc (d *Deque) pre(position int) int {\n\tif position == 0 {\n\t\treturn len(d.arr) - 1\n\t}\n\treturn position - 1\n}\n\nfunc (d *Deque) next(position int) int {\n\tif position == len(d.arr)-1 {\n\t\treturn 0\n\t}\n\treturn position + 1\n}\n\nfunc (d *Deque) LeftInsert(val int) bool {\n\tif d.isFull() {\n\t\treturn false\n\t}\n\tif d.isEmpty() {\n\t\td.rightHead = d.next(d.rightHead)\n\t}\n\td.arr[d.leftHead] = val\n\td.size++\n\td.leftHead = d.pre(d.leftHead)\n\treturn true\n}\n\nfunc (d *Deque) RightInsert(val int) bool {\n\tif d.isFull() {\n\t\treturn false\n\t}\n\tif d.isEmpty() {\n\t\td.leftHead = d.pre(d.leftHead)\n\t}\n\td.arr[d.rightHead] = val\n\td.size++\n\td.rightHead = d.next(d.rightHead)\n\treturn true\n}\n\nfunc (d *Deque) LeftDelete() (int, bool) {\n\tif d.isEmpty() {\n\t\treturn 0, false\n\t}\n\td.leftHead = d.next(d.leftHead)\n\tif d.isEmpty() {\n\t\td.rightHead = d.pre(d.rightHead)\n\t}\n\tval := d.arr[d.leftHead]\n\td.size--\n\treturn val, true\n}\n\nfunc (d *Deque) RightDelete() (int, bool) {\n\tif d.isEmpty() {\n\t\treturn 0, false\n\t}\n\td.rightHead = d.pre(d.rightHead)\n\tif d.isEmpty() {\n\t\td.leftHead = d.next(d.leftHead)\n\t}\n\tval := d.arr[d.rightHead]\n\td.size--\n\treturn val, true\n}\n\nvar deque = Deque{\n\tleftHead:  0,\n\trightHead: 0,\n\tarr:       [maxSize]int{},\n}\n```\n","slug":"-","published":1,"updated":"2021-03-07T10:44:06.698Z","_id":"cklz12u5t00356rs64tji9bam","layout":"post","photos":[],"link":"","content":"<h3 id=\"-deque-4O-1-\"><a href=\"#-deque-4O-1-\" class=\"headerlink\" title=\"(deque)4O(1)\"></a>(deque)4O(1)</h3><pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">const</span> maxSize <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n\n<span class=\"token keyword\">type</span> Deque <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tleftHead  <span class=\"token builtin\">int</span>\n\trightHead <span class=\"token builtin\">int</span>\n\tsize      <span class=\"token builtin\">int</span> <span class=\"token comment\">// </span>\n\tarr       <span class=\"token punctuation\">[</span>maxSize<span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">return</span> d<span class=\"token punctuation\">.</span>size <span class=\"token operator\">==</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">isFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span>size <span class=\"token operator\">==</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">pre</span><span class=\"token punctuation\">(</span>position <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">int</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> position <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> position <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">next</span><span class=\"token punctuation\">(</span>position <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">int</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> position <span class=\"token operator\">==</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> position <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">LeftInsert</span><span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\td<span class=\"token punctuation\">.</span>rightHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>rightHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\td<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">.</span>leftHead<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val\n\td<span class=\"token punctuation\">.</span>size<span class=\"token operator\">++</span>\n\td<span class=\"token punctuation\">.</span>leftHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">pre</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>leftHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">RightInsert</span><span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\td<span class=\"token punctuation\">.</span>leftHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">pre</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>leftHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\td<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">.</span>rightHead<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val\n\td<span class=\"token punctuation\">.</span>size<span class=\"token operator\">++</span>\n\td<span class=\"token punctuation\">.</span>rightHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>rightHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">LeftDelete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\td<span class=\"token punctuation\">.</span>leftHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>leftHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\td<span class=\"token punctuation\">.</span>rightHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">pre</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>rightHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\tval <span class=\"token operator\">:=</span> d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">.</span>leftHead<span class=\"token punctuation\">]</span>\n\td<span class=\"token punctuation\">.</span>size<span class=\"token operator\">--</span>\n\t<span class=\"token keyword\">return</span> val<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">RightDelete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\td<span class=\"token punctuation\">.</span>rightHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">pre</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>rightHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\td<span class=\"token punctuation\">.</span>leftHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>leftHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\tval <span class=\"token operator\">:=</span> d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">.</span>rightHead<span class=\"token punctuation\">]</span>\n\td<span class=\"token punctuation\">.</span>size<span class=\"token operator\">--</span>\n\t<span class=\"token keyword\">return</span> val<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">var</span> deque <span class=\"token operator\">=</span> Deque<span class=\"token punctuation\">&#123;</span>\n\tleftHead<span class=\"token punctuation\">:</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n\trightHead<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n\tarr<span class=\"token punctuation\">:</span>       <span class=\"token punctuation\">[</span>maxSize<span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"-deque-4O-1-\"><a href=\"#-deque-4O-1-\" class=\"headerlink\" title=\"(deque)4O(1)\"></a>(deque)4O(1)</h3><pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token comment\">// </span>\n<span class=\"token keyword\">const</span> maxSize <span class=\"token operator\">=</span> <span class=\"token number\">10</span>\n\n<span class=\"token keyword\">type</span> Deque <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tleftHead  <span class=\"token builtin\">int</span>\n\trightHead <span class=\"token builtin\">int</span>\n\tsize      <span class=\"token builtin\">int</span> <span class=\"token comment\">// </span>\n\tarr       <span class=\"token punctuation\">[</span>maxSize<span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">return</span> d<span class=\"token punctuation\">.</span>size <span class=\"token operator\">==</span> <span class=\"token number\">0</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">isFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span>size <span class=\"token operator\">==</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">pre</span><span class=\"token punctuation\">(</span>position <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">int</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> position <span class=\"token operator\">==</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> position <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">next</span><span class=\"token punctuation\">(</span>position <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">int</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> position <span class=\"token operator\">==</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> position <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">LeftInsert</span><span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\td<span class=\"token punctuation\">.</span>rightHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>rightHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\td<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">.</span>leftHead<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val\n\td<span class=\"token punctuation\">.</span>size<span class=\"token operator\">++</span>\n\td<span class=\"token punctuation\">.</span>leftHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">pre</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>leftHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">RightInsert</span><span class=\"token punctuation\">(</span>val <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">bool</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isFull</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\td<span class=\"token punctuation\">.</span>leftHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">pre</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>leftHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\td<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">.</span>rightHead<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> val\n\td<span class=\"token punctuation\">.</span>size<span class=\"token operator\">++</span>\n\td<span class=\"token punctuation\">.</span>rightHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>rightHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">LeftDelete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\td<span class=\"token punctuation\">.</span>leftHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>leftHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\td<span class=\"token punctuation\">.</span>rightHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">pre</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>rightHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\tval <span class=\"token operator\">:=</span> d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">.</span>leftHead<span class=\"token punctuation\">]</span>\n\td<span class=\"token punctuation\">.</span>size<span class=\"token operator\">--</span>\n\t<span class=\"token keyword\">return</span> val<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>d <span class=\"token operator\">*</span>Deque<span class=\"token punctuation\">)</span> <span class=\"token function\">RightDelete</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">bool</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">return</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\td<span class=\"token punctuation\">.</span>rightHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">pre</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>rightHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">isEmpty</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\td<span class=\"token punctuation\">.</span>leftHead <span class=\"token operator\">=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span>d<span class=\"token punctuation\">.</span>leftHead<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\tval <span class=\"token operator\">:=</span> d<span class=\"token punctuation\">.</span>arr<span class=\"token punctuation\">[</span>d<span class=\"token punctuation\">.</span>rightHead<span class=\"token punctuation\">]</span>\n\td<span class=\"token punctuation\">.</span>size<span class=\"token operator\">--</span>\n\t<span class=\"token keyword\">return</span> val<span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">var</span> deque <span class=\"token operator\">=</span> Deque<span class=\"token punctuation\">&#123;</span>\n\tleftHead<span class=\"token punctuation\">:</span>  <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n\trightHead<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span>\n\tarr<span class=\"token punctuation\">:</span>       <span class=\"token punctuation\">[</span>maxSize<span class=\"token punctuation\">]</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Mysql-100","comments":1,"date":"2021-03-07T10:45:37.000Z","author":null,"_content":"\n##### MySQL\n\n##### XXX\n...\n\n\n### MySQL\n\n```mysql\nshow engines; #\n```\n\n- MyISAM\n\n  XX.MYIXX.MYD\n\n- InnoDB\n\n  XX.IDB\n\n- Mermory\n\n  MemoryMyISAMI/OMemory\n\n- Archive\n\n  \n\n\t|      | InnoDB | MyISAM | Memory       | Archive |\n\t| -------- | ------ | ------ | ------------ | ------- |\n\t| b+ | yes    | yes    | yes          | no      |\n\t| MVCC     | yes    | no     | no           | no      |\n\t|      | yes    | no     | no           | no      |\n\t|  | 64TB   | 256TB  | RAM          | None    |\n\t|  | yes    | yes    |  | No      |\n\t|      | yes    | no     | no           | no      |\n\t|    | row    | table  | table        | row     |\n\t|  | yes    | yes    | no           | no      |\n\t|  | yes    | no     |  | no      |\n\n### \n\n- ##### Hash\n\n  \n\n  1. HashHash\n\n  \n\n  1. Hash\"=\"\"IN\"\"!=\"\n  2. Hash\n  3. \n  4. HashB\n  5. HashhashHashhash\n\n  InnoDBInnoDBB-TreeB-Tree====\n\n- ##### B+\n\n  \n\n  1. ,\n\n  2. I/O\n\n  3. **B-Treeh-1I/OO(h)=O(logdN)**\n\n     1001000\n\n     h=1100\n\n     h=21000\\*100=100000\n\n     h=31000\\*1000\\*100=100000000\n\n     h=41000\\*1000\\*1000\\*100=100000000000\n\n     O(logdN)====\n\n- ##### \n\n  1. 5.6InnoDB5.7ngram\n  2. \n------\n\n\n- ##### \n\n  1. \n\n  2. \n\n  3. ****\n\n  4. IDMySQL\n\n  5. \n\n     ![](https://img-blog.csdnimg.cn/20200419175724907.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n\n- #### \n\n  1. \n\n  2. \n  \n  3. B+\n  \n     > \n     >\n     > \n     >\n     > \n  \n     ![](https://img-blog.csdnimg.cn/2020041917570460.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n  \n  ------\n  \n- \n\n  1. \n  2. \n  3. MySQL==row_id==6MySQL**->->**\n\n  ```mysql\n  alter table table_name add primary key (column name);\n  ```\n\n- \n\n  ```mysql\n  create index  on table_name(column1,column2);\n  alter table table_name add index (column1,column2);\n  ```\n\n- \n\n  1. nullnull,\n  2. null\n\n  ```mysql\n  create unique index index_name on table_name (column_list);\n  ```\n\n  \n\n### \n\n1. \n2. I/OI/O\n3. \n\n### \n\n1. CPU\n2. \n3. NULL\n4. \n5. NULL\n6. I/O\n7. mysqlwhereorder by\n8. nologgingredo\n9. \n10. NOT IN!=mysql\n11. where\n\n### B+B+\n\nB\n\n1. \n\n   - \n\n   - \n\n   - \n\n   - \n\n   - \n\n2. AVL\n\n   - AVL\n\n   - 1\n\n   - \n\n   - AVL\n\n3. \n\n   - \n   - \n   - AVL\n\n4. Bb-\n\n   - \n   - \n   - B/B+CPUCPUBBI/O\n   - \n\n5. B+\n\n   - B\n   - B,B+\n   - \n\n6. ##### B+\n\n   - 6BI/O\n\n   - \n\n   - B+B\n\n7. ##### InnoDBB+\n\n   - B+\n   - \n   - B+InnoDB\n\n### \n\n\n\n- \n\n- Q\n\n- >= and <= and =Q\n\n- order by10\n\n  ![](https://img-blog.csdnimg.cn/20200419175555700.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n  \n\n### \n\nSQL\n\n###### \n\n- \n- \n- \n- select * where xxx=xxx \n- select xxx limit 100000 \n- join \n- SQLSQL\n-  like\n- \n\n###### \nexplaindescSQL[explain](https://blog.csdn.net/liyuxing6639801/article/details/105646853)\n- \n  > 1. \n  >2. 5\n  > 3. 5\n  >4. VARCHARcrc32MD5 HashHash\n  > 5. \n  \n- SQL\n  > 1. SQLIN\n  >2. INOR\n  > 3. WHEREMySQL\n  >4. SELECT\n  > 5. SQL\n  >6. JOIN\n  > 7. COUNT(\\*)COUNT(primary_key)COUNT(1)COUNT(\\*)Redis\n  > 8. WHEREINBETWEEN<<=>>=\n  > 9. SQL\n  > 10. \n  \n- \n\n  > 1. not nullnullmysql==null==\n  >\n  > 2. \n\n- \n\n  > \n  >\n  > hash\n- \n  > [](https://blog.csdn.net/liyuxing6639801/article/details/105646967)\n\n### Mysql\n\n- ##### \n\n  1. **Atomicity**\n  2. **Consistency**\n  3. **Isolation**\n  4. **Durability**\n\n- ##### \n\n  repeatable-read \n  \n  \n  \n  next-key \n  \n  \n  \n  |                  |  |  |  |\n  | ------------------------ | ---- | ---------- | ---- |\n  | read-uncommitted |    |          |    |\n  | read-committed |    |          |    |\n  | repeatable-read  |    |          |    |\n  | serializable       |    |          |    |\n\n\n- ##### \n\n  update\n\n  insert\n\n\n### Mysql\n\n- \n\n![](https://img-blog.csdnimg.cn/20200419175424893.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_14,color_FFFFFF,t_70)\n  \n- MySQL\n\n  1. InnoDBMyISAMMemoryMerge\n  2. \n  3. `ALTER TABLE``DROP TABLE``DDL``SELECT``INSERT``DELETE``UPDATE`server====MDL\n\n- \n\n  MVCC\n\n- \n\n  1. \n\n     Share LocksSS\n\n     ```mysql\n     select ... lock in share mode;\n     ```\n\n  2. \n\n     Exclusive LocksXX\n\n     ```mysql\n     select ... for update;\n     ```\n  3. \n     |  | X    | S    |\n     | ------ | ---- | ---- |\n     | X      | No   | No   |\n     | S      | No   | Yes  |\n\n- \n\n  1. \n\n  2. \n\n  3. IS\n\n     MySQLSIX\n\n  4. IX)\n\n     \n\n  5. \n\n     \n     \n     |  |  X   |  S   |  IX  |  IS  |\n     | :----: | :--: | :--: | :--: | :--: |\n     |   X    |  No  |  No  |  No  |  No  |\n     |   S    |  No  | Yes  |  No  | Yes  |\n\t |   IX   |  No  |  No  | Yes  | Yes  |\n     |   IS   |  No  | Yes  | Yes  | Yes  |\n     \n  \n- ##### AUTO-INC\n\n  ==AUTO_INCREMENT==\n\n  > 1. ==AUTO-INC==AUTO-INC\n  >\n  >    AUTO_INCinsertinsert\n  >\n  > 2. insertinsert\n  >3. InnoDB`innodb_autoinc_lock_mode`0AUTO-INC21AUTO-INC\n  \n- \n\n  - \n\n  - \n\n    LOCK_GAPgap====\n\n    MySQL\n\n    1. MVCC\n    2. \n\n  - Next-Key Lock\n\n    LOCK_ORDINARY\n\n  - \n\n    \n\n### Mysql\n\nMySQL\n\n- \n  1. \n  2. \n  3. \n  4. \n\n- \n\n  1. Statement Based Replication SQLSQL\n\n     \n\n     sql\n\n  2. Row Based Replication \n\n     \n\n     \n\n  3. Mixed Based Replication SBRRBRSBR\n\n\n\n### MySQL\n\n1. \n2. masterslave\n\n> SQL\n>\n> masterslaveSQLTPSSQLslaveSQL\n\n```mysql\nshow status # Seconds_Behind_Master\n```\n\n- MySQL\n\n  1. \n\n     masterslave\n\n     relay_logack\n\n     ![](https://img-blog.csdnimg.cn/20200419175312840.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_left)\n\n  2. \n\n     \n\n- ##### \n\n  1. SQL\n  2. DMLDB\n  3. \n\n### MySQLvarcharcharchar(10)10\n\n- varcharcharutf8\n- utf8char(10)1030char\n- utf8)charvarchar\n- char(10)100x20InnoDB utf8varchar\n\n\n...","source":"_posts/2021-03-07-Mysql-100.md","raw":"---\ntitle: Mysql-100\ncomments: true\ndate: 2021-03-07 18:45:37\nauthor:\ntags:\n - Mysql\n - \ncategories:\n - \n---\n\n##### MySQL\n\n##### XXX\n...\n\n\n### MySQL\n\n```mysql\nshow engines; #\n```\n\n- MyISAM\n\n  XX.MYIXX.MYD\n\n- InnoDB\n\n  XX.IDB\n\n- Mermory\n\n  MemoryMyISAMI/OMemory\n\n- Archive\n\n  \n\n\t|      | InnoDB | MyISAM | Memory       | Archive |\n\t| -------- | ------ | ------ | ------------ | ------- |\n\t| b+ | yes    | yes    | yes          | no      |\n\t| MVCC     | yes    | no     | no           | no      |\n\t|      | yes    | no     | no           | no      |\n\t|  | 64TB   | 256TB  | RAM          | None    |\n\t|  | yes    | yes    |  | No      |\n\t|      | yes    | no     | no           | no      |\n\t|    | row    | table  | table        | row     |\n\t|  | yes    | yes    | no           | no      |\n\t|  | yes    | no     |  | no      |\n\n### \n\n- ##### Hash\n\n  \n\n  1. HashHash\n\n  \n\n  1. Hash\"=\"\"IN\"\"!=\"\n  2. Hash\n  3. \n  4. HashB\n  5. HashhashHashhash\n\n  InnoDBInnoDBB-TreeB-Tree====\n\n- ##### B+\n\n  \n\n  1. ,\n\n  2. I/O\n\n  3. **B-Treeh-1I/OO(h)=O(logdN)**\n\n     1001000\n\n     h=1100\n\n     h=21000\\*100=100000\n\n     h=31000\\*1000\\*100=100000000\n\n     h=41000\\*1000\\*1000\\*100=100000000000\n\n     O(logdN)====\n\n- ##### \n\n  1. 5.6InnoDB5.7ngram\n  2. \n------\n\n\n- ##### \n\n  1. \n\n  2. \n\n  3. ****\n\n  4. IDMySQL\n\n  5. \n\n     ![](https://img-blog.csdnimg.cn/20200419175724907.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n\n- #### \n\n  1. \n\n  2. \n  \n  3. B+\n  \n     > \n     >\n     > \n     >\n     > \n  \n     ![](https://img-blog.csdnimg.cn/2020041917570460.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n  \n  ------\n  \n- \n\n  1. \n  2. \n  3. MySQL==row_id==6MySQL**->->**\n\n  ```mysql\n  alter table table_name add primary key (column name);\n  ```\n\n- \n\n  ```mysql\n  create index  on table_name(column1,column2);\n  alter table table_name add index (column1,column2);\n  ```\n\n- \n\n  1. nullnull,\n  2. null\n\n  ```mysql\n  create unique index index_name on table_name (column_list);\n  ```\n\n  \n\n### \n\n1. \n2. I/OI/O\n3. \n\n### \n\n1. CPU\n2. \n3. NULL\n4. \n5. NULL\n6. I/O\n7. mysqlwhereorder by\n8. nologgingredo\n9. \n10. NOT IN!=mysql\n11. where\n\n### B+B+\n\nB\n\n1. \n\n   - \n\n   - \n\n   - \n\n   - \n\n   - \n\n2. AVL\n\n   - AVL\n\n   - 1\n\n   - \n\n   - AVL\n\n3. \n\n   - \n   - \n   - AVL\n\n4. Bb-\n\n   - \n   - \n   - B/B+CPUCPUBBI/O\n   - \n\n5. B+\n\n   - B\n   - B,B+\n   - \n\n6. ##### B+\n\n   - 6BI/O\n\n   - \n\n   - B+B\n\n7. ##### InnoDBB+\n\n   - B+\n   - \n   - B+InnoDB\n\n### \n\n\n\n- \n\n- Q\n\n- >= and <= and =Q\n\n- order by10\n\n  ![](https://img-blog.csdnimg.cn/20200419175555700.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n  \n\n### \n\nSQL\n\n###### \n\n- \n- \n- \n- select * where xxx=xxx \n- select xxx limit 100000 \n- join \n- SQLSQL\n-  like\n- \n\n###### \nexplaindescSQL[explain](https://blog.csdn.net/liyuxing6639801/article/details/105646853)\n- \n  > 1. \n  >2. 5\n  > 3. 5\n  >4. VARCHARcrc32MD5 HashHash\n  > 5. \n  \n- SQL\n  > 1. SQLIN\n  >2. INOR\n  > 3. WHEREMySQL\n  >4. SELECT\n  > 5. SQL\n  >6. JOIN\n  > 7. COUNT(\\*)COUNT(primary_key)COUNT(1)COUNT(\\*)Redis\n  > 8. WHEREINBETWEEN<<=>>=\n  > 9. SQL\n  > 10. \n  \n- \n\n  > 1. not nullnullmysql==null==\n  >\n  > 2. \n\n- \n\n  > \n  >\n  > hash\n- \n  > [](https://blog.csdn.net/liyuxing6639801/article/details/105646967)\n\n### Mysql\n\n- ##### \n\n  1. **Atomicity**\n  2. **Consistency**\n  3. **Isolation**\n  4. **Durability**\n\n- ##### \n\n  repeatable-read \n  \n  \n  \n  next-key \n  \n  \n  \n  |                  |  |  |  |\n  | ------------------------ | ---- | ---------- | ---- |\n  | read-uncommitted |    |          |    |\n  | read-committed |    |          |    |\n  | repeatable-read  |    |          |    |\n  | serializable       |    |          |    |\n\n\n- ##### \n\n  update\n\n  insert\n\n\n### Mysql\n\n- \n\n![](https://img-blog.csdnimg.cn/20200419175424893.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_14,color_FFFFFF,t_70)\n  \n- MySQL\n\n  1. InnoDBMyISAMMemoryMerge\n  2. \n  3. `ALTER TABLE``DROP TABLE``DDL``SELECT``INSERT``DELETE``UPDATE`server====MDL\n\n- \n\n  MVCC\n\n- \n\n  1. \n\n     Share LocksSS\n\n     ```mysql\n     select ... lock in share mode;\n     ```\n\n  2. \n\n     Exclusive LocksXX\n\n     ```mysql\n     select ... for update;\n     ```\n  3. \n     |  | X    | S    |\n     | ------ | ---- | ---- |\n     | X      | No   | No   |\n     | S      | No   | Yes  |\n\n- \n\n  1. \n\n  2. \n\n  3. IS\n\n     MySQLSIX\n\n  4. IX)\n\n     \n\n  5. \n\n     \n     \n     |  |  X   |  S   |  IX  |  IS  |\n     | :----: | :--: | :--: | :--: | :--: |\n     |   X    |  No  |  No  |  No  |  No  |\n     |   S    |  No  | Yes  |  No  | Yes  |\n\t |   IX   |  No  |  No  | Yes  | Yes  |\n     |   IS   |  No  | Yes  | Yes  | Yes  |\n     \n  \n- ##### AUTO-INC\n\n  ==AUTO_INCREMENT==\n\n  > 1. ==AUTO-INC==AUTO-INC\n  >\n  >    AUTO_INCinsertinsert\n  >\n  > 2. insertinsert\n  >3. InnoDB`innodb_autoinc_lock_mode`0AUTO-INC21AUTO-INC\n  \n- \n\n  - \n\n  - \n\n    LOCK_GAPgap====\n\n    MySQL\n\n    1. MVCC\n    2. \n\n  - Next-Key Lock\n\n    LOCK_ORDINARY\n\n  - \n\n    \n\n### Mysql\n\nMySQL\n\n- \n  1. \n  2. \n  3. \n  4. \n\n- \n\n  1. Statement Based Replication SQLSQL\n\n     \n\n     sql\n\n  2. Row Based Replication \n\n     \n\n     \n\n  3. Mixed Based Replication SBRRBRSBR\n\n\n\n### MySQL\n\n1. \n2. masterslave\n\n> SQL\n>\n> masterslaveSQLTPSSQLslaveSQL\n\n```mysql\nshow status # Seconds_Behind_Master\n```\n\n- MySQL\n\n  1. \n\n     masterslave\n\n     relay_logack\n\n     ![](https://img-blog.csdnimg.cn/20200419175312840.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_left)\n\n  2. \n\n     \n\n- ##### \n\n  1. SQL\n  2. DMLDB\n  3. \n\n### MySQLvarcharcharchar(10)10\n\n- varcharcharutf8\n- utf8char(10)1030char\n- utf8)charvarchar\n- char(10)100x20InnoDB utf8varchar\n\n\n...","slug":"Mysql-100","published":1,"updated":"2021-03-07T10:46:06.543Z","_id":"cklz14yek003e6rs66v4m77os","layout":"post","photos":[],"link":"","content":"<h5 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h5><p></p>\n<h5 id=\"XXX\"><a href=\"#XXX\" class=\"headerlink\" title=\"XXX\"></a>XXX</h5><p></p>\n<h3 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h3><pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show engines; #<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>MyISAM</p>\n<p>XX.MYIXX.MYD</p>\n</li>\n<li><p>InnoDB</p>\n<p>XX.IDB</p>\n</li>\n<li><p>Mermory</p>\n<p>MemoryMyISAMI/OMemory</p>\n</li>\n<li><p>Archive</p>\n<p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>InnoDB</th>\n<th>MyISAM</th>\n<th>Memory</th>\n<th>Archive</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>b+</td>\n<td>yes</td>\n<td>yes</td>\n<td>yes</td>\n<td>no</td>\n</tr>\n<tr>\n<td>MVCC</td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>64TB</td>\n<td>256TB</td>\n<td>RAM</td>\n<td>None</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>yes</td>\n<td></td>\n<td>No</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>row</td>\n<td>table</td>\n<td>table</td>\n<td>row</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>no</td>\n<td></td>\n<td>no</td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><h5 id=\"Hash\"><a href=\"#Hash\" class=\"headerlink\" title=\"Hash\"></a>Hash</h5><p></p>\n<ol>\n<li>HashHash</li>\n</ol>\n<p></p>\n<ol>\n<li>Hash=IN!=</li>\n<li>Hash</li>\n<li></li>\n<li>HashB</li>\n<li>HashhashHashhash</li>\n</ol>\n<p>InnoDBInnoDBB-TreeB-Tree====</p>\n</li>\n<li><h5 id=\"B-\"><a href=\"#B-\" class=\"headerlink\" title=\"B+\"></a>B+</h5><p></p>\n<ol>\n<li><p>,</p>\n</li>\n<li><p>I/O</p>\n</li>\n<li><p><strong>B-Treeh-1I/OO(h)=O(logdN)</strong></p>\n<p>1001000</p>\n<p>h=1100</p>\n<p>h=21000*100=100000</p>\n<p>h=31000*1000*100=100000000</p>\n<p>h=41000*1000*1000*100=100000000000</p>\n<p>O(logdN)====</p>\n</li>\n</ol>\n</li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li>5.6InnoDB5.7ngram</li>\n<li></li>\n</ol>\n</li>\n</ul>\n<hr>\n<ul>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p><strong></strong></p>\n</li>\n<li><p>IDMySQL</p>\n</li>\n<li><p></p>\n<p><img src=\"https://img-blog.csdnimg.cn/20200419175724907.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n</li>\n</ol>\n</li>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>B+</p>\n<blockquote>\n<p></p>\n<p></p>\n<p></p>\n</blockquote>\n<p><img src=\"https://img-blog.csdnimg.cn/2020041917570460.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n</li>\n</ol>\n<hr>\n</li>\n<li><p></p>\n<ol>\n<li></li>\n<li></li>\n<li>MySQL==row_id==6MySQL<strong>-&gt;-&gt;</strong></li>\n</ol>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">alter table table_name add primary key (column name);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p></p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">create index  on table_name(column1,column2);\nalter table table_name add index (column1,column2);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><p></p>\n<ol>\n<li>nullnull,</li>\n<li>null</li>\n</ol>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">create unique index index_name on table_name (column_list);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n<li>I/OI/O</li>\n<li></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>CPU</li>\n<li></li>\n<li>NULL</li>\n<li></li>\n<li>NULL</li>\n<li>I/O</li>\n<li>mysqlwhereorder by</li>\n<li>nologgingredo</li>\n<li></li>\n<li>NOT IN!=mysql</li>\n<li>where</li>\n</ol>\n<h3 id=\"B-B-\"><a href=\"#B-B-\" class=\"headerlink\" title=\"B+B+\"></a>B+B+</h3><p>B</p>\n<ol>\n<li><p></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n</li>\n<li><p>AVL</p>\n<ul>\n<li><p>AVL</p>\n</li>\n<li><p>1</p>\n</li>\n<li><p></p>\n</li>\n<li><p>AVL</p>\n</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li></li>\n<li>AVL</li>\n</ul>\n</li>\n<li><p>Bb-</p>\n<ul>\n<li></li>\n<li></li>\n<li>B/B+CPUCPUBBI/O</li>\n<li></li>\n</ul>\n</li>\n<li><p>B+</p>\n<ul>\n<li>B</li>\n<li>B,B+</li>\n<li></li>\n</ul>\n</li>\n<li><h5 id=\"B-\"><a href=\"#B-\" class=\"headerlink\" title=\"B+\"></a>B+</h5><ul>\n<li><p>6BI/O</p>\n</li>\n<li><p></p>\n</li>\n<li><p>B+B</p>\n</li>\n</ul>\n</li>\n<li><h5 id=\"InnoDBB-\"><a href=\"#InnoDBB-\" class=\"headerlink\" title=\"InnoDBB+\"></a>InnoDBB+</h5><ul>\n<li>B+</li>\n<li></li>\n<li>B+InnoDB</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ul>\n<li><p></p>\n</li>\n<li><p>Q</p>\n</li>\n<li><p>&gt;= and &lt;= and =Q</p>\n</li>\n<li><p>order by10</p>\n<p><img src=\"https://img-blog.csdnimg.cn/20200419175555700.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>SQL</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li></li>\n<li></li>\n<li></li>\n<li>select * where xxx=xxx </li>\n<li>select xxx limit 100000 </li>\n<li>join </li>\n<li>SQLSQL</li>\n<li> like</li>\n<li></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>explaindescSQL<a href=\"https://blog.csdn.net/liyuxing6639801/article/details/105646853\">explain</a></p>\n<ul>\n<li><p></p>\n<blockquote>\n<ol>\n<li></li>\n<li>5</li>\n<li>5</li>\n<li>VARCHARcrc32MD5 HashHash</li>\n<li></li>\n</ol>\n</blockquote>\n</li>\n<li><p>SQL</p>\n<blockquote>\n<ol>\n<li>SQLIN</li>\n<li>INOR</li>\n<li>WHEREMySQL</li>\n<li>SELECT</li>\n<li>SQL</li>\n<li>JOIN</li>\n<li>COUNT(*)COUNT(primary_key)COUNT(1)COUNT(*)Redis</li>\n<li>WHEREINBETWEEN&lt;&lt;=&gt;&gt;=</li>\n<li>SQL</li>\n<li></li>\n</ol>\n</blockquote>\n</li>\n<li><p></p>\n<blockquote>\n<ol>\n<li><p>not nullnullmysql==null==</p>\n</li>\n<li><p></p>\n</li>\n</ol>\n</blockquote>\n</li>\n<li><p></p>\n<blockquote>\n<p></p>\n<p>hash</p>\n</blockquote>\n</li>\n<li><p></p>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/liyuxing6639801/article/details/105646967\"></a></p>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"Mysql\"><a href=\"#Mysql\" class=\"headerlink\" title=\"Mysql\"></a>Mysql</h3><ul>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li><strong>Atomicity</strong></li>\n<li><strong>Consistency</strong></li>\n<li><strong>Isolation</strong></li>\n<li><strong>Durability</strong></li>\n</ol>\n</li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>repeatable-read </p>\n<p></p>\n<p>next-key </p>\n<p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>read-uncommitted</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>read-committed</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>repeatable-read</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>serializable</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n<ul>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>update</p>\n<p>insert</p>\n</li>\n</ul>\n<h3 id=\"Mysql\"><a href=\"#Mysql\" class=\"headerlink\" title=\"Mysql\"></a>Mysql</h3><ul>\n<li></li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20200419175424893.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_14,color_FFFFFF,t_70\" alt=\"\"></p>\n<ul>\n<li><p>MySQL</p>\n<ol>\n<li>InnoDBMyISAMMemoryMerge</li>\n<li></li>\n<li><code>ALTER TABLE</code><code>DROP TABLE</code><code>DDL</code><code>SELECT</code><code>INSERT</code><code>DELETE</code><code>UPDATE</code>server====MDL</li>\n</ol>\n</li>\n<li><p></p>\n<p>MVCC</p>\n</li>\n<li><p></p>\n<ol>\n<li><p></p>\n<p>Share LocksSS</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">select ... lock in share mode;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p></p>\n<p>Exclusive LocksXX</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">select ... for update;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>X</th>\n<th>S</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>X</td>\n<td>No</td>\n<td>No</td>\n</tr>\n<tr>\n<td>S</td>\n<td>No</td>\n<td>Yes</td>\n</tr>\n</tbody></table>\n</li>\n</ol>\n</li>\n<li><p></p>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>IS</p>\n<p>MySQLSIX</p>\n</li>\n<li><p>IX)</p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\">X</th>\n<th align=\"center\">S</th>\n<th align=\"center\">IX</th>\n<th align=\"center\">IS</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">X</td>\n<td align=\"center\">No</td>\n<td align=\"center\">No</td>\n<td align=\"center\">No</td>\n<td align=\"center\">No</td>\n</tr>\n<tr>\n<td align=\"center\">S</td>\n<td align=\"center\">No</td>\n<td align=\"center\">Yes</td>\n<td align=\"center\">No</td>\n<td align=\"center\">Yes</td>\n</tr>\n<tr>\n<td align=\"center\">IX</td>\n<td align=\"center\">No</td>\n<td align=\"center\">No</td>\n<td align=\"center\">Yes</td>\n<td align=\"center\">Yes</td>\n</tr>\n<tr>\n<td align=\"center\">IS</td>\n<td align=\"center\">No</td>\n<td align=\"center\">Yes</td>\n<td align=\"center\">Yes</td>\n<td align=\"center\">Yes</td>\n</tr>\n</tbody></table>\n</li>\n</ol>\n</li>\n<li><h5 id=\"AUTO-INC\"><a href=\"#AUTO-INC\" class=\"headerlink\" title=\"AUTO-INC\"></a>AUTO-INC</h5><p>==AUTO_INCREMENT==</p>\n<blockquote>\n<ol>\n<li><p>==AUTO-INC==AUTO-INC</p>\n<p>AUTO_INCinsertinsert</p>\n</li>\n<li><p>insertinsert</p>\n</li>\n<li><p>InnoDB<code>innodb_autoinc_lock_mode</code>0AUTO-INC21AUTO-INC</p>\n</li>\n</ol>\n</blockquote>\n</li>\n<li><p></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n<p>LOCK_GAPgap====</p>\n<p>MySQL</p>\n<ol>\n<li>MVCC</li>\n<li></li>\n</ol>\n</li>\n<li><p>Next-Key Lock</p>\n<p>LOCK_ORDINARY</p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Mysql\"><a href=\"#Mysql\" class=\"headerlink\" title=\"Mysql\"></a>Mysql</h3><p>MySQL</p>\n<ul>\n<li><p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n</li>\n<li><p></p>\n<ol>\n<li><p>Statement Based Replication SQLSQL</p>\n<p></p>\n<p>sql</p>\n</li>\n<li><p>Row Based Replication </p>\n<p></p>\n<p></p>\n</li>\n<li><p>Mixed Based Replication SBRRBRSBR</p>\n</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h3><ol>\n<li></li>\n<li>masterslave</li>\n</ol>\n<blockquote>\n<p>SQL</p>\n<p>masterslaveSQLTPSSQLslaveSQL</p>\n</blockquote>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show status # Seconds_Behind_Master<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>MySQL</p>\n<ol>\n<li><p></p>\n<p>masterslave</p>\n<p>relay_logack</p>\n<p><img src=\"https://img-blog.csdnimg.cn/20200419175312840.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_left\" alt=\"\"></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n</ol>\n</li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li>SQL</li>\n<li>DMLDB</li>\n<li></li>\n</ol>\n</li>\n</ul>\n<h3 id=\"MySQLvarcharcharchar-10-10\"><a href=\"#MySQLvarcharcharchar-10-10\" class=\"headerlink\" title=\"MySQLvarcharcharchar(10)10\"></a>MySQLvarcharcharchar(10)10</h3><ul>\n<li>varcharcharutf8</li>\n<li>utf8char(10)1030char</li>\n<li>utf8)charvarchar</li>\n<li>char(10)100x20InnoDB utf8varchar</li>\n</ul>\n<p></p>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h5 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h5><p></p>\n<h5 id=\"XXX\"><a href=\"#XXX\" class=\"headerlink\" title=\"XXX\"></a>XXX</h5><p></p>\n<h3 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h3><pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show engines; #<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>MyISAM</p>\n<p>XX.MYIXX.MYD</p>\n</li>\n<li><p>InnoDB</p>\n<p>XX.IDB</p>\n</li>\n<li><p>Mermory</p>\n<p>MemoryMyISAMI/OMemory</p>\n</li>\n<li><p>Archive</p>\n<p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>InnoDB</th>\n<th>MyISAM</th>\n<th>Memory</th>\n<th>Archive</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>b+</td>\n<td>yes</td>\n<td>yes</td>\n<td>yes</td>\n<td>no</td>\n</tr>\n<tr>\n<td>MVCC</td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>64TB</td>\n<td>256TB</td>\n<td>RAM</td>\n<td>None</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>yes</td>\n<td></td>\n<td>No</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>row</td>\n<td>table</td>\n<td>table</td>\n<td>row</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>yes</td>\n<td>no</td>\n<td>no</td>\n</tr>\n<tr>\n<td></td>\n<td>yes</td>\n<td>no</td>\n<td></td>\n<td>no</td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><h5 id=\"Hash\"><a href=\"#Hash\" class=\"headerlink\" title=\"Hash\"></a>Hash</h5><p></p>\n<ol>\n<li>HashHash</li>\n</ol>\n<p></p>\n<ol>\n<li>Hash=IN!=</li>\n<li>Hash</li>\n<li></li>\n<li>HashB</li>\n<li>HashhashHashhash</li>\n</ol>\n<p>InnoDBInnoDBB-TreeB-Tree====</p>\n</li>\n<li><h5 id=\"B-\"><a href=\"#B-\" class=\"headerlink\" title=\"B+\"></a>B+</h5><p></p>\n<ol>\n<li><p>,</p>\n</li>\n<li><p>I/O</p>\n</li>\n<li><p><strong>B-Treeh-1I/OO(h)=O(logdN)</strong></p>\n<p>1001000</p>\n<p>h=1100</p>\n<p>h=21000*100=100000</p>\n<p>h=31000*1000*100=100000000</p>\n<p>h=41000*1000*1000*100=100000000000</p>\n<p>O(logdN)====</p>\n</li>\n</ol>\n</li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li>5.6InnoDB5.7ngram</li>\n<li></li>\n</ol>\n</li>\n</ul>\n<hr>\n<ul>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p><strong></strong></p>\n</li>\n<li><p>IDMySQL</p>\n</li>\n<li><p></p>\n<p><img src=\"https://img-blog.csdnimg.cn/20200419175724907.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n</li>\n</ol>\n</li>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>B+</p>\n<blockquote>\n<p></p>\n<p></p>\n<p></p>\n</blockquote>\n<p><img src=\"https://img-blog.csdnimg.cn/2020041917570460.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n</li>\n</ol>\n<hr>\n</li>\n<li><p></p>\n<ol>\n<li></li>\n<li></li>\n<li>MySQL==row_id==6MySQL<strong>-&gt;-&gt;</strong></li>\n</ol>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">alter table table_name add primary key (column name);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p></p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">create index  on table_name(column1,column2);\nalter table table_name add index (column1,column2);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><p></p>\n<ol>\n<li>nullnull,</li>\n<li>null</li>\n</ol>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">create unique index index_name on table_name (column_list);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li></li>\n<li>I/OI/O</li>\n<li></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li>CPU</li>\n<li></li>\n<li>NULL</li>\n<li></li>\n<li>NULL</li>\n<li>I/O</li>\n<li>mysqlwhereorder by</li>\n<li>nologgingredo</li>\n<li></li>\n<li>NOT IN!=mysql</li>\n<li>where</li>\n</ol>\n<h3 id=\"B-B-\"><a href=\"#B-B-\" class=\"headerlink\" title=\"B+B+\"></a>B+B+</h3><p>B</p>\n<ol>\n<li><p></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n</ul>\n</li>\n<li><p>AVL</p>\n<ul>\n<li><p>AVL</p>\n</li>\n<li><p>1</p>\n</li>\n<li><p></p>\n</li>\n<li><p>AVL</p>\n</li>\n</ul>\n</li>\n<li><p></p>\n<ul>\n<li></li>\n<li></li>\n<li>AVL</li>\n</ul>\n</li>\n<li><p>Bb-</p>\n<ul>\n<li></li>\n<li></li>\n<li>B/B+CPUCPUBBI/O</li>\n<li></li>\n</ul>\n</li>\n<li><p>B+</p>\n<ul>\n<li>B</li>\n<li>B,B+</li>\n<li></li>\n</ul>\n</li>\n<li><h5 id=\"B-\"><a href=\"#B-\" class=\"headerlink\" title=\"B+\"></a>B+</h5><ul>\n<li><p>6BI/O</p>\n</li>\n<li><p></p>\n</li>\n<li><p>B+B</p>\n</li>\n</ul>\n</li>\n<li><h5 id=\"InnoDBB-\"><a href=\"#InnoDBB-\" class=\"headerlink\" title=\"InnoDBB+\"></a>InnoDBB+</h5><ul>\n<li>B+</li>\n<li></li>\n<li>B+InnoDB</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<ul>\n<li><p></p>\n</li>\n<li><p>Q</p>\n</li>\n<li><p>&gt;= and &lt;= and =Q</p>\n</li>\n<li><p>order by10</p>\n<p><img src=\"https://img-blog.csdnimg.cn/20200419175555700.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n</li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>SQL</p>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li></li>\n<li></li>\n<li></li>\n<li>select * where xxx=xxx </li>\n<li>select xxx limit 100000 </li>\n<li>join </li>\n<li>SQLSQL</li>\n<li> like</li>\n<li></li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>explaindescSQL<a href=\"https://blog.csdn.net/liyuxing6639801/article/details/105646853\">explain</a></p>\n<ul>\n<li><p></p>\n<blockquote>\n<ol>\n<li></li>\n<li>5</li>\n<li>5</li>\n<li>VARCHARcrc32MD5 HashHash</li>\n<li></li>\n</ol>\n</blockquote>\n</li>\n<li><p>SQL</p>\n<blockquote>\n<ol>\n<li>SQLIN</li>\n<li>INOR</li>\n<li>WHEREMySQL</li>\n<li>SELECT</li>\n<li>SQL</li>\n<li>JOIN</li>\n<li>COUNT(*)COUNT(primary_key)COUNT(1)COUNT(*)Redis</li>\n<li>WHEREINBETWEEN&lt;&lt;=&gt;&gt;=</li>\n<li>SQL</li>\n<li></li>\n</ol>\n</blockquote>\n</li>\n<li><p></p>\n<blockquote>\n<ol>\n<li><p>not nullnullmysql==null==</p>\n</li>\n<li><p></p>\n</li>\n</ol>\n</blockquote>\n</li>\n<li><p></p>\n<blockquote>\n<p></p>\n<p>hash</p>\n</blockquote>\n</li>\n<li><p></p>\n<blockquote>\n<p><a href=\"https://blog.csdn.net/liyuxing6639801/article/details/105646967\"></a></p>\n</blockquote>\n</li>\n</ul>\n<h3 id=\"Mysql\"><a href=\"#Mysql\" class=\"headerlink\" title=\"Mysql\"></a>Mysql</h3><ul>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li><strong>Atomicity</strong></li>\n<li><strong>Consistency</strong></li>\n<li><strong>Isolation</strong></li>\n<li><strong>Durability</strong></li>\n</ol>\n</li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>repeatable-read </p>\n<p></p>\n<p>next-key </p>\n<p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>read-uncommitted</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>read-committed</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>repeatable-read</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>serializable</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n</li>\n</ul>\n<ul>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>update</p>\n<p>insert</p>\n</li>\n</ul>\n<h3 id=\"Mysql\"><a href=\"#Mysql\" class=\"headerlink\" title=\"Mysql\"></a>Mysql</h3><ul>\n<li></li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20200419175424893.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_14,color_FFFFFF,t_70\" alt=\"\"></p>\n<ul>\n<li><p>MySQL</p>\n<ol>\n<li>InnoDBMyISAMMemoryMerge</li>\n<li></li>\n<li><code>ALTER TABLE</code><code>DROP TABLE</code><code>DDL</code><code>SELECT</code><code>INSERT</code><code>DELETE</code><code>UPDATE</code>server====MDL</li>\n</ol>\n</li>\n<li><p></p>\n<p>MVCC</p>\n</li>\n<li><p></p>\n<ol>\n<li><p></p>\n<p>Share LocksSS</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">select ... lock in share mode;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p></p>\n<p>Exclusive LocksXX</p>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">select ... for update;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>X</th>\n<th>S</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>X</td>\n<td>No</td>\n<td>No</td>\n</tr>\n<tr>\n<td>S</td>\n<td>No</td>\n<td>Yes</td>\n</tr>\n</tbody></table>\n</li>\n</ol>\n</li>\n<li><p></p>\n<ol>\n<li><p></p>\n</li>\n<li><p></p>\n</li>\n<li><p>IS</p>\n<p>MySQLSIX</p>\n</li>\n<li><p>IX)</p>\n<p></p>\n</li>\n<li><p></p>\n<p></p>\n<table>\n<thead>\n<tr>\n<th align=\"center\"></th>\n<th align=\"center\">X</th>\n<th align=\"center\">S</th>\n<th align=\"center\">IX</th>\n<th align=\"center\">IS</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">X</td>\n<td align=\"center\">No</td>\n<td align=\"center\">No</td>\n<td align=\"center\">No</td>\n<td align=\"center\">No</td>\n</tr>\n<tr>\n<td align=\"center\">S</td>\n<td align=\"center\">No</td>\n<td align=\"center\">Yes</td>\n<td align=\"center\">No</td>\n<td align=\"center\">Yes</td>\n</tr>\n<tr>\n<td align=\"center\">IX</td>\n<td align=\"center\">No</td>\n<td align=\"center\">No</td>\n<td align=\"center\">Yes</td>\n<td align=\"center\">Yes</td>\n</tr>\n<tr>\n<td align=\"center\">IS</td>\n<td align=\"center\">No</td>\n<td align=\"center\">Yes</td>\n<td align=\"center\">Yes</td>\n<td align=\"center\">Yes</td>\n</tr>\n</tbody></table>\n</li>\n</ol>\n</li>\n<li><h5 id=\"AUTO-INC\"><a href=\"#AUTO-INC\" class=\"headerlink\" title=\"AUTO-INC\"></a>AUTO-INC</h5><p>==AUTO_INCREMENT==</p>\n<blockquote>\n<ol>\n<li><p>==AUTO-INC==AUTO-INC</p>\n<p>AUTO_INCinsertinsert</p>\n</li>\n<li><p>insertinsert</p>\n</li>\n<li><p>InnoDB<code>innodb_autoinc_lock_mode</code>0AUTO-INC21AUTO-INC</p>\n</li>\n</ol>\n</blockquote>\n</li>\n<li><p></p>\n<ul>\n<li><p></p>\n</li>\n<li><p></p>\n<p>LOCK_GAPgap====</p>\n<p>MySQL</p>\n<ol>\n<li>MVCC</li>\n<li></li>\n</ol>\n</li>\n<li><p>Next-Key Lock</p>\n<p>LOCK_ORDINARY</p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"Mysql\"><a href=\"#Mysql\" class=\"headerlink\" title=\"Mysql\"></a>Mysql</h3><p>MySQL</p>\n<ul>\n<li><p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n</li>\n<li><p></p>\n<ol>\n<li><p>Statement Based Replication SQLSQL</p>\n<p></p>\n<p>sql</p>\n</li>\n<li><p>Row Based Replication </p>\n<p></p>\n<p></p>\n</li>\n<li><p>Mixed Based Replication SBRRBRSBR</p>\n</li>\n</ol>\n</li>\n</ul>\n<h3 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h3><ol>\n<li></li>\n<li>masterslave</li>\n</ol>\n<blockquote>\n<p>SQL</p>\n<p>masterslaveSQLTPSSQLslaveSQL</p>\n</blockquote>\n<pre class=\"line-numbers language-mysql\" data-language=\"mysql\"><code class=\"language-mysql\">show status # Seconds_Behind_Master<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li><p>MySQL</p>\n<ol>\n<li><p></p>\n<p>masterslave</p>\n<p>relay_logack</p>\n<p><img src=\"https://img-blog.csdnimg.cn/20200419175312840.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70#pic_left\" alt=\"\"></p>\n</li>\n<li><p></p>\n<p></p>\n</li>\n</ol>\n</li>\n<li><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li>SQL</li>\n<li>DMLDB</li>\n<li></li>\n</ol>\n</li>\n</ul>\n<h3 id=\"MySQLvarcharcharchar-10-10\"><a href=\"#MySQLvarcharcharchar-10-10\" class=\"headerlink\" title=\"MySQLvarcharcharchar(10)10\"></a>MySQLvarcharcharchar(10)10</h3><ul>\n<li>varcharcharutf8</li>\n<li>utf8char(10)1030char</li>\n<li>utf8)charvarchar</li>\n<li>char(10)100x20InnoDB utf8varchar</li>\n</ul>\n<p></p>\n"},{"title":"Redis-SortedSet","comments":1,"date":"2021-03-07T10:47:18.000Z","author":null,"_content":"\n#### SortedSet\n1. \n2. \n\n#### \nSortedSet scorescore\n>  1/timestamp  1/(-timestamp)\n\n#### \nSortedSet \n\n - SortedSetHash\nA SortedSet  member score\nB SortedSet  memberscoreAscore\nC Hash score  \n\n - \n\n1.C key10 B keyB key\n2.C key1\n3.A key\n\n- \n\n\n- \n","source":"_posts/2021-03-07-Redis-SortedSet.md","raw":"---\ntitle: Redis-SortedSet\ncomments: true\ndate: 2021-03-07 18:47:18\nauthor:\ntags:\n - Redis\ncategories:\n - \n---\n\n#### SortedSet\n1. \n2. \n\n#### \nSortedSet scorescore\n>  1/timestamp  1/(-timestamp)\n\n#### \nSortedSet \n\n - SortedSetHash\nA SortedSet  member score\nB SortedSet  memberscoreAscore\nC Hash score  \n\n - \n\n1.C key10 B keyB key\n2.C key1\n3.A key\n\n- \n\n\n- \n","slug":"Redis-SortedSet","published":1,"updated":"2021-03-07T10:48:23.004Z","_id":"cklz174mv003j6rs6hixlaizp","layout":"post","photos":[],"link":"","content":"<h4 id=\"SortedSet\"><a href=\"#SortedSet\" class=\"headerlink\" title=\"SortedSet\"></a>SortedSet</h4><ol>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>SortedSet scorescore</p>\n<blockquote>\n<p> 1/timestamp  1/(-timestamp)</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>SortedSet </p>\n<ul>\n<li><p>SortedSetHash<br>A SortedSet  member score<br>B SortedSet  memberscoreAscore<br>C Hash score  </p>\n</li>\n<li><p><br></p>\n</li>\n</ul>\n<p>1.C key10 B keyB key<br>2.C key1<br>3.A key</p>\n<ul>\n<li><p><br></p>\n</li>\n<li><p><br></p>\n</li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h4 id=\"SortedSet\"><a href=\"#SortedSet\" class=\"headerlink\" title=\"SortedSet\"></a>SortedSet</h4><ol>\n<li></li>\n<li></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>SortedSet scorescore</p>\n<blockquote>\n<p> 1/timestamp  1/(-timestamp)</p>\n</blockquote>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>SortedSet </p>\n<ul>\n<li><p>SortedSetHash<br>A SortedSet  member score<br>B SortedSet  memberscoreAscore<br>C Hash score  </p>\n</li>\n<li><p><br></p>\n</li>\n</ul>\n<p>1.C key10 B keyB key<br>2.C key1<br>3.A key</p>\n<ul>\n<li><p><br></p>\n</li>\n<li><p><br></p>\n</li>\n</ul>\n"},{"title":"Golang-9","comments":1,"date":"2021-03-07T10:49:37.000Z","author":null,"_content":"\n### \n- \n ![](https://img-blog.csdnimg.cn/20200303144245619.png)\n- \n ![](https://img-blog.csdnimg.cn/20200303144310558.png)\n\n### \n1. \n```go\nfunc multiGetImages(urls []string, dir string, prefix string)(localPath []string){\n\tvar w = sync.WaitGroup{}\n\tw.Add(len(urls))\n\ttimestamp := time.Now().UnixNano()\n\tfor i, url :=range urls {\n\t\tname := fmt.Sprintf(\"%s/%s_%d_%d.png\", dir, prefix, timestamp, i)\n\t\tlocalPath = append(localPath, name)\n\t\tgo downloadImage(url, name, &w)\n\t}\n\tw.Wait()\n\treturn\n}\n\nfunc downloadImage(url string, imgName string, wg *sync.WaitGroup){\n\tdefer wg.Done()\n\tout, err := os.Create(imgName)\n\tif err != nil {\n\t\tfmt.Println(err)\n\t\treturn\n\t}\n\tdefer out.Close()\n\tclient := http.Client{Timeout: 2 * time.Second}\n\tresp, err := client.Get(url)\n\tif err != nil {\n\t\tfmt.Println(err)\n\t\treturn\n\t}\n\tdefer resp.Body.Close()\n\tpix, err := ioutil.ReadAll(resp.Body)\n\tif err != nil {\n\t\tfmt.Println(err)\n\t\treturn\n\t}\n\t_, err = io.Copy(out, bytes.NewReader(pix))\n\treturn\n}\n```\n2. \n```go\nfunc imageCompose(imagePath string, localPaths []string, gap int) {\n\timageSize := 80\n\timageRow := int(math.Sqrt(float64(len(localPaths)))) // \n\timageCol := imageRow\n\trowOffset := gap\n\tcolOffset := gap\n\tbackImg := imaging.New(imageSize*imageRow+gap*(imageCol+1), imageSize*imageCol+gap*(imageRow+1), color.NRGBA{255, 255, 255, 255})\n\ttempRow, tempCol := 1, 1\n\tfor tempRow < imageRow+1 {\n\t\tfor tempCol < imageCol+1 {\n\t\t\timgIndex := imageCol*(tempRow-1) + tempCol - 1\n\t\t\tresizeImg, err := imaging.Open(localPaths[imgIndex])\n\t\t\tif err != nil {\n\t\t\t\tfmt.Println(err)\n\t\t\t}\n\t\t\tresizeImg = imaging.Blur(imaging.Resize(resizeImg, imageSize, imageSize, imaging.Lanczos), 2) // \n\t\t\tbackImg = imaging.Paste(backImg, resizeImg, image.Pt((tempCol-1)*imageSize+colOffset, (tempRow-1)*imageSize+rowOffset))\n\t\t\ttempCol += 1\n\t\t\tcolOffset += gap\n\t\t}\n\t\ttempRow += 1\n\t\trowOffset += gap\n\t\ttempCol = 1\n\t\tcolOffset = gap\n\t}\n\terr := imaging.Save(backImg, imagePath)\n\tif err != nil {\n\t\tfmt.Println(err)\n\t}\n\treturn\n}\n```\n\n3. \n```go\nfunc removeFile(filePaths []string){\n\tfor _,url := range filePaths{\n\t\terr := os.RemoveAll(url)\n\t\tif err != nil {\n\t\t\tfmt.Println(err)\n\t\t}\n\t}\n}\n```\n","source":"_posts/2021-03-07-Golang-9.md","raw":"---\ntitle: Golang-9\ncomments: true\ndate: 2021-03-07 18:49:37\nauthor:\ntags:\n - Golang\n - \ncategories:\n - \n---\n\n### \n- \n ![](https://img-blog.csdnimg.cn/20200303144245619.png)\n- \n ![](https://img-blog.csdnimg.cn/20200303144310558.png)\n\n### \n1. \n```go\nfunc multiGetImages(urls []string, dir string, prefix string)(localPath []string){\n\tvar w = sync.WaitGroup{}\n\tw.Add(len(urls))\n\ttimestamp := time.Now().UnixNano()\n\tfor i, url :=range urls {\n\t\tname := fmt.Sprintf(\"%s/%s_%d_%d.png\", dir, prefix, timestamp, i)\n\t\tlocalPath = append(localPath, name)\n\t\tgo downloadImage(url, name, &w)\n\t}\n\tw.Wait()\n\treturn\n}\n\nfunc downloadImage(url string, imgName string, wg *sync.WaitGroup){\n\tdefer wg.Done()\n\tout, err := os.Create(imgName)\n\tif err != nil {\n\t\tfmt.Println(err)\n\t\treturn\n\t}\n\tdefer out.Close()\n\tclient := http.Client{Timeout: 2 * time.Second}\n\tresp, err := client.Get(url)\n\tif err != nil {\n\t\tfmt.Println(err)\n\t\treturn\n\t}\n\tdefer resp.Body.Close()\n\tpix, err := ioutil.ReadAll(resp.Body)\n\tif err != nil {\n\t\tfmt.Println(err)\n\t\treturn\n\t}\n\t_, err = io.Copy(out, bytes.NewReader(pix))\n\treturn\n}\n```\n2. \n```go\nfunc imageCompose(imagePath string, localPaths []string, gap int) {\n\timageSize := 80\n\timageRow := int(math.Sqrt(float64(len(localPaths)))) // \n\timageCol := imageRow\n\trowOffset := gap\n\tcolOffset := gap\n\tbackImg := imaging.New(imageSize*imageRow+gap*(imageCol+1), imageSize*imageCol+gap*(imageRow+1), color.NRGBA{255, 255, 255, 255})\n\ttempRow, tempCol := 1, 1\n\tfor tempRow < imageRow+1 {\n\t\tfor tempCol < imageCol+1 {\n\t\t\timgIndex := imageCol*(tempRow-1) + tempCol - 1\n\t\t\tresizeImg, err := imaging.Open(localPaths[imgIndex])\n\t\t\tif err != nil {\n\t\t\t\tfmt.Println(err)\n\t\t\t}\n\t\t\tresizeImg = imaging.Blur(imaging.Resize(resizeImg, imageSize, imageSize, imaging.Lanczos), 2) // \n\t\t\tbackImg = imaging.Paste(backImg, resizeImg, image.Pt((tempCol-1)*imageSize+colOffset, (tempRow-1)*imageSize+rowOffset))\n\t\t\ttempCol += 1\n\t\t\tcolOffset += gap\n\t\t}\n\t\ttempRow += 1\n\t\trowOffset += gap\n\t\ttempCol = 1\n\t\tcolOffset = gap\n\t}\n\terr := imaging.Save(backImg, imagePath)\n\tif err != nil {\n\t\tfmt.Println(err)\n\t}\n\treturn\n}\n```\n\n3. \n```go\nfunc removeFile(filePaths []string){\n\tfor _,url := range filePaths{\n\t\terr := os.RemoveAll(url)\n\t\tif err != nil {\n\t\t\tfmt.Println(err)\n\t\t}\n\t}\n}\n```\n","slug":"Golang-9","published":1,"updated":"2021-03-07T10:50:46.069Z","_id":"cklz1a3jp003o6rs672sh2a0g","layout":"post","photos":[],"link":"","content":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><br><img src=\"https://img-blog.csdnimg.cn/20200303144245619.png\" alt=\"\"></li>\n<li><br><img src=\"https://img-blog.csdnimg.cn/20200303144310558.png\" alt=\"\"></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">multiGetImages</span><span class=\"token punctuation\">(</span>urls <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> dir <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> prefix <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>localPath <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">var</span> w <span class=\"token operator\">=</span> sync<span class=\"token punctuation\">.</span>WaitGroup<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\tw<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>urls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\ttimestamp <span class=\"token operator\">:=</span> time<span class=\"token punctuation\">.</span><span class=\"token function\">Now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">UnixNano</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> url <span class=\"token operator\">:=</span><span class=\"token keyword\">range</span> urls <span class=\"token punctuation\">&#123;</span>\n\t\tname <span class=\"token operator\">:=</span> fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Sprintf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"%s/%s_%d_%d.png\"</span><span class=\"token punctuation\">,</span> dir<span class=\"token punctuation\">,</span> prefix<span class=\"token punctuation\">,</span> timestamp<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span>\n\t\tlocalPath <span class=\"token operator\">=</span> <span class=\"token function\">append</span><span class=\"token punctuation\">(</span>localPath<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">go</span> <span class=\"token function\">downloadImage</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>w<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\tw<span class=\"token punctuation\">.</span><span class=\"token function\">Wait</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">downloadImage</span><span class=\"token punctuation\">(</span>url <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> imgName <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> wg <span class=\"token operator\">*</span>sync<span class=\"token punctuation\">.</span>WaitGroup<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">defer</span> wg<span class=\"token punctuation\">.</span><span class=\"token function\">Done</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\tout<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> os<span class=\"token punctuation\">.</span><span class=\"token function\">Create</span><span class=\"token punctuation\">(</span>imgName<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">return</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">defer</span> out<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\tclient <span class=\"token operator\">:=</span> http<span class=\"token punctuation\">.</span>Client<span class=\"token punctuation\">&#123;</span>Timeout<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> time<span class=\"token punctuation\">.</span>Second<span class=\"token punctuation\">&#125;</span>\n\tresp<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> client<span class=\"token punctuation\">.</span><span class=\"token function\">Get</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">return</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">defer</span> resp<span class=\"token punctuation\">.</span>Body<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\tpix<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> ioutil<span class=\"token punctuation\">.</span><span class=\"token function\">ReadAll</span><span class=\"token punctuation\">(</span>resp<span class=\"token punctuation\">.</span>Body<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">return</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> err <span class=\"token operator\">=</span> io<span class=\"token punctuation\">.</span><span class=\"token function\">Copy</span><span class=\"token punctuation\">(</span>out<span class=\"token punctuation\">,</span> bytes<span class=\"token punctuation\">.</span><span class=\"token function\">NewReader</span><span class=\"token punctuation\">(</span>pix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">imageCompose</span><span class=\"token punctuation\">(</span>imagePath <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> localPaths <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> gap <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\timageSize <span class=\"token operator\">:=</span> <span class=\"token number\">80</span>\n\timageRow <span class=\"token operator\">:=</span> <span class=\"token function\">int</span><span class=\"token punctuation\">(</span>math<span class=\"token punctuation\">.</span><span class=\"token function\">Sqrt</span><span class=\"token punctuation\">(</span><span class=\"token function\">float64</span><span class=\"token punctuation\">(</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>localPaths<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n\timageCol <span class=\"token operator\">:=</span> imageRow\n\trowOffset <span class=\"token operator\">:=</span> gap\n\tcolOffset <span class=\"token operator\">:=</span> gap\n\tbackImg <span class=\"token operator\">:=</span> imaging<span class=\"token punctuation\">.</span><span class=\"token function\">New</span><span class=\"token punctuation\">(</span>imageSize<span class=\"token operator\">*</span>imageRow<span class=\"token operator\">+</span>gap<span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>imageCol<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> imageSize<span class=\"token operator\">*</span>imageCol<span class=\"token operator\">+</span>gap<span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>imageRow<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> color<span class=\"token punctuation\">.</span>NRGBA<span class=\"token punctuation\">&#123;</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n\ttempRow<span class=\"token punctuation\">,</span> tempCol <span class=\"token operator\">:=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span>\n\t<span class=\"token keyword\">for</span> tempRow <span class=\"token operator\">&lt;</span> imageRow<span class=\"token operator\">+</span><span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">for</span> tempCol <span class=\"token operator\">&lt;</span> imageCol<span class=\"token operator\">+</span><span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\timgIndex <span class=\"token operator\">:=</span> imageCol<span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>tempRow<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> tempCol <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n\t\t\tresizeImg<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> imaging<span class=\"token punctuation\">.</span><span class=\"token function\">Open</span><span class=\"token punctuation\">(</span>localPaths<span class=\"token punctuation\">[</span>imgIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">&#125;</span>\n\t\t\tresizeImg <span class=\"token operator\">=</span> imaging<span class=\"token punctuation\">.</span><span class=\"token function\">Blur</span><span class=\"token punctuation\">(</span>imaging<span class=\"token punctuation\">.</span><span class=\"token function\">Resize</span><span class=\"token punctuation\">(</span>resizeImg<span class=\"token punctuation\">,</span> imageSize<span class=\"token punctuation\">,</span> imageSize<span class=\"token punctuation\">,</span> imaging<span class=\"token punctuation\">.</span>Lanczos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n\t\t\tbackImg <span class=\"token operator\">=</span> imaging<span class=\"token punctuation\">.</span><span class=\"token function\">Paste</span><span class=\"token punctuation\">(</span>backImg<span class=\"token punctuation\">,</span> resizeImg<span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">Pt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>tempCol<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>imageSize<span class=\"token operator\">+</span>colOffset<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>tempRow<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>imageSize<span class=\"token operator\">+</span>rowOffset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t\ttempCol <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\t\t\tcolOffset <span class=\"token operator\">+=</span> gap\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t\ttempRow <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\t\trowOffset <span class=\"token operator\">+=</span> gap\n\t\ttempCol <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n\t\tcolOffset <span class=\"token operator\">=</span> gap\n\t<span class=\"token punctuation\">&#125;</span>\n\terr <span class=\"token operator\">:=</span> imaging<span class=\"token punctuation\">.</span><span class=\"token function\">Save</span><span class=\"token punctuation\">(</span>backImg<span class=\"token punctuation\">,</span> imagePath<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">removeFile</span><span class=\"token punctuation\">(</span>filePaths <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">for</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span>url <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> filePaths<span class=\"token punctuation\">&#123;</span>\n\t\terr <span class=\"token operator\">:=</span> os<span class=\"token punctuation\">.</span><span class=\"token function\">RemoveAll</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ol>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><br><img src=\"https://img-blog.csdnimg.cn/20200303144245619.png\" alt=\"\"></li>\n<li><br><img src=\"https://img-blog.csdnimg.cn/20200303144310558.png\" alt=\"\"></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">multiGetImages</span><span class=\"token punctuation\">(</span>urls <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> dir <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> prefix <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span>localPath <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">var</span> w <span class=\"token operator\">=</span> sync<span class=\"token punctuation\">.</span>WaitGroup<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span>\n\tw<span class=\"token punctuation\">.</span><span class=\"token function\">Add</span><span class=\"token punctuation\">(</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>urls<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\ttimestamp <span class=\"token operator\">:=</span> time<span class=\"token punctuation\">.</span><span class=\"token function\">Now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">UnixNano</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> url <span class=\"token operator\">:=</span><span class=\"token keyword\">range</span> urls <span class=\"token punctuation\">&#123;</span>\n\t\tname <span class=\"token operator\">:=</span> fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Sprintf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"%s/%s_%d_%d.png\"</span><span class=\"token punctuation\">,</span> dir<span class=\"token punctuation\">,</span> prefix<span class=\"token punctuation\">,</span> timestamp<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span>\n\t\tlocalPath <span class=\"token operator\">=</span> <span class=\"token function\">append</span><span class=\"token punctuation\">(</span>localPath<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">go</span> <span class=\"token function\">downloadImage</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>w<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\tw<span class=\"token punctuation\">.</span><span class=\"token function\">Wait</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span>\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">downloadImage</span><span class=\"token punctuation\">(</span>url <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> imgName <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> wg <span class=\"token operator\">*</span>sync<span class=\"token punctuation\">.</span>WaitGroup<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">defer</span> wg<span class=\"token punctuation\">.</span><span class=\"token function\">Done</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\tout<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> os<span class=\"token punctuation\">.</span><span class=\"token function\">Create</span><span class=\"token punctuation\">(</span>imgName<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">return</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">defer</span> out<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\tclient <span class=\"token operator\">:=</span> http<span class=\"token punctuation\">.</span>Client<span class=\"token punctuation\">&#123;</span>Timeout<span class=\"token punctuation\">:</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> time<span class=\"token punctuation\">.</span>Second<span class=\"token punctuation\">&#125;</span>\n\tresp<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> client<span class=\"token punctuation\">.</span><span class=\"token function\">Get</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">return</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">defer</span> resp<span class=\"token punctuation\">.</span>Body<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\tpix<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> ioutil<span class=\"token punctuation\">.</span><span class=\"token function\">ReadAll</span><span class=\"token punctuation\">(</span>resp<span class=\"token punctuation\">.</span>Body<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">return</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> err <span class=\"token operator\">=</span> io<span class=\"token punctuation\">.</span><span class=\"token function\">Copy</span><span class=\"token punctuation\">(</span>out<span class=\"token punctuation\">,</span> bytes<span class=\"token punctuation\">.</span><span class=\"token function\">NewReader</span><span class=\"token punctuation\">(</span>pix<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">imageCompose</span><span class=\"token punctuation\">(</span>imagePath <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> localPaths <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> gap <span class=\"token builtin\">int</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\timageSize <span class=\"token operator\">:=</span> <span class=\"token number\">80</span>\n\timageRow <span class=\"token operator\">:=</span> <span class=\"token function\">int</span><span class=\"token punctuation\">(</span>math<span class=\"token punctuation\">.</span><span class=\"token function\">Sqrt</span><span class=\"token punctuation\">(</span><span class=\"token function\">float64</span><span class=\"token punctuation\">(</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>localPaths<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n\timageCol <span class=\"token operator\">:=</span> imageRow\n\trowOffset <span class=\"token operator\">:=</span> gap\n\tcolOffset <span class=\"token operator\">:=</span> gap\n\tbackImg <span class=\"token operator\">:=</span> imaging<span class=\"token punctuation\">.</span><span class=\"token function\">New</span><span class=\"token punctuation\">(</span>imageSize<span class=\"token operator\">*</span>imageRow<span class=\"token operator\">+</span>gap<span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>imageCol<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> imageSize<span class=\"token operator\">*</span>imageCol<span class=\"token operator\">+</span>gap<span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>imageRow<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> color<span class=\"token punctuation\">.</span>NRGBA<span class=\"token punctuation\">&#123;</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span>\n\ttempRow<span class=\"token punctuation\">,</span> tempCol <span class=\"token operator\">:=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span>\n\t<span class=\"token keyword\">for</span> tempRow <span class=\"token operator\">&lt;</span> imageRow<span class=\"token operator\">+</span><span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n\t\t<span class=\"token keyword\">for</span> tempCol <span class=\"token operator\">&lt;</span> imageCol<span class=\"token operator\">+</span><span class=\"token number\">1</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\timgIndex <span class=\"token operator\">:=</span> imageCol<span class=\"token operator\">*</span><span class=\"token punctuation\">(</span>tempRow<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> tempCol <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n\t\t\tresizeImg<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> imaging<span class=\"token punctuation\">.</span><span class=\"token function\">Open</span><span class=\"token punctuation\">(</span>localPaths<span class=\"token punctuation\">[</span>imgIndex<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t\t\t<span class=\"token punctuation\">&#125;</span>\n\t\t\tresizeImg <span class=\"token operator\">=</span> imaging<span class=\"token punctuation\">.</span><span class=\"token function\">Blur</span><span class=\"token punctuation\">(</span>imaging<span class=\"token punctuation\">.</span><span class=\"token function\">Resize</span><span class=\"token punctuation\">(</span>resizeImg<span class=\"token punctuation\">,</span> imageSize<span class=\"token punctuation\">,</span> imageSize<span class=\"token punctuation\">,</span> imaging<span class=\"token punctuation\">.</span>Lanczos<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// </span>\n\t\t\tbackImg <span class=\"token operator\">=</span> imaging<span class=\"token punctuation\">.</span><span class=\"token function\">Paste</span><span class=\"token punctuation\">(</span>backImg<span class=\"token punctuation\">,</span> resizeImg<span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">Pt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>tempCol<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>imageSize<span class=\"token operator\">+</span>colOffset<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>tempRow<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span>imageSize<span class=\"token operator\">+</span>rowOffset<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t\t\ttempCol <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\t\t\tcolOffset <span class=\"token operator\">+=</span> gap\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t\ttempRow <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\t\trowOffset <span class=\"token operator\">+=</span> gap\n\t\ttempCol <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n\t\tcolOffset <span class=\"token operator\">=</span> gap\n\t<span class=\"token punctuation\">&#125;</span>\n\terr <span class=\"token operator\">:=</span> imaging<span class=\"token punctuation\">.</span><span class=\"token function\">Save</span><span class=\"token punctuation\">(</span>backImg<span class=\"token punctuation\">,</span> imagePath<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p></p>\n<pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">removeFile</span><span class=\"token punctuation\">(</span>filePaths <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n\t<span class=\"token keyword\">for</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span>url <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> filePaths<span class=\"token punctuation\">&#123;</span>\n\t\terr <span class=\"token operator\">:=</span> os<span class=\"token punctuation\">.</span><span class=\"token function\">RemoveAll</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">&#123;</span>\n\t\t\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n\t\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ol>\n"},{"title":"Mysql-AUTO_INCREMENT","comments":1,"date":"2021-03-07T10:52:58.000Z","author":null,"_content":"\n### AUTO_INCREMENT\n###### \n\n1****\n\n- ======auto-inc==auto-incrementauto-incauto-inc\n> AUTO-INC\n\n2****\n- auto-incrementauto-increment====\n\n> InnoDB innodb_autoinc_lock_mode \n> 1. innodb_autoinc_lock_mode=0 auto-inc\n> 2. innodb_autoinc_lock_mode=2 \n> 3. innodb_autoinc_lock_mode=1 AUTO-INC\n> \n> \n","source":"_posts/2021-03-07-Mysql-AUTO-INCREMENT.md","raw":"---\ntitle: Mysql-AUTO_INCREMENT\ncomments: true\ndate: 2021-03-07 18:52:58\nauthor:\ntags:\n - Mysql\ncategories:\n - \n---\n\n### AUTO_INCREMENT\n###### \n\n1****\n\n- ======auto-inc==auto-incrementauto-incauto-inc\n> AUTO-INC\n\n2****\n- auto-incrementauto-increment====\n\n> InnoDB innodb_autoinc_lock_mode \n> 1. innodb_autoinc_lock_mode=0 auto-inc\n> 2. innodb_autoinc_lock_mode=2 \n> 3. innodb_autoinc_lock_mode=1 AUTO-INC\n> \n> \n","slug":"Mysql-AUTO-INCREMENT","published":1,"updated":"2021-03-07T10:53:17.283Z","_id":"cklz1eesp003t6rs640uq2rsf","layout":"post","photos":[],"link":"","content":"<h3 id=\"AUTO-INCREMENT\"><a href=\"#AUTO-INCREMENT\" class=\"headerlink\" title=\"AUTO_INCREMENT\"></a>AUTO_INCREMENT</h3><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>1<strong></strong></p>\n<ul>\n<li>======auto-inc==auto-incrementauto-incauto-inc<blockquote>\n<p>AUTO-INC</p>\n</blockquote>\n</li>\n</ul>\n<p>2<strong></strong></p>\n<ul>\n<li>auto-incrementauto-increment====</li>\n</ul>\n<blockquote>\n<p>InnoDB innodb_autoinc_lock_mode </p>\n<ol>\n<li>innodb_autoinc_lock_mode=0 auto-inc</li>\n<li>innodb_autoinc_lock_mode=2 </li>\n<li>innodb_autoinc_lock_mode=1 AUTO-INC</li>\n</ol>\n<p></p>\n</blockquote>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"AUTO-INCREMENT\"><a href=\"#AUTO-INCREMENT\" class=\"headerlink\" title=\"AUTO_INCREMENT\"></a>AUTO_INCREMENT</h3><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>1<strong></strong></p>\n<ul>\n<li>======auto-inc==auto-incrementauto-incauto-inc<blockquote>\n<p>AUTO-INC</p>\n</blockquote>\n</li>\n</ul>\n<p>2<strong></strong></p>\n<ul>\n<li>auto-incrementauto-increment====</li>\n</ul>\n<blockquote>\n<p>InnoDB innodb_autoinc_lock_mode </p>\n<ol>\n<li>innodb_autoinc_lock_mode=0 auto-inc</li>\n<li>innodb_autoinc_lock_mode=2 </li>\n<li>innodb_autoinc_lock_mode=1 AUTO-INC</li>\n</ol>\n<p></p>\n</blockquote>\n"},{"title":"","comments":1,"date":"2021-03-07T11:10:55.000Z","author":null,"_content":"\n\n\n#### curl \n[https://curl.trillworks.com/](https://curl.trillworks.com/)\n\n#### curl-to-Go\n[https://mholt.github.io/curl-to-go/](https://mholt.github.io/curl-to-go/)\n\n#### JSON-to-Go\n[https://mholt.github.io/json-to-go/](https://mholt.github.io/json-to-go/)\n\n#### mysql  ES \n[http://www.ischoolbar.com/EsParser/](http://www.ischoolbar.com/EsParser/)\n\n#### json\n[http://www.bejson.com/](http://www.bejson.com/)\n\n#### \n[https://tool.oschina.net/diff](https://tool.oschina.net/diff)\n\n#### corntab\n[https://tool.lu/crontab/](https://tool.lu/crontab/)\n\n#### \n[https://unixtime.51240.com/](https://unixtime.51240.com/)\n\n#### URL\n[http://www.jsons.cn/urlencode/](http://www.jsons.cn/urlencode/)\n\n#### Unicode\n[https://javawind.net/tools/native2ascii.jsp?action=transform](https://javawind.net/tools/native2ascii.jsp?action=transform)\n\n#### \n[https://cloudconvert.com/extract-7z-archive](https://cloudconvert.com/extract-7z-archive)\n\n#### \n[https://app.diagrams.net/](https://app.diagrams.net/)\n\n#### Golang\n[https://juejin.cn/post/6844904007169736718](https://juejin.cn/post/6844904007169736718)\n\n## \n\n#### CSSGIF\n\n[https://preloaders.net/](https://preloaders.net/)\n[https://loading.io/](https://loading.io/)\n\n#### CSS\n[http://autoprefixer.github.io/](http://autoprefixer.github.io/)\n\n\n","source":"_posts/2021-03-07-.md","raw":"---\ntitle: \ncomments: true\ndate: 2021-03-07 19:10:55\nauthor:\ntags:\n - \ncategories:\n - \n---\n\n\n\n#### curl \n[https://curl.trillworks.com/](https://curl.trillworks.com/)\n\n#### curl-to-Go\n[https://mholt.github.io/curl-to-go/](https://mholt.github.io/curl-to-go/)\n\n#### JSON-to-Go\n[https://mholt.github.io/json-to-go/](https://mholt.github.io/json-to-go/)\n\n#### mysql  ES \n[http://www.ischoolbar.com/EsParser/](http://www.ischoolbar.com/EsParser/)\n\n#### json\n[http://www.bejson.com/](http://www.bejson.com/)\n\n#### \n[https://tool.oschina.net/diff](https://tool.oschina.net/diff)\n\n#### corntab\n[https://tool.lu/crontab/](https://tool.lu/crontab/)\n\n#### \n[https://unixtime.51240.com/](https://unixtime.51240.com/)\n\n#### URL\n[http://www.jsons.cn/urlencode/](http://www.jsons.cn/urlencode/)\n\n#### Unicode\n[https://javawind.net/tools/native2ascii.jsp?action=transform](https://javawind.net/tools/native2ascii.jsp?action=transform)\n\n#### \n[https://cloudconvert.com/extract-7z-archive](https://cloudconvert.com/extract-7z-archive)\n\n#### \n[https://app.diagrams.net/](https://app.diagrams.net/)\n\n#### Golang\n[https://juejin.cn/post/6844904007169736718](https://juejin.cn/post/6844904007169736718)\n\n## \n\n#### CSSGIF\n\n[https://preloaders.net/](https://preloaders.net/)\n[https://loading.io/](https://loading.io/)\n\n#### CSS\n[http://autoprefixer.github.io/](http://autoprefixer.github.io/)\n\n\n","slug":"","published":1,"updated":"2021-03-07T11:21:31.387Z","_id":"cklz21ht30000jvs6bcy38rs6","layout":"post","photos":[],"link":"","content":"<p></p>\n<h4 id=\"curl-\"><a href=\"#curl-\" class=\"headerlink\" title=\"curl \"></a>curl </h4><p><a href=\"https://curl.trillworks.com/\">https://curl.trillworks.com/</a></p>\n<h4 id=\"curl-to-Go\"><a href=\"#curl-to-Go\" class=\"headerlink\" title=\"curl-to-Go\"></a>curl-to-Go</h4><p><a href=\"https://mholt.github.io/curl-to-go/\">https://mholt.github.io/curl-to-go/</a></p>\n<h4 id=\"JSON-to-Go\"><a href=\"#JSON-to-Go\" class=\"headerlink\" title=\"JSON-to-Go\"></a>JSON-to-Go</h4><p><a href=\"https://mholt.github.io/json-to-go/\">https://mholt.github.io/json-to-go/</a></p>\n<h4 id=\"mysql--ES-\"><a href=\"#mysql--ES-\" class=\"headerlink\" title=\"mysql  ES \"></a>mysql  ES </h4><p><a href=\"http://www.ischoolbar.com/EsParser/\">http://www.ischoolbar.com/EsParser/</a></p>\n<h4 id=\"json\"><a href=\"#json\" class=\"headerlink\" title=\"json\"></a>json</h4><p><a href=\"http://www.bejson.com/\">http://www.bejson.com/</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://tool.oschina.net/diff\">https://tool.oschina.net/diff</a></p>\n<h4 id=\"corntab\"><a href=\"#corntab\" class=\"headerlink\" title=\"corntab\"></a>corntab</h4><p><a href=\"https://tool.lu/crontab/\">https://tool.lu/crontab/</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://unixtime.51240.com/\">https://unixtime.51240.com/</a></p>\n<h4 id=\"URL\"><a href=\"#URL\" class=\"headerlink\" title=\"URL\"></a>URL</h4><p><a href=\"http://www.jsons.cn/urlencode/\">http://www.jsons.cn/urlencode/</a></p>\n<h4 id=\"Unicode\"><a href=\"#Unicode\" class=\"headerlink\" title=\"Unicode\"></a>Unicode</h4><p><a href=\"https://javawind.net/tools/native2ascii.jsp?action=transform\">https://javawind.net/tools/native2ascii.jsp?action=transform</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://cloudconvert.com/extract-7z-archive\">https://cloudconvert.com/extract-7z-archive</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://app.diagrams.net/\">https://app.diagrams.net/</a></p>\n<h4 id=\"Golang\"><a href=\"#Golang\" class=\"headerlink\" title=\"Golang\"></a>Golang</h4><p><a href=\"https://juejin.cn/post/6844904007169736718\">https://juejin.cn/post/6844904007169736718</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"CSSGIF\"><a href=\"#CSSGIF\" class=\"headerlink\" title=\"CSSGIF\"></a>CSSGIF</h4><p><a href=\"https://preloaders.net/\">https://preloaders.net/</a><br><a href=\"https://loading.io/\">https://loading.io/</a></p>\n<h4 id=\"CSS\"><a href=\"#CSS\" class=\"headerlink\" title=\"CSS\"></a>CSS</h4><p><a href=\"http://autoprefixer.github.io/\">http://autoprefixer.github.io/</a></p>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<p></p>\n<h4 id=\"curl-\"><a href=\"#curl-\" class=\"headerlink\" title=\"curl \"></a>curl </h4><p><a href=\"https://curl.trillworks.com/\">https://curl.trillworks.com/</a></p>\n<h4 id=\"curl-to-Go\"><a href=\"#curl-to-Go\" class=\"headerlink\" title=\"curl-to-Go\"></a>curl-to-Go</h4><p><a href=\"https://mholt.github.io/curl-to-go/\">https://mholt.github.io/curl-to-go/</a></p>\n<h4 id=\"JSON-to-Go\"><a href=\"#JSON-to-Go\" class=\"headerlink\" title=\"JSON-to-Go\"></a>JSON-to-Go</h4><p><a href=\"https://mholt.github.io/json-to-go/\">https://mholt.github.io/json-to-go/</a></p>\n<h4 id=\"mysql--ES-\"><a href=\"#mysql--ES-\" class=\"headerlink\" title=\"mysql  ES \"></a>mysql  ES </h4><p><a href=\"http://www.ischoolbar.com/EsParser/\">http://www.ischoolbar.com/EsParser/</a></p>\n<h4 id=\"json\"><a href=\"#json\" class=\"headerlink\" title=\"json\"></a>json</h4><p><a href=\"http://www.bejson.com/\">http://www.bejson.com/</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://tool.oschina.net/diff\">https://tool.oschina.net/diff</a></p>\n<h4 id=\"corntab\"><a href=\"#corntab\" class=\"headerlink\" title=\"corntab\"></a>corntab</h4><p><a href=\"https://tool.lu/crontab/\">https://tool.lu/crontab/</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://unixtime.51240.com/\">https://unixtime.51240.com/</a></p>\n<h4 id=\"URL\"><a href=\"#URL\" class=\"headerlink\" title=\"URL\"></a>URL</h4><p><a href=\"http://www.jsons.cn/urlencode/\">http://www.jsons.cn/urlencode/</a></p>\n<h4 id=\"Unicode\"><a href=\"#Unicode\" class=\"headerlink\" title=\"Unicode\"></a>Unicode</h4><p><a href=\"https://javawind.net/tools/native2ascii.jsp?action=transform\">https://javawind.net/tools/native2ascii.jsp?action=transform</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://cloudconvert.com/extract-7z-archive\">https://cloudconvert.com/extract-7z-archive</a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a href=\"https://app.diagrams.net/\">https://app.diagrams.net/</a></p>\n<h4 id=\"Golang\"><a href=\"#Golang\" class=\"headerlink\" title=\"Golang\"></a>Golang</h4><p><a href=\"https://juejin.cn/post/6844904007169736718\">https://juejin.cn/post/6844904007169736718</a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"CSSGIF\"><a href=\"#CSSGIF\" class=\"headerlink\" title=\"CSSGIF\"></a>CSSGIF</h4><p><a href=\"https://preloaders.net/\">https://preloaders.net/</a><br><a href=\"https://loading.io/\">https://loading.io/</a></p>\n<h4 id=\"CSS\"><a href=\"#CSS\" class=\"headerlink\" title=\"CSS\"></a>CSS</h4><p><a href=\"http://autoprefixer.github.io/\">http://autoprefixer.github.io/</a></p>\n"},{"title":"Python-BloomFilter","comments":1,"date":"2021-03-07T11:23:29.000Z","author":null,"_content":"\n- \n\n#### \n```python\nimport math\nimport time\nimport redis\nfrom hashlib import md5\n\n\nclass SimpleHash(object):\n    def __init__(self, cap, seed):\n        self.cap = cap\n        self.seed = seed\n\n    def hash(self, value):\n        ret = 0\n        for i in range(len(value)):\n            ret += self.seed * ret + ord(value[i])\n        return (self.cap - 1) & ret\n\n\nclass BloomFilter(object):\n    # \n    SEEDS = [543, 460, 171, 876, 796, 607, 650, 81, 837, 545, 591, 946, 846, 521, 913, 636, 878, 735, 414, 372,\n             344, 324, 223, 180, 327, 891, 798, 933, 493, 293, 836, 10, 6, 544, 924, 849, 438, 41, 862, 648, 338,\n             465, 562, 693, 979, 52, 763, 103, 387, 374, 349, 94, 384, 680, 574, 480, 307, 580, 71, 535, 300, 53,\n             481, 519, 644, 219, 686, 236, 424, 326, 244, 212, 909, 202, 951, 56, 812, 901, 926, 250, 507, 739, 371,\n             63, 584, 154, 7, 284, 617, 332, 472, 140, 605, 262, 355, 526, 647, 923, 199, 518]\n\n    def __init__(self, capacity=100000000, error_rate=0.0000001, redis_con=None, key=\"bloomfilter\"):\n        self.bit_size = math.ceil(capacity * math.log2(math.e) * math.log2(1 / error_rate))  # \n        self.hash_time = math.ceil(math.log1p(2) * self.bit_size / capacity)  # hash\n        self.memery = math.ceil(self.bit_size / 8 / 1024 / 1024)  # M\n        self.block_num = math.ceil(self.memery / 512)  # 512M,valueascii256\n        self.seeds = self.SEEDS[0:self.hash_time]\n        self.key = key\n        self.N = 2 ** 31 - 1\n        self.hash_func = [SimpleHash(self.bit_size, seed) for seed in self.seeds]\n        self.redis_con = redis_con\n\n    def get_key(self, value):\n        return self.key + str(int(value[0:2], 16) % self.block_num)\n\n    def is_contains(self, str_input):\n        try:\n            if not str_input:\n                return False\n            m5 = md5()\n            m5.update(str_input)\n            str_input = m5.hexdigest()\n            ret = True\n            name = self.get_key(str_input)\n            for f in self.hash_func:\n                loc = f.hash(str_input)\n                ret = ret & self.redis_con.getbit(name, loc)\n            return ret\n        except Exception as e:\n            raise\n\n    def insert(self, str_input):\n        try:\n            m5 = md5()\n            m5.update(str_input)\n            str_input = m5.hexdigest()\n            name = self.get_key(str_input)\n            for f in self.hash_func:\n                loc = f.hash(str_input)\n                self.redis_con.setbit(name, loc, 1)\n        except Exception as e:\n            raise \n```\n#### Test\n\n```python\nif __name__ == '__main__':\n    bloom_filter_redis_conn_args = {\n        \"host\": \"127.0.0.1\",\n        \"port\": \"6379\",\n        \"db\": 0\n    }\n    redis_con = redis.StrictRedis(connection_pool=redis.ConnectionPool(**bloom_filter_redis_conn_args))\n    bloom_filter = BloomFilter(redis_con=redis_con)\n    \n    start_time = time.time()\n    for i in range(6100000, 6101000):\n        bloom_filter.insert(str(i).encode(\"utf-8\"))\n    print(time.time() - start_time)\n    print(bloom_filter.is_contains(\"6100101\".encode(\"utf-8\")))\n```\n\n#### \n- 10002-4s\n- \n\n#### Redis\n\n```powershell\n  ~ redis-cli --bigkeys -i 0.1 -h 127.0.0.1\n\n# Scanning the entire keyspace to find biggest keys as well as\n# average sizes per key type.  You can use -i 0.1 to sleep 0.1 sec\n# per 100 SCAN commands (not usually needed).\n\n[00.00%] Biggest string found so far 'bloomfilter0' with 419346305 bytes\n\n-------- summary -------\n\nSampled 1 keys in the keyspace!\nTotal key length in bytes is 12 (avg len 12.00)\n\nBiggest string found 'bloomfilter0' has 419346305 bytes\n\n1 strings with 419346305 bytes (100.00% of keys, avg size 419346305.00)\n0 lists with 0 items (00.00% of keys, avg size 0.00)\n0 hashs with 0 fields (00.00% of keys, avg size 0.00)\n0 streams with 0 entries (00.00% of keys, avg size 0.00)\n0 sets with 0 members (00.00% of keys, avg size 0.00)\n0 zsets with 0 members (00.00% of keys, avg size 0.00)\n```\n bloomfilter0 400M\n","source":"_posts/2021-03-07-Python-BloomFilter.md","raw":"---\ntitle: Python-BloomFilter\ncomments: true\ndate: 2021-03-07 19:23:29\nauthor:\ntags:\n - Python\n - Redis\ncategories: [\"\"]\n---\n\n- \n\n#### \n```python\nimport math\nimport time\nimport redis\nfrom hashlib import md5\n\n\nclass SimpleHash(object):\n    def __init__(self, cap, seed):\n        self.cap = cap\n        self.seed = seed\n\n    def hash(self, value):\n        ret = 0\n        for i in range(len(value)):\n            ret += self.seed * ret + ord(value[i])\n        return (self.cap - 1) & ret\n\n\nclass BloomFilter(object):\n    # \n    SEEDS = [543, 460, 171, 876, 796, 607, 650, 81, 837, 545, 591, 946, 846, 521, 913, 636, 878, 735, 414, 372,\n             344, 324, 223, 180, 327, 891, 798, 933, 493, 293, 836, 10, 6, 544, 924, 849, 438, 41, 862, 648, 338,\n             465, 562, 693, 979, 52, 763, 103, 387, 374, 349, 94, 384, 680, 574, 480, 307, 580, 71, 535, 300, 53,\n             481, 519, 644, 219, 686, 236, 424, 326, 244, 212, 909, 202, 951, 56, 812, 901, 926, 250, 507, 739, 371,\n             63, 584, 154, 7, 284, 617, 332, 472, 140, 605, 262, 355, 526, 647, 923, 199, 518]\n\n    def __init__(self, capacity=100000000, error_rate=0.0000001, redis_con=None, key=\"bloomfilter\"):\n        self.bit_size = math.ceil(capacity * math.log2(math.e) * math.log2(1 / error_rate))  # \n        self.hash_time = math.ceil(math.log1p(2) * self.bit_size / capacity)  # hash\n        self.memery = math.ceil(self.bit_size / 8 / 1024 / 1024)  # M\n        self.block_num = math.ceil(self.memery / 512)  # 512M,valueascii256\n        self.seeds = self.SEEDS[0:self.hash_time]\n        self.key = key\n        self.N = 2 ** 31 - 1\n        self.hash_func = [SimpleHash(self.bit_size, seed) for seed in self.seeds]\n        self.redis_con = redis_con\n\n    def get_key(self, value):\n        return self.key + str(int(value[0:2], 16) % self.block_num)\n\n    def is_contains(self, str_input):\n        try:\n            if not str_input:\n                return False\n            m5 = md5()\n            m5.update(str_input)\n            str_input = m5.hexdigest()\n            ret = True\n            name = self.get_key(str_input)\n            for f in self.hash_func:\n                loc = f.hash(str_input)\n                ret = ret & self.redis_con.getbit(name, loc)\n            return ret\n        except Exception as e:\n            raise\n\n    def insert(self, str_input):\n        try:\n            m5 = md5()\n            m5.update(str_input)\n            str_input = m5.hexdigest()\n            name = self.get_key(str_input)\n            for f in self.hash_func:\n                loc = f.hash(str_input)\n                self.redis_con.setbit(name, loc, 1)\n        except Exception as e:\n            raise \n```\n#### Test\n\n```python\nif __name__ == '__main__':\n    bloom_filter_redis_conn_args = {\n        \"host\": \"127.0.0.1\",\n        \"port\": \"6379\",\n        \"db\": 0\n    }\n    redis_con = redis.StrictRedis(connection_pool=redis.ConnectionPool(**bloom_filter_redis_conn_args))\n    bloom_filter = BloomFilter(redis_con=redis_con)\n    \n    start_time = time.time()\n    for i in range(6100000, 6101000):\n        bloom_filter.insert(str(i).encode(\"utf-8\"))\n    print(time.time() - start_time)\n    print(bloom_filter.is_contains(\"6100101\".encode(\"utf-8\")))\n```\n\n#### \n- 10002-4s\n- \n\n#### Redis\n\n```powershell\n  ~ redis-cli --bigkeys -i 0.1 -h 127.0.0.1\n\n# Scanning the entire keyspace to find biggest keys as well as\n# average sizes per key type.  You can use -i 0.1 to sleep 0.1 sec\n# per 100 SCAN commands (not usually needed).\n\n[00.00%] Biggest string found so far 'bloomfilter0' with 419346305 bytes\n\n-------- summary -------\n\nSampled 1 keys in the keyspace!\nTotal key length in bytes is 12 (avg len 12.00)\n\nBiggest string found 'bloomfilter0' has 419346305 bytes\n\n1 strings with 419346305 bytes (100.00% of keys, avg size 419346305.00)\n0 lists with 0 items (00.00% of keys, avg size 0.00)\n0 hashs with 0 fields (00.00% of keys, avg size 0.00)\n0 streams with 0 entries (00.00% of keys, avg size 0.00)\n0 sets with 0 members (00.00% of keys, avg size 0.00)\n0 zsets with 0 members (00.00% of keys, avg size 0.00)\n```\n bloomfilter0 400M\n","slug":"Python-BloomFilter","published":1,"updated":"2021-03-07T11:46:22.470Z","_id":"cklz2hnq00003jvs67nw0dbqb","layout":"post","photos":[],"link":"","content":"<ul>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> math\n<span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">import</span> redis\n<span class=\"token keyword\">from</span> hashlib <span class=\"token keyword\">import</span> md5\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SimpleHash</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> cap<span class=\"token punctuation\">,</span> seed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>cap <span class=\"token operator\">=</span> cap\n        self<span class=\"token punctuation\">.</span>seed <span class=\"token operator\">=</span> seed\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">hash</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        ret <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            ret <span class=\"token operator\">+=</span> self<span class=\"token punctuation\">.</span>seed <span class=\"token operator\">*</span> ret <span class=\"token operator\">+</span> <span class=\"token builtin\">ord</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>cap <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span> ret\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">BloomFilter</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># </span>\n    SEEDS <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">543</span><span class=\"token punctuation\">,</span> <span class=\"token number\">460</span><span class=\"token punctuation\">,</span> <span class=\"token number\">171</span><span class=\"token punctuation\">,</span> <span class=\"token number\">876</span><span class=\"token punctuation\">,</span> <span class=\"token number\">796</span><span class=\"token punctuation\">,</span> <span class=\"token number\">607</span><span class=\"token punctuation\">,</span> <span class=\"token number\">650</span><span class=\"token punctuation\">,</span> <span class=\"token number\">81</span><span class=\"token punctuation\">,</span> <span class=\"token number\">837</span><span class=\"token punctuation\">,</span> <span class=\"token number\">545</span><span class=\"token punctuation\">,</span> <span class=\"token number\">591</span><span class=\"token punctuation\">,</span> <span class=\"token number\">946</span><span class=\"token punctuation\">,</span> <span class=\"token number\">846</span><span class=\"token punctuation\">,</span> <span class=\"token number\">521</span><span class=\"token punctuation\">,</span> <span class=\"token number\">913</span><span class=\"token punctuation\">,</span> <span class=\"token number\">636</span><span class=\"token punctuation\">,</span> <span class=\"token number\">878</span><span class=\"token punctuation\">,</span> <span class=\"token number\">735</span><span class=\"token punctuation\">,</span> <span class=\"token number\">414</span><span class=\"token punctuation\">,</span> <span class=\"token number\">372</span><span class=\"token punctuation\">,</span>\n             <span class=\"token number\">344</span><span class=\"token punctuation\">,</span> <span class=\"token number\">324</span><span class=\"token punctuation\">,</span> <span class=\"token number\">223</span><span class=\"token punctuation\">,</span> <span class=\"token number\">180</span><span class=\"token punctuation\">,</span> <span class=\"token number\">327</span><span class=\"token punctuation\">,</span> <span class=\"token number\">891</span><span class=\"token punctuation\">,</span> <span class=\"token number\">798</span><span class=\"token punctuation\">,</span> <span class=\"token number\">933</span><span class=\"token punctuation\">,</span> <span class=\"token number\">493</span><span class=\"token punctuation\">,</span> <span class=\"token number\">293</span><span class=\"token punctuation\">,</span> <span class=\"token number\">836</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">544</span><span class=\"token punctuation\">,</span> <span class=\"token number\">924</span><span class=\"token punctuation\">,</span> <span class=\"token number\">849</span><span class=\"token punctuation\">,</span> <span class=\"token number\">438</span><span class=\"token punctuation\">,</span> <span class=\"token number\">41</span><span class=\"token punctuation\">,</span> <span class=\"token number\">862</span><span class=\"token punctuation\">,</span> <span class=\"token number\">648</span><span class=\"token punctuation\">,</span> <span class=\"token number\">338</span><span class=\"token punctuation\">,</span>\n             <span class=\"token number\">465</span><span class=\"token punctuation\">,</span> <span class=\"token number\">562</span><span class=\"token punctuation\">,</span> <span class=\"token number\">693</span><span class=\"token punctuation\">,</span> <span class=\"token number\">979</span><span class=\"token punctuation\">,</span> <span class=\"token number\">52</span><span class=\"token punctuation\">,</span> <span class=\"token number\">763</span><span class=\"token punctuation\">,</span> <span class=\"token number\">103</span><span class=\"token punctuation\">,</span> <span class=\"token number\">387</span><span class=\"token punctuation\">,</span> <span class=\"token number\">374</span><span class=\"token punctuation\">,</span> <span class=\"token number\">349</span><span class=\"token punctuation\">,</span> <span class=\"token number\">94</span><span class=\"token punctuation\">,</span> <span class=\"token number\">384</span><span class=\"token punctuation\">,</span> <span class=\"token number\">680</span><span class=\"token punctuation\">,</span> <span class=\"token number\">574</span><span class=\"token punctuation\">,</span> <span class=\"token number\">480</span><span class=\"token punctuation\">,</span> <span class=\"token number\">307</span><span class=\"token punctuation\">,</span> <span class=\"token number\">580</span><span class=\"token punctuation\">,</span> <span class=\"token number\">71</span><span class=\"token punctuation\">,</span> <span class=\"token number\">535</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">53</span><span class=\"token punctuation\">,</span>\n             <span class=\"token number\">481</span><span class=\"token punctuation\">,</span> <span class=\"token number\">519</span><span class=\"token punctuation\">,</span> <span class=\"token number\">644</span><span class=\"token punctuation\">,</span> <span class=\"token number\">219</span><span class=\"token punctuation\">,</span> <span class=\"token number\">686</span><span class=\"token punctuation\">,</span> <span class=\"token number\">236</span><span class=\"token punctuation\">,</span> <span class=\"token number\">424</span><span class=\"token punctuation\">,</span> <span class=\"token number\">326</span><span class=\"token punctuation\">,</span> <span class=\"token number\">244</span><span class=\"token punctuation\">,</span> <span class=\"token number\">212</span><span class=\"token punctuation\">,</span> <span class=\"token number\">909</span><span class=\"token punctuation\">,</span> <span class=\"token number\">202</span><span class=\"token punctuation\">,</span> <span class=\"token number\">951</span><span class=\"token punctuation\">,</span> <span class=\"token number\">56</span><span class=\"token punctuation\">,</span> <span class=\"token number\">812</span><span class=\"token punctuation\">,</span> <span class=\"token number\">901</span><span class=\"token punctuation\">,</span> <span class=\"token number\">926</span><span class=\"token punctuation\">,</span> <span class=\"token number\">250</span><span class=\"token punctuation\">,</span> <span class=\"token number\">507</span><span class=\"token punctuation\">,</span> <span class=\"token number\">739</span><span class=\"token punctuation\">,</span> <span class=\"token number\">371</span><span class=\"token punctuation\">,</span>\n             <span class=\"token number\">63</span><span class=\"token punctuation\">,</span> <span class=\"token number\">584</span><span class=\"token punctuation\">,</span> <span class=\"token number\">154</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">284</span><span class=\"token punctuation\">,</span> <span class=\"token number\">617</span><span class=\"token punctuation\">,</span> <span class=\"token number\">332</span><span class=\"token punctuation\">,</span> <span class=\"token number\">472</span><span class=\"token punctuation\">,</span> <span class=\"token number\">140</span><span class=\"token punctuation\">,</span> <span class=\"token number\">605</span><span class=\"token punctuation\">,</span> <span class=\"token number\">262</span><span class=\"token punctuation\">,</span> <span class=\"token number\">355</span><span class=\"token punctuation\">,</span> <span class=\"token number\">526</span><span class=\"token punctuation\">,</span> <span class=\"token number\">647</span><span class=\"token punctuation\">,</span> <span class=\"token number\">923</span><span class=\"token punctuation\">,</span> <span class=\"token number\">199</span><span class=\"token punctuation\">,</span> <span class=\"token number\">518</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> capacity<span class=\"token operator\">=</span><span class=\"token number\">100000000</span><span class=\"token punctuation\">,</span> error_rate<span class=\"token operator\">=</span><span class=\"token number\">0.0000001</span><span class=\"token punctuation\">,</span> redis_con<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> key<span class=\"token operator\">=</span><span class=\"token string\">\"bloomfilter\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>bit_size <span class=\"token operator\">=</span> math<span class=\"token punctuation\">.</span>ceil<span class=\"token punctuation\">(</span>capacity <span class=\"token operator\">*</span> math<span class=\"token punctuation\">.</span>log2<span class=\"token punctuation\">(</span>math<span class=\"token punctuation\">.</span>e<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> math<span class=\"token punctuation\">.</span>log2<span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">/</span> error_rate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># </span>\n        self<span class=\"token punctuation\">.</span>hash_time <span class=\"token operator\">=</span> math<span class=\"token punctuation\">.</span>ceil<span class=\"token punctuation\">(</span>math<span class=\"token punctuation\">.</span>log1p<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> self<span class=\"token punctuation\">.</span>bit_size <span class=\"token operator\">/</span> capacity<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># hash</span>\n        self<span class=\"token punctuation\">.</span>memery <span class=\"token operator\">=</span> math<span class=\"token punctuation\">.</span>ceil<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>bit_size <span class=\"token operator\">/</span> <span class=\"token number\">8</span> <span class=\"token operator\">/</span> <span class=\"token number\">1024</span> <span class=\"token operator\">/</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># M</span>\n        self<span class=\"token punctuation\">.</span>block_num <span class=\"token operator\">=</span> math<span class=\"token punctuation\">.</span>ceil<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>memery <span class=\"token operator\">/</span> <span class=\"token number\">512</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 512M,valueascii256</span>\n        self<span class=\"token punctuation\">.</span>seeds <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>SEEDS<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span>self<span class=\"token punctuation\">.</span>hash_time<span class=\"token punctuation\">]</span>\n        self<span class=\"token punctuation\">.</span>key <span class=\"token operator\">=</span> key\n        self<span class=\"token punctuation\">.</span>N <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">**</span> <span class=\"token number\">31</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n        self<span class=\"token punctuation\">.</span>hash_func <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>SimpleHash<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>bit_size<span class=\"token punctuation\">,</span> seed<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> seed <span class=\"token keyword\">in</span> self<span class=\"token punctuation\">.</span>seeds<span class=\"token punctuation\">]</span>\n        self<span class=\"token punctuation\">.</span>redis_con <span class=\"token operator\">=</span> redis_con\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_key</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>key <span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> self<span class=\"token punctuation\">.</span>block_num<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">is_contains</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> str_input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> str_input<span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span>\n            m5 <span class=\"token operator\">=</span> md5<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            m5<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>str_input<span class=\"token punctuation\">)</span>\n            str_input <span class=\"token operator\">=</span> m5<span class=\"token punctuation\">.</span>hexdigest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            ret <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n            name <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_key<span class=\"token punctuation\">(</span>str_input<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">for</span> f <span class=\"token keyword\">in</span> self<span class=\"token punctuation\">.</span>hash_func<span class=\"token punctuation\">:</span>\n                loc <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span><span class=\"token builtin\">hash</span><span class=\"token punctuation\">(</span>str_input<span class=\"token punctuation\">)</span>\n                ret <span class=\"token operator\">=</span> ret <span class=\"token operator\">&amp;</span> self<span class=\"token punctuation\">.</span>redis_con<span class=\"token punctuation\">.</span>getbit<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> loc<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> ret\n        <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">raise</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> str_input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n            m5 <span class=\"token operator\">=</span> md5<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            m5<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>str_input<span class=\"token punctuation\">)</span>\n            str_input <span class=\"token operator\">=</span> m5<span class=\"token punctuation\">.</span>hexdigest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            name <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_key<span class=\"token punctuation\">(</span>str_input<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">for</span> f <span class=\"token keyword\">in</span> self<span class=\"token punctuation\">.</span>hash_func<span class=\"token punctuation\">:</span>\n                loc <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span><span class=\"token builtin\">hash</span><span class=\"token punctuation\">(</span>str_input<span class=\"token punctuation\">)</span>\n                self<span class=\"token punctuation\">.</span>redis_con<span class=\"token punctuation\">.</span>setbit<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> loc<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">raise</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"Test\"><a href=\"#Test\" class=\"headerlink\" title=\"Test\"></a>Test</h4><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    bloom_filter_redis_conn_args <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token string\">\"host\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"127.0.0.1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"port\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"6379\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"db\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n    <span class=\"token punctuation\">&#125;</span>\n    redis_con <span class=\"token operator\">=</span> redis<span class=\"token punctuation\">.</span>StrictRedis<span class=\"token punctuation\">(</span>connection_pool<span class=\"token operator\">=</span>redis<span class=\"token punctuation\">.</span>ConnectionPool<span class=\"token punctuation\">(</span><span class=\"token operator\">**</span>bloom_filter_redis_conn_args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    bloom_filter <span class=\"token operator\">=</span> BloomFilter<span class=\"token punctuation\">(</span>redis_con<span class=\"token operator\">=</span>redis_con<span class=\"token punctuation\">)</span>\n    \n    start_time <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">6100000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6101000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        bloom_filter<span class=\"token punctuation\">.</span>insert<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> start_time<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>bloom_filter<span class=\"token punctuation\">.</span>is_contains<span class=\"token punctuation\">(</span><span class=\"token string\">\"6100101\"</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>10002-4s</li>\n<li></li>\n</ul>\n<h4 id=\"Redis\"><a href=\"#Redis\" class=\"headerlink\" title=\"Redis\"></a>Redis</h4><pre class=\"line-numbers language-powershell\" data-language=\"powershell\"><code class=\"language-powershell\">  ~ redis<span class=\"token operator\">-</span><span class=\"token function\">cli</span> <span class=\"token operator\">--</span>bigkeys <span class=\"token operator\">-</span>i 0<span class=\"token punctuation\">.</span>1 <span class=\"token operator\">-</span>h 127<span class=\"token punctuation\">.</span>0<span class=\"token punctuation\">.</span>0<span class=\"token punctuation\">.</span>1\n\n<span class=\"token comment\"># Scanning the entire keyspace to find biggest keys as well as</span>\n<span class=\"token comment\"># average sizes per key type.  You can use -i 0.1 to sleep 0.1 sec</span>\n<span class=\"token comment\"># per 100 SCAN commands (not usually needed).</span>\n\n<span class=\"token punctuation\">[</span>00<span class=\"token punctuation\">.</span>00<span class=\"token operator\">%</span><span class=\"token punctuation\">]</span> Biggest string found so far <span class=\"token string\">'bloomfilter0'</span> with 419346305 bytes\n\n<span class=\"token operator\">--</span>-<span class=\"token operator\">--</span>-<span class=\"token operator\">--</span> summary <span class=\"token operator\">--</span>-<span class=\"token operator\">--</span>-<span class=\"token operator\">-</span>\n\nSampled 1 keys in the keyspace<span class=\"token operator\">!</span>\nTotal key length in bytes is 12 <span class=\"token punctuation\">(</span>avg len 12<span class=\"token punctuation\">.</span>00<span class=\"token punctuation\">)</span>\n\nBiggest string found <span class=\"token string\">'bloomfilter0'</span> has 419346305 bytes\n\n1 strings with 419346305 bytes <span class=\"token punctuation\">(</span>100<span class=\"token punctuation\">.</span>00<span class=\"token operator\">%</span> of keys<span class=\"token punctuation\">,</span> avg size 419346305<span class=\"token punctuation\">.</span>00<span class=\"token punctuation\">)</span>\n0 lists with 0 items <span class=\"token punctuation\">(</span>00<span class=\"token punctuation\">.</span>00<span class=\"token operator\">%</span> of keys<span class=\"token punctuation\">,</span> avg size 0<span class=\"token punctuation\">.</span>00<span class=\"token punctuation\">)</span>\n0 hashs with 0 fields <span class=\"token punctuation\">(</span>00<span class=\"token punctuation\">.</span>00<span class=\"token operator\">%</span> of keys<span class=\"token punctuation\">,</span> avg size 0<span class=\"token punctuation\">.</span>00<span class=\"token punctuation\">)</span>\n0 streams with 0 entries <span class=\"token punctuation\">(</span>00<span class=\"token punctuation\">.</span>00<span class=\"token operator\">%</span> of keys<span class=\"token punctuation\">,</span> avg size 0<span class=\"token punctuation\">.</span>00<span class=\"token punctuation\">)</span>\n0 sets with 0 members <span class=\"token punctuation\">(</span>00<span class=\"token punctuation\">.</span>00<span class=\"token operator\">%</span> of keys<span class=\"token punctuation\">,</span> avg size 0<span class=\"token punctuation\">.</span>00<span class=\"token punctuation\">)</span>\n0 zsets with 0 members <span class=\"token punctuation\">(</span>00<span class=\"token punctuation\">.</span>00<span class=\"token operator\">%</span> of keys<span class=\"token punctuation\">,</span> avg size 0<span class=\"token punctuation\">.</span>00<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p> bloomfilter0 400M</p>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<ul>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> math\n<span class=\"token keyword\">import</span> time\n<span class=\"token keyword\">import</span> redis\n<span class=\"token keyword\">from</span> hashlib <span class=\"token keyword\">import</span> md5\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SimpleHash</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> cap<span class=\"token punctuation\">,</span> seed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>cap <span class=\"token operator\">=</span> cap\n        self<span class=\"token punctuation\">.</span>seed <span class=\"token operator\">=</span> seed\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">hash</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        ret <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n        <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n            ret <span class=\"token operator\">+=</span> self<span class=\"token punctuation\">.</span>seed <span class=\"token operator\">*</span> ret <span class=\"token operator\">+</span> <span class=\"token builtin\">ord</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>cap <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&amp;</span> ret\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">BloomFilter</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># </span>\n    SEEDS <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">543</span><span class=\"token punctuation\">,</span> <span class=\"token number\">460</span><span class=\"token punctuation\">,</span> <span class=\"token number\">171</span><span class=\"token punctuation\">,</span> <span class=\"token number\">876</span><span class=\"token punctuation\">,</span> <span class=\"token number\">796</span><span class=\"token punctuation\">,</span> <span class=\"token number\">607</span><span class=\"token punctuation\">,</span> <span class=\"token number\">650</span><span class=\"token punctuation\">,</span> <span class=\"token number\">81</span><span class=\"token punctuation\">,</span> <span class=\"token number\">837</span><span class=\"token punctuation\">,</span> <span class=\"token number\">545</span><span class=\"token punctuation\">,</span> <span class=\"token number\">591</span><span class=\"token punctuation\">,</span> <span class=\"token number\">946</span><span class=\"token punctuation\">,</span> <span class=\"token number\">846</span><span class=\"token punctuation\">,</span> <span class=\"token number\">521</span><span class=\"token punctuation\">,</span> <span class=\"token number\">913</span><span class=\"token punctuation\">,</span> <span class=\"token number\">636</span><span class=\"token punctuation\">,</span> <span class=\"token number\">878</span><span class=\"token punctuation\">,</span> <span class=\"token number\">735</span><span class=\"token punctuation\">,</span> <span class=\"token number\">414</span><span class=\"token punctuation\">,</span> <span class=\"token number\">372</span><span class=\"token punctuation\">,</span>\n             <span class=\"token number\">344</span><span class=\"token punctuation\">,</span> <span class=\"token number\">324</span><span class=\"token punctuation\">,</span> <span class=\"token number\">223</span><span class=\"token punctuation\">,</span> <span class=\"token number\">180</span><span class=\"token punctuation\">,</span> <span class=\"token number\">327</span><span class=\"token punctuation\">,</span> <span class=\"token number\">891</span><span class=\"token punctuation\">,</span> <span class=\"token number\">798</span><span class=\"token punctuation\">,</span> <span class=\"token number\">933</span><span class=\"token punctuation\">,</span> <span class=\"token number\">493</span><span class=\"token punctuation\">,</span> <span class=\"token number\">293</span><span class=\"token punctuation\">,</span> <span class=\"token number\">836</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token number\">544</span><span class=\"token punctuation\">,</span> <span class=\"token number\">924</span><span class=\"token punctuation\">,</span> <span class=\"token number\">849</span><span class=\"token punctuation\">,</span> <span class=\"token number\">438</span><span class=\"token punctuation\">,</span> <span class=\"token number\">41</span><span class=\"token punctuation\">,</span> <span class=\"token number\">862</span><span class=\"token punctuation\">,</span> <span class=\"token number\">648</span><span class=\"token punctuation\">,</span> <span class=\"token number\">338</span><span class=\"token punctuation\">,</span>\n             <span class=\"token number\">465</span><span class=\"token punctuation\">,</span> <span class=\"token number\">562</span><span class=\"token punctuation\">,</span> <span class=\"token number\">693</span><span class=\"token punctuation\">,</span> <span class=\"token number\">979</span><span class=\"token punctuation\">,</span> <span class=\"token number\">52</span><span class=\"token punctuation\">,</span> <span class=\"token number\">763</span><span class=\"token punctuation\">,</span> <span class=\"token number\">103</span><span class=\"token punctuation\">,</span> <span class=\"token number\">387</span><span class=\"token punctuation\">,</span> <span class=\"token number\">374</span><span class=\"token punctuation\">,</span> <span class=\"token number\">349</span><span class=\"token punctuation\">,</span> <span class=\"token number\">94</span><span class=\"token punctuation\">,</span> <span class=\"token number\">384</span><span class=\"token punctuation\">,</span> <span class=\"token number\">680</span><span class=\"token punctuation\">,</span> <span class=\"token number\">574</span><span class=\"token punctuation\">,</span> <span class=\"token number\">480</span><span class=\"token punctuation\">,</span> <span class=\"token number\">307</span><span class=\"token punctuation\">,</span> <span class=\"token number\">580</span><span class=\"token punctuation\">,</span> <span class=\"token number\">71</span><span class=\"token punctuation\">,</span> <span class=\"token number\">535</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">53</span><span class=\"token punctuation\">,</span>\n             <span class=\"token number\">481</span><span class=\"token punctuation\">,</span> <span class=\"token number\">519</span><span class=\"token punctuation\">,</span> <span class=\"token number\">644</span><span class=\"token punctuation\">,</span> <span class=\"token number\">219</span><span class=\"token punctuation\">,</span> <span class=\"token number\">686</span><span class=\"token punctuation\">,</span> <span class=\"token number\">236</span><span class=\"token punctuation\">,</span> <span class=\"token number\">424</span><span class=\"token punctuation\">,</span> <span class=\"token number\">326</span><span class=\"token punctuation\">,</span> <span class=\"token number\">244</span><span class=\"token punctuation\">,</span> <span class=\"token number\">212</span><span class=\"token punctuation\">,</span> <span class=\"token number\">909</span><span class=\"token punctuation\">,</span> <span class=\"token number\">202</span><span class=\"token punctuation\">,</span> <span class=\"token number\">951</span><span class=\"token punctuation\">,</span> <span class=\"token number\">56</span><span class=\"token punctuation\">,</span> <span class=\"token number\">812</span><span class=\"token punctuation\">,</span> <span class=\"token number\">901</span><span class=\"token punctuation\">,</span> <span class=\"token number\">926</span><span class=\"token punctuation\">,</span> <span class=\"token number\">250</span><span class=\"token punctuation\">,</span> <span class=\"token number\">507</span><span class=\"token punctuation\">,</span> <span class=\"token number\">739</span><span class=\"token punctuation\">,</span> <span class=\"token number\">371</span><span class=\"token punctuation\">,</span>\n             <span class=\"token number\">63</span><span class=\"token punctuation\">,</span> <span class=\"token number\">584</span><span class=\"token punctuation\">,</span> <span class=\"token number\">154</span><span class=\"token punctuation\">,</span> <span class=\"token number\">7</span><span class=\"token punctuation\">,</span> <span class=\"token number\">284</span><span class=\"token punctuation\">,</span> <span class=\"token number\">617</span><span class=\"token punctuation\">,</span> <span class=\"token number\">332</span><span class=\"token punctuation\">,</span> <span class=\"token number\">472</span><span class=\"token punctuation\">,</span> <span class=\"token number\">140</span><span class=\"token punctuation\">,</span> <span class=\"token number\">605</span><span class=\"token punctuation\">,</span> <span class=\"token number\">262</span><span class=\"token punctuation\">,</span> <span class=\"token number\">355</span><span class=\"token punctuation\">,</span> <span class=\"token number\">526</span><span class=\"token punctuation\">,</span> <span class=\"token number\">647</span><span class=\"token punctuation\">,</span> <span class=\"token number\">923</span><span class=\"token punctuation\">,</span> <span class=\"token number\">199</span><span class=\"token punctuation\">,</span> <span class=\"token number\">518</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">__init__</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> capacity<span class=\"token operator\">=</span><span class=\"token number\">100000000</span><span class=\"token punctuation\">,</span> error_rate<span class=\"token operator\">=</span><span class=\"token number\">0.0000001</span><span class=\"token punctuation\">,</span> redis_con<span class=\"token operator\">=</span><span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> key<span class=\"token operator\">=</span><span class=\"token string\">\"bloomfilter\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        self<span class=\"token punctuation\">.</span>bit_size <span class=\"token operator\">=</span> math<span class=\"token punctuation\">.</span>ceil<span class=\"token punctuation\">(</span>capacity <span class=\"token operator\">*</span> math<span class=\"token punctuation\">.</span>log2<span class=\"token punctuation\">(</span>math<span class=\"token punctuation\">.</span>e<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> math<span class=\"token punctuation\">.</span>log2<span class=\"token punctuation\">(</span><span class=\"token number\">1</span> <span class=\"token operator\">/</span> error_rate<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># </span>\n        self<span class=\"token punctuation\">.</span>hash_time <span class=\"token operator\">=</span> math<span class=\"token punctuation\">.</span>ceil<span class=\"token punctuation\">(</span>math<span class=\"token punctuation\">.</span>log1p<span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> self<span class=\"token punctuation\">.</span>bit_size <span class=\"token operator\">/</span> capacity<span class=\"token punctuation\">)</span>  <span class=\"token comment\"># hash</span>\n        self<span class=\"token punctuation\">.</span>memery <span class=\"token operator\">=</span> math<span class=\"token punctuation\">.</span>ceil<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>bit_size <span class=\"token operator\">/</span> <span class=\"token number\">8</span> <span class=\"token operator\">/</span> <span class=\"token number\">1024</span> <span class=\"token operator\">/</span> <span class=\"token number\">1024</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># M</span>\n        self<span class=\"token punctuation\">.</span>block_num <span class=\"token operator\">=</span> math<span class=\"token punctuation\">.</span>ceil<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>memery <span class=\"token operator\">/</span> <span class=\"token number\">512</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\"># 512M,valueascii256</span>\n        self<span class=\"token punctuation\">.</span>seeds <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>SEEDS<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span>self<span class=\"token punctuation\">.</span>hash_time<span class=\"token punctuation\">]</span>\n        self<span class=\"token punctuation\">.</span>key <span class=\"token operator\">=</span> key\n        self<span class=\"token punctuation\">.</span>N <span class=\"token operator\">=</span> <span class=\"token number\">2</span> <span class=\"token operator\">**</span> <span class=\"token number\">31</span> <span class=\"token operator\">-</span> <span class=\"token number\">1</span>\n        self<span class=\"token punctuation\">.</span>hash_func <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>SimpleHash<span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">.</span>bit_size<span class=\"token punctuation\">,</span> seed<span class=\"token punctuation\">)</span> <span class=\"token keyword\">for</span> seed <span class=\"token keyword\">in</span> self<span class=\"token punctuation\">.</span>seeds<span class=\"token punctuation\">]</span>\n        self<span class=\"token punctuation\">.</span>redis_con <span class=\"token operator\">=</span> redis_con\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">get_key</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">return</span> self<span class=\"token punctuation\">.</span>key <span class=\"token operator\">+</span> <span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">:</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token number\">16</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">%</span> self<span class=\"token punctuation\">.</span>block_num<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">is_contains</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> str_input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> str_input<span class=\"token punctuation\">:</span>\n                <span class=\"token keyword\">return</span> <span class=\"token boolean\">False</span>\n            m5 <span class=\"token operator\">=</span> md5<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            m5<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>str_input<span class=\"token punctuation\">)</span>\n            str_input <span class=\"token operator\">=</span> m5<span class=\"token punctuation\">.</span>hexdigest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            ret <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span>\n            name <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_key<span class=\"token punctuation\">(</span>str_input<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">for</span> f <span class=\"token keyword\">in</span> self<span class=\"token punctuation\">.</span>hash_func<span class=\"token punctuation\">:</span>\n                loc <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span><span class=\"token builtin\">hash</span><span class=\"token punctuation\">(</span>str_input<span class=\"token punctuation\">)</span>\n                ret <span class=\"token operator\">=</span> ret <span class=\"token operator\">&amp;</span> self<span class=\"token punctuation\">.</span>redis_con<span class=\"token punctuation\">.</span>getbit<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> loc<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> ret\n        <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">raise</span>\n\n    <span class=\"token keyword\">def</span> <span class=\"token function\">insert</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> str_input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">try</span><span class=\"token punctuation\">:</span>\n            m5 <span class=\"token operator\">=</span> md5<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            m5<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>str_input<span class=\"token punctuation\">)</span>\n            str_input <span class=\"token operator\">=</span> m5<span class=\"token punctuation\">.</span>hexdigest<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            name <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>get_key<span class=\"token punctuation\">(</span>str_input<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">for</span> f <span class=\"token keyword\">in</span> self<span class=\"token punctuation\">.</span>hash_func<span class=\"token punctuation\">:</span>\n                loc <span class=\"token operator\">=</span> f<span class=\"token punctuation\">.</span><span class=\"token builtin\">hash</span><span class=\"token punctuation\">(</span>str_input<span class=\"token punctuation\">)</span>\n                self<span class=\"token punctuation\">.</span>redis_con<span class=\"token punctuation\">.</span>setbit<span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> loc<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">except</span> Exception <span class=\"token keyword\">as</span> e<span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">raise</span> <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"Test\"><a href=\"#Test\" class=\"headerlink\" title=\"Test\"></a>Test</h4><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    bloom_filter_redis_conn_args <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span>\n        <span class=\"token string\">\"host\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"127.0.0.1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"port\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"6379\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"db\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0</span>\n    <span class=\"token punctuation\">&#125;</span>\n    redis_con <span class=\"token operator\">=</span> redis<span class=\"token punctuation\">.</span>StrictRedis<span class=\"token punctuation\">(</span>connection_pool<span class=\"token operator\">=</span>redis<span class=\"token punctuation\">.</span>ConnectionPool<span class=\"token punctuation\">(</span><span class=\"token operator\">**</span>bloom_filter_redis_conn_args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    bloom_filter <span class=\"token operator\">=</span> BloomFilter<span class=\"token punctuation\">(</span>redis_con<span class=\"token operator\">=</span>redis_con<span class=\"token punctuation\">)</span>\n    \n    start_time <span class=\"token operator\">=</span> time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">6100000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6101000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        bloom_filter<span class=\"token punctuation\">.</span>insert<span class=\"token punctuation\">(</span><span class=\"token builtin\">str</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> start_time<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>bloom_filter<span class=\"token punctuation\">.</span>is_contains<span class=\"token punctuation\">(</span><span class=\"token string\">\"6100101\"</span><span class=\"token punctuation\">.</span>encode<span class=\"token punctuation\">(</span><span class=\"token string\">\"utf-8\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>10002-4s</li>\n<li></li>\n</ul>\n<h4 id=\"Redis\"><a href=\"#Redis\" class=\"headerlink\" title=\"Redis\"></a>Redis</h4><pre class=\"line-numbers language-powershell\" data-language=\"powershell\"><code class=\"language-powershell\">  ~ redis<span class=\"token operator\">-</span><span class=\"token function\">cli</span> <span class=\"token operator\">--</span>bigkeys <span class=\"token operator\">-</span>i 0<span class=\"token punctuation\">.</span>1 <span class=\"token operator\">-</span>h 127<span class=\"token punctuation\">.</span>0<span class=\"token punctuation\">.</span>0<span class=\"token punctuation\">.</span>1\n\n<span class=\"token comment\"># Scanning the entire keyspace to find biggest keys as well as</span>\n<span class=\"token comment\"># average sizes per key type.  You can use -i 0.1 to sleep 0.1 sec</span>\n<span class=\"token comment\"># per 100 SCAN commands (not usually needed).</span>\n\n<span class=\"token punctuation\">[</span>00<span class=\"token punctuation\">.</span>00<span class=\"token operator\">%</span><span class=\"token punctuation\">]</span> Biggest string found so far <span class=\"token string\">'bloomfilter0'</span> with 419346305 bytes\n\n<span class=\"token operator\">--</span>-<span class=\"token operator\">--</span>-<span class=\"token operator\">--</span> summary <span class=\"token operator\">--</span>-<span class=\"token operator\">--</span>-<span class=\"token operator\">-</span>\n\nSampled 1 keys in the keyspace<span class=\"token operator\">!</span>\nTotal key length in bytes is 12 <span class=\"token punctuation\">(</span>avg len 12<span class=\"token punctuation\">.</span>00<span class=\"token punctuation\">)</span>\n\nBiggest string found <span class=\"token string\">'bloomfilter0'</span> has 419346305 bytes\n\n1 strings with 419346305 bytes <span class=\"token punctuation\">(</span>100<span class=\"token punctuation\">.</span>00<span class=\"token operator\">%</span> of keys<span class=\"token punctuation\">,</span> avg size 419346305<span class=\"token punctuation\">.</span>00<span class=\"token punctuation\">)</span>\n0 lists with 0 items <span class=\"token punctuation\">(</span>00<span class=\"token punctuation\">.</span>00<span class=\"token operator\">%</span> of keys<span class=\"token punctuation\">,</span> avg size 0<span class=\"token punctuation\">.</span>00<span class=\"token punctuation\">)</span>\n0 hashs with 0 fields <span class=\"token punctuation\">(</span>00<span class=\"token punctuation\">.</span>00<span class=\"token operator\">%</span> of keys<span class=\"token punctuation\">,</span> avg size 0<span class=\"token punctuation\">.</span>00<span class=\"token punctuation\">)</span>\n0 streams with 0 entries <span class=\"token punctuation\">(</span>00<span class=\"token punctuation\">.</span>00<span class=\"token operator\">%</span> of keys<span class=\"token punctuation\">,</span> avg size 0<span class=\"token punctuation\">.</span>00<span class=\"token punctuation\">)</span>\n0 sets with 0 members <span class=\"token punctuation\">(</span>00<span class=\"token punctuation\">.</span>00<span class=\"token operator\">%</span> of keys<span class=\"token punctuation\">,</span> avg size 0<span class=\"token punctuation\">.</span>00<span class=\"token punctuation\">)</span>\n0 zsets with 0 members <span class=\"token punctuation\">(</span>00<span class=\"token punctuation\">.</span>00<span class=\"token operator\">%</span> of keys<span class=\"token punctuation\">,</span> avg size 0<span class=\"token punctuation\">.</span>00<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p> bloomfilter0 400M</p>\n"},{"title":"Mac-sshpass","comments":1,"date":"2021-03-07T11:26:11.000Z","author":null,"_content":"\n2019-11-20\n```\nbrew install https://raw.githubusercontent.com/kadwanev/bigboybrew/master/Library/Formula/sshpass.rb\n```\n sshpass\n\n```\n  ~ sshpass\nUsage: sshpass [-f|-d|-p|-e] [-hV] command parameters\n   -f filename   Take password to use from file\n   -d number     Use number as file descriptor for getting password\n   -p password   Provide password as argument (security unwise)\n   -e            Password is passed as env-var \"SSHPASS\"\n   With no parameters - password will be taken from stdin\n\n   -P prompt     Which string should sshpass search for to detect a password prompt\n   -v            Be verbose about what you're doing\n   -h            Show help (this screen)\n   -V            Print version information\nAt most one of -f, -d, -p or -e should be used\n```\n\n\n```\nvim ~/.bashrc\n```\n\n```\nalias jump=\"sshpass -p '666' ssh host\"\n```\n\n source ~/.bashrc, .bashrc .zshrc`source ~/.zshrc`\n\n\n\n```\n  ~ jump\nLast login: Wed Nov 20 21:59:08 2019 from 172.16.113.151\nWelcome to Alibaba Cloud Elastic Compute Service !\n```\n\n## Success\n","source":"_posts/2021-03-07-Mac-sshpass.md","raw":"---\ntitle: Mac-sshpass\ncomments: true\ndate: 2021-03-07 19:26:11\nauthor:\ntags:\n - Mac\n - sshpass\ncategories:\n---\n\n2019-11-20\n```\nbrew install https://raw.githubusercontent.com/kadwanev/bigboybrew/master/Library/Formula/sshpass.rb\n```\n sshpass\n\n```\n  ~ sshpass\nUsage: sshpass [-f|-d|-p|-e] [-hV] command parameters\n   -f filename   Take password to use from file\n   -d number     Use number as file descriptor for getting password\n   -p password   Provide password as argument (security unwise)\n   -e            Password is passed as env-var \"SSHPASS\"\n   With no parameters - password will be taken from stdin\n\n   -P prompt     Which string should sshpass search for to detect a password prompt\n   -v            Be verbose about what you're doing\n   -h            Show help (this screen)\n   -V            Print version information\nAt most one of -f, -d, -p or -e should be used\n```\n\n\n```\nvim ~/.bashrc\n```\n\n```\nalias jump=\"sshpass -p '666' ssh host\"\n```\n\n source ~/.bashrc, .bashrc .zshrc`source ~/.zshrc`\n\n\n\n```\n  ~ jump\nLast login: Wed Nov 20 21:59:08 2019 from 172.16.113.151\nWelcome to Alibaba Cloud Elastic Compute Service !\n```\n\n## Success\n","slug":"Mac-sshpass","published":1,"updated":"2021-03-07T11:27:03.445Z","_id":"cklz2l4jg000ajvs6b4b2gotg","layout":"post","photos":[],"link":"","content":"<p>2019-11-20</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">brew install https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;kadwanev&#x2F;bigboybrew&#x2F;master&#x2F;Library&#x2F;Formula&#x2F;sshpass.rb<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p> sshpass</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">  ~ sshpass\nUsage: sshpass [-f|-d|-p|-e] [-hV] command parameters\n   -f filename   Take password to use from file\n   -d number     Use number as file descriptor for getting password\n   -p password   Provide password as argument (security unwise)\n   -e            Password is passed as env-var &quot;SSHPASS&quot;\n   With no parameters - password will be taken from stdin\n\n   -P prompt     Which string should sshpass search for to detect a password prompt\n   -v            Be verbose about what you&#39;re doing\n   -h            Show help (this screen)\n   -V            Print version information\nAt most one of -f, -d, -p or -e should be used<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">vim ~&#x2F;.bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">alias jump&#x3D;&quot;sshpass -p &#39;666&#39; ssh host&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> source ~/.bashrc, .bashrc .zshrc<code>source ~/.zshrc</code></p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">  ~ jump\nLast login: Wed Nov 20 21:59:08 2019 from 172.16.113.151\nWelcome to Alibaba Cloud Elastic Compute Service !<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"Success\"><a href=\"#Success\" class=\"headerlink\" title=\"Success\"></a>Success</h2>","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<p>2019-11-20</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">brew install https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;kadwanev&#x2F;bigboybrew&#x2F;master&#x2F;Library&#x2F;Formula&#x2F;sshpass.rb<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p> sshpass</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">  ~ sshpass\nUsage: sshpass [-f|-d|-p|-e] [-hV] command parameters\n   -f filename   Take password to use from file\n   -d number     Use number as file descriptor for getting password\n   -p password   Provide password as argument (security unwise)\n   -e            Password is passed as env-var &quot;SSHPASS&quot;\n   With no parameters - password will be taken from stdin\n\n   -P prompt     Which string should sshpass search for to detect a password prompt\n   -v            Be verbose about what you&#39;re doing\n   -h            Show help (this screen)\n   -V            Print version information\nAt most one of -f, -d, -p or -e should be used<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">vim ~&#x2F;.bashrc<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">alias jump&#x3D;&quot;sshpass -p &#39;666&#39; ssh host&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p> source ~/.bashrc, .bashrc .zshrc<code>source ~/.zshrc</code></p>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">  ~ jump\nLast login: Wed Nov 20 21:59:08 2019 from 172.16.113.151\nWelcome to Alibaba Cloud Elastic Compute Service !<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<h2 id=\"Success\"><a href=\"#Success\" class=\"headerlink\" title=\"Success\"></a>Success</h2>"},{"title":"-","comments":1,"date":"2021-03-07T11:28:26.000Z","author":null,"_content":"\n#### \n- ``\n- ****\n#### \n- \n- \n- \n\n#### \n1. ``\n2. ``\n3. ****``\n4. ``\n5. ****``\n6. \n7. ``\n8. \n9. \n10. \n11. \n12. ``\n13. \n14. ``\n15. warning\n16. \n17. \n18. \n19. \n20. \n21. ``\n22. \n23. \n24. \n25. \n26. \n27. ``\n28. \n29. ``\n30. \n31. \n32. \n33. \n34. ****\n35. \n36. ``\n37. \n38. ``\n39. `leader`\n40. \n41. ****\n42. ****\n43. ``\n44. \n45. \n46. \n47. ``","source":"_posts/2021-03-07--.md","raw":"---\ntitle: -\ncomments: true\ndate: 2021-03-07 19:28:26\nauthor:\ntags:\n - \ncategories:\n---\n\n#### \n- ``\n- ****\n#### \n- \n- \n- \n\n#### \n1. ``\n2. ``\n3. ****``\n4. ``\n5. ****``\n6. \n7. ``\n8. \n9. \n10. \n11. \n12. ``\n13. \n14. ``\n15. warning\n16. \n17. \n18. \n19. \n20. \n21. ``\n22. \n23. \n24. \n25. \n26. \n27. ``\n28. \n29. ``\n30. \n31. \n32. \n33. \n34. ****\n35. \n36. ``\n37. \n38. ``\n39. `leader`\n40. \n41. ****\n42. ****\n43. ``\n44. \n45. \n46. \n47. ``","slug":"-","published":1,"updated":"2021-03-07T11:28:53.190Z","_id":"cklz2o0sn000fjvs66k20fa59","layout":"post","photos":[],"link":"","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><code></code></li>\n<li><strong></strong><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><code></code></li>\n<li><code></code></li>\n<li><strong></strong><code></code></li>\n<li><code></code></li>\n<li><strong></strong><code></code></li>\n<li></li>\n<li><code></code></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li><code></code></li>\n<li></li>\n<li><code></code></li>\n<li>warning</li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li><code></code></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li><code></code></li>\n<li></li>\n<li><code></code></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li><strong></strong></li>\n<li></li>\n<li><code></code></li>\n<li></li>\n<li><code></code></li>\n<li><code>leader</code></li>\n<li></li>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li><code></code></li>\n<li></li>\n<li></li>\n<li></li>\n<li><code></code></li>\n</ol>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><code></code></li>\n<li><strong></strong><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4></li>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li><code></code></li>\n<li><code></code></li>\n<li><strong></strong><code></code></li>\n<li><code></code></li>\n<li><strong></strong><code></code></li>\n<li></li>\n<li><code></code></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li><code></code></li>\n<li></li>\n<li><code></code></li>\n<li>warning</li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li><code></code></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li><code></code></li>\n<li></li>\n<li><code></code></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li><strong></strong></li>\n<li></li>\n<li><code></code></li>\n<li></li>\n<li><code></code></li>\n<li><code>leader</code></li>\n<li></li>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li><code></code></li>\n<li></li>\n<li></li>\n<li></li>\n<li><code></code></li>\n</ol>\n"},{"title":"Python-","comments":1,"date":"2021-03-07T11:30:08.000Z","author":null,"_content":"\n#### \nint,float,str,list,dict,tuple,set,bool\nint,float,bool\nstr,list,tuple\nset,dict\n\n a=bytes('123')/a = b'123'\n bytearray('123')\n\nlist,set,dict\nstr,tuple\n\n#### \n##### \n1. \n\n```python\nstrs = str1 + str2 + str3\nstrs = \"\".join([str1, str2, str3])\nstrs = \"%s%s%s\" % (str1, str2, str3)\nstrs = \"{}{}{}\".format(str1, str2, str3)\n```\n2. \n```python\n# mnx\nstrs = x.replace(m, n, x)\n```\n3. \n```python\nx.upper() # x\nx.lower() # x\nx.strip() # x\nx.lstrip() # \nx.rstrip() # \nx.title() # x\nx.capitalize() # \nx.split(m, x) # mx\n```\n4. \n```python\nx.index(m) # m \nx.find(m) # m -1\nx.count(m) # \nx.isdigit(m) # \nx.isalpha() # \nx.isupper() # \nx.islower() # \nx.startswith(m) # m\nx.endswith(m) # m\n```\n\n##### \n\n1. \n\n```python\nli.append(m)\nli.insert(x, m) # xm\nli.extend(list)\n```\n2. \n```python\nli.pop(x) # \nli.remove(m) # m\nli.clear() #  py2\n```\n3. \n```python\nli[n] = x\n```\n4.  \n```python\nli.index(m) # m\nli.count(m) # m\n```\n5. \n```python\ncopy()\n```\n6. \n```python\nimport copy\nli2 = copy.deepcopy(li1)\n```\n7. \n```python\nli.sort(reverse=True/False)\nli.reverse() # \n```\n8. \n```python\nli2 = sorted(li, reverse=True/False) # li2list\nli2 = reversed(li) # li2listreverseiterator \n```\n\n##### \n1. \n\n```python\nt.index(m)\nt.count(m)\n```\n\n##### \n**&**\n**|**\n**-**\n1. \n```python\na.add(m)\n```\n2. \n```python\na.pop() # \na.remove(m)\n```\n3. \n```python\na.update(m) # mmstr list tuple set dict\n```\n4. \n```python\na.isdisjoint(b) #  \na.issubset(b) # ab\na.issuperset(b) # ab\n```","source":"_posts/2021-03-07-Python-.md","raw":"---\ntitle: Python-\ncomments: true\ndate: 2021-03-07 19:30:08\nauthor:\ntags:\n - Python\ncategories:\n---\n\n#### \nint,float,str,list,dict,tuple,set,bool\nint,float,bool\nstr,list,tuple\nset,dict\n\n a=bytes('123')/a = b'123'\n bytearray('123')\n\nlist,set,dict\nstr,tuple\n\n#### \n##### \n1. \n\n```python\nstrs = str1 + str2 + str3\nstrs = \"\".join([str1, str2, str3])\nstrs = \"%s%s%s\" % (str1, str2, str3)\nstrs = \"{}{}{}\".format(str1, str2, str3)\n```\n2. \n```python\n# mnx\nstrs = x.replace(m, n, x)\n```\n3. \n```python\nx.upper() # x\nx.lower() # x\nx.strip() # x\nx.lstrip() # \nx.rstrip() # \nx.title() # x\nx.capitalize() # \nx.split(m, x) # mx\n```\n4. \n```python\nx.index(m) # m \nx.find(m) # m -1\nx.count(m) # \nx.isdigit(m) # \nx.isalpha() # \nx.isupper() # \nx.islower() # \nx.startswith(m) # m\nx.endswith(m) # m\n```\n\n##### \n\n1. \n\n```python\nli.append(m)\nli.insert(x, m) # xm\nli.extend(list)\n```\n2. \n```python\nli.pop(x) # \nli.remove(m) # m\nli.clear() #  py2\n```\n3. \n```python\nli[n] = x\n```\n4.  \n```python\nli.index(m) # m\nli.count(m) # m\n```\n5. \n```python\ncopy()\n```\n6. \n```python\nimport copy\nli2 = copy.deepcopy(li1)\n```\n7. \n```python\nli.sort(reverse=True/False)\nli.reverse() # \n```\n8. \n```python\nli2 = sorted(li, reverse=True/False) # li2list\nli2 = reversed(li) # li2listreverseiterator \n```\n\n##### \n1. \n\n```python\nt.index(m)\nt.count(m)\n```\n\n##### \n**&**\n**|**\n**-**\n1. \n```python\na.add(m)\n```\n2. \n```python\na.pop() # \na.remove(m)\n```\n3. \n```python\na.update(m) # mmstr list tuple set dict\n```\n4. \n```python\na.isdisjoint(b) #  \na.issubset(b) # ab\na.issuperset(b) # ab\n```","slug":"Python-","published":1,"updated":"2021-03-07T11:30:30.262Z","_id":"cklz2q70r000ijvs65zfh6or3","layout":"post","photos":[],"link":"","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>int,float,str,list,dict,tuple,set,bool<br>int,float,bool<br>str,list,tuple<br>set,dict</p>\n<p> a=bytes(123)/a = b123<br> bytearray(123)</p>\n<p>list,set,dict<br>str,tuple</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li></li>\n</ol>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">strs <span class=\"token operator\">=</span> str1 <span class=\"token operator\">+</span> str2 <span class=\"token operator\">+</span> str3\nstrs <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>str1<span class=\"token punctuation\">,</span> str2<span class=\"token punctuation\">,</span> str3<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nstrs <span class=\"token operator\">=</span> <span class=\"token string\">\"%s%s%s\"</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">,</span> str2<span class=\"token punctuation\">,</span> str3<span class=\"token punctuation\">)</span>\nstrs <span class=\"token operator\">=</span> <span class=\"token string\">\"&#123;&#125;&#123;&#125;&#123;&#125;\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">,</span> str2<span class=\"token punctuation\">,</span> str3<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<ol start=\"2\">\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># mnx</span>\nstrs <span class=\"token operator\">=</span> x<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x<span class=\"token punctuation\">.</span>upper<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># x</span>\nx<span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># x</span>\nx<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># x</span>\nx<span class=\"token punctuation\">.</span>lstrip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>rstrip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># x</span>\nx<span class=\"token punctuation\">.</span>capitalize<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span> <span class=\"token comment\"># mx</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># m </span>\nx<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># m -1</span>\nx<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>isdigit<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>isalpha<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>isupper<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>islower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>startswith<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># m</span>\nx<span class=\"token punctuation\">.</span>endswith<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># m</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li></li>\n</ol>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">li<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span>\nli<span class=\"token punctuation\">.</span>insert<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># xm</span>\nli<span class=\"token punctuation\">.</span>extend<span class=\"token punctuation\">(</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<ol start=\"2\">\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">li<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nli<span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># m</span>\nli<span class=\"token punctuation\">.</span>clear<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">#  py2</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">li<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> x<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">li<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># m</span>\nli<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># m</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> copy\nli2 <span class=\"token operator\">=</span> copy<span class=\"token punctuation\">.</span>deepcopy<span class=\"token punctuation\">(</span>li1<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">li<span class=\"token punctuation\">.</span>sort<span class=\"token punctuation\">(</span>reverse<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token operator\">/</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span>\nli<span class=\"token punctuation\">.</span>reverse<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">li2 <span class=\"token operator\">=</span> <span class=\"token builtin\">sorted</span><span class=\"token punctuation\">(</span>li<span class=\"token punctuation\">,</span> reverse<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token operator\">/</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># li2list</span>\nli2 <span class=\"token operator\">=</span> <span class=\"token builtin\">reversed</span><span class=\"token punctuation\">(</span>li<span class=\"token punctuation\">)</span> <span class=\"token comment\"># li2listreverseiterator </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li></li>\n</ol>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">t<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span>\nt<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong>&amp;</strong><br><strong>|</strong><br><strong>-</strong></p>\n<ol>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\na<span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># mmstr list tuple set dict</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>isdisjoint<span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token comment\">#  </span>\na<span class=\"token punctuation\">.</span>issubset<span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token comment\"># ab</span>\na<span class=\"token punctuation\">.</span>issuperset<span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token comment\"># ab</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></li>\n</ol>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>int,float,str,list,dict,tuple,set,bool<br>int,float,bool<br>str,list,tuple<br>set,dict</p>\n<p> a=bytes(123)/a = b123<br> bytearray(123)</p>\n<p>list,set,dict<br>str,tuple</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li></li>\n</ol>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">strs <span class=\"token operator\">=</span> str1 <span class=\"token operator\">+</span> str2 <span class=\"token operator\">+</span> str3\nstrs <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">.</span>join<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>str1<span class=\"token punctuation\">,</span> str2<span class=\"token punctuation\">,</span> str3<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nstrs <span class=\"token operator\">=</span> <span class=\"token string\">\"%s%s%s\"</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">,</span> str2<span class=\"token punctuation\">,</span> str3<span class=\"token punctuation\">)</span>\nstrs <span class=\"token operator\">=</span> <span class=\"token string\">\"&#123;&#125;&#123;&#125;&#123;&#125;\"</span><span class=\"token punctuation\">.</span><span class=\"token builtin\">format</span><span class=\"token punctuation\">(</span>str1<span class=\"token punctuation\">,</span> str2<span class=\"token punctuation\">,</span> str3<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<ol start=\"2\">\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\"># mnx</span>\nstrs <span class=\"token operator\">=</span> x<span class=\"token punctuation\">.</span>replace<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">,</span> n<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x<span class=\"token punctuation\">.</span>upper<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># x</span>\nx<span class=\"token punctuation\">.</span>lower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># x</span>\nx<span class=\"token punctuation\">.</span>strip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># x</span>\nx<span class=\"token punctuation\">.</span>lstrip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>rstrip<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># x</span>\nx<span class=\"token punctuation\">.</span>capitalize<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span> <span class=\"token comment\"># mx</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># m </span>\nx<span class=\"token punctuation\">.</span>find<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># m -1</span>\nx<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>isdigit<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>isalpha<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>isupper<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>islower<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nx<span class=\"token punctuation\">.</span>startswith<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># m</span>\nx<span class=\"token punctuation\">.</span>endswith<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># m</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li></li>\n</ol>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">li<span class=\"token punctuation\">.</span>append<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span>\nli<span class=\"token punctuation\">.</span>insert<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># xm</span>\nli<span class=\"token punctuation\">.</span>extend<span class=\"token punctuation\">(</span><span class=\"token builtin\">list</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<ol start=\"2\">\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">li<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\nli<span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># m</span>\nli<span class=\"token punctuation\">.</span>clear<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">#  py2</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">li<span class=\"token punctuation\">[</span>n<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> x<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li> <pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">li<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># m</span>\nli<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># m</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> copy\nli2 <span class=\"token operator\">=</span> copy<span class=\"token punctuation\">.</span>deepcopy<span class=\"token punctuation\">(</span>li1<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">li<span class=\"token punctuation\">.</span>sort<span class=\"token punctuation\">(</span>reverse<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token operator\">/</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span>\nli<span class=\"token punctuation\">.</span>reverse<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">li2 <span class=\"token operator\">=</span> <span class=\"token builtin\">sorted</span><span class=\"token punctuation\">(</span>li<span class=\"token punctuation\">,</span> reverse<span class=\"token operator\">=</span><span class=\"token boolean\">True</span><span class=\"token operator\">/</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># li2list</span>\nli2 <span class=\"token operator\">=</span> <span class=\"token builtin\">reversed</span><span class=\"token punctuation\">(</span>li<span class=\"token punctuation\">)</span> <span class=\"token comment\"># li2listreverseiterator </span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n</ol>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ol>\n<li></li>\n</ol>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">t<span class=\"token punctuation\">.</span>index<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span>\nt<span class=\"token punctuation\">.</span>count<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><strong>&amp;</strong><br><strong>|</strong><br><strong>-</strong></p>\n<ol>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>add<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>pop<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># </span>\na<span class=\"token punctuation\">.</span>remove<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>update<span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">)</span> <span class=\"token comment\"># mmstr list tuple set dict</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">a<span class=\"token punctuation\">.</span>isdisjoint<span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token comment\">#  </span>\na<span class=\"token punctuation\">.</span>issubset<span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token comment\"># ab</span>\na<span class=\"token punctuation\">.</span>issuperset<span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token comment\"># ab</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></li>\n</ol>\n"},{"title":"Redis-redispipeline","comments":1,"date":"2021-03-07T11:31:08.000Z","author":null,"_content":"\n####  pipeline \n-  Redis Redis  RTTRound Time Trip RTT IO\n- pipeline \n![](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL2ltZy9iVlY5MTY?x-oss-process=image/format,png)\n#### redispipeline\n- 10set\n```python\nimport redis\nimport time\n\nif __name__ == '__main__':\n    my_redis = redis.StrictRedis(connection_pool=redis.ConnectionPool.from_url(\"redis://:@127.0.0.1/0\"), socket_timeout=2)\n\t# pipeline\n    start_time = int(time.time() * 1000)\n    for i in range(0,100000):\n        key1 = \"test1_%s\" % i\n        my_redis.set(key1, i)\n        my_redis.expire(key1, 3600)\n    end_time = int(time.time() * 1000)\n    print end_time - start_time\n\n\t# pipeline\n    start_time = int(time.time() * 1000)\n    pipe = my_redis.pipeline()\n    for i in range(0,100000):\n        key1 = \"test2_%s\" % i\n        pipe.set(key1, i)\n        pipe.expire(key1, 3600)\n    pipe.execute()\n    end_time = int(time.time() * 1000)\n    print end_time - start_time\n```\n- \n> 166511447715041 # pipeline\n> 451741584325  # pipeline\n- \n> redispipeline\n\n#### \n- 100sadd \n```python\n    start_time = int(time.time() * 1000)\n    for i in range(0, 100000):\n        for j in range(0, 10):\n            key1 = \"test1_%s_%s\" % (i,j)\n            my_redis.sadd(key1, i)\n        my_redis.expire(key1, 3600)\n    end_time = int(time.time() * 1000)\n    print end_time - start_time\n\n    start_time = int(time.time() * 1000)\n    pipe = my_redis.pipeline()\n    for i in range(0, 100000):\n        for j in range(0,10):\n            key1 = \"test2_%s_%s\" % (i,j)\n            pipe.sadd(key1, i)\n        pipe.expire(key1, 3600)\n    pipe.execute()\n    end_time = int(time.time() * 1000)\n    print end_time - start_time\n```\n\n- \n> 83849\n> 26313\n- \n> pipeline\n","source":"_posts/2021-03-07-Redis-redispipeline.md","raw":"---\ntitle: Redis-redispipeline\ncomments: true\ndate: 2021-03-07 19:31:08\nauthor:\ntags:\n - Redis\ncategories:\n - \n---\n\n####  pipeline \n-  Redis Redis  RTTRound Time Trip RTT IO\n- pipeline \n![](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL2ltZy9iVlY5MTY?x-oss-process=image/format,png)\n#### redispipeline\n- 10set\n```python\nimport redis\nimport time\n\nif __name__ == '__main__':\n    my_redis = redis.StrictRedis(connection_pool=redis.ConnectionPool.from_url(\"redis://:@127.0.0.1/0\"), socket_timeout=2)\n\t# pipeline\n    start_time = int(time.time() * 1000)\n    for i in range(0,100000):\n        key1 = \"test1_%s\" % i\n        my_redis.set(key1, i)\n        my_redis.expire(key1, 3600)\n    end_time = int(time.time() * 1000)\n    print end_time - start_time\n\n\t# pipeline\n    start_time = int(time.time() * 1000)\n    pipe = my_redis.pipeline()\n    for i in range(0,100000):\n        key1 = \"test2_%s\" % i\n        pipe.set(key1, i)\n        pipe.expire(key1, 3600)\n    pipe.execute()\n    end_time = int(time.time() * 1000)\n    print end_time - start_time\n```\n- \n> 166511447715041 # pipeline\n> 451741584325  # pipeline\n- \n> redispipeline\n\n#### \n- 100sadd \n```python\n    start_time = int(time.time() * 1000)\n    for i in range(0, 100000):\n        for j in range(0, 10):\n            key1 = \"test1_%s_%s\" % (i,j)\n            my_redis.sadd(key1, i)\n        my_redis.expire(key1, 3600)\n    end_time = int(time.time() * 1000)\n    print end_time - start_time\n\n    start_time = int(time.time() * 1000)\n    pipe = my_redis.pipeline()\n    for i in range(0, 100000):\n        for j in range(0,10):\n            key1 = \"test2_%s_%s\" % (i,j)\n            pipe.sadd(key1, i)\n        pipe.expire(key1, 3600)\n    pipe.execute()\n    end_time = int(time.time() * 1000)\n    print end_time - start_time\n```\n\n- \n> 83849\n> 26313\n- \n> pipeline\n","slug":"Redis-redispipeline","published":1,"updated":"2021-03-07T11:31:38.192Z","_id":"cklz2rhyb000kjvs68pedcugg","layout":"post","photos":[],"link":"","content":"<h4 id=\"-pipeline-\"><a href=\"#-pipeline-\" class=\"headerlink\" title=\" pipeline \"></a> pipeline </h4><ul>\n<li> Redis Redis  RTTRound Time Trip RTT IO</li>\n<li>pipeline <br><img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL2ltZy9iVlY5MTY?x-oss-process=image/format,png\" alt=\"\"><h4 id=\"redispipeline\"><a href=\"#redispipeline\" class=\"headerlink\" title=\"redispipeline\"></a>redispipeline</h4></li>\n<li>10set<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> redis\n<span class=\"token keyword\">import</span> time\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    my_redis <span class=\"token operator\">=</span> redis<span class=\"token punctuation\">.</span>StrictRedis<span class=\"token punctuation\">(</span>connection_pool<span class=\"token operator\">=</span>redis<span class=\"token punctuation\">.</span>ConnectionPool<span class=\"token punctuation\">.</span>from_url<span class=\"token punctuation\">(</span><span class=\"token string\">\"redis://:@127.0.0.1/0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> socket_timeout<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\"># pipeline</span>\n    start_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">100000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        key1 <span class=\"token operator\">=</span> <span class=\"token string\">\"test1_%s\"</span> <span class=\"token operator\">%</span> i\n        my_redis<span class=\"token punctuation\">.</span><span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span>\n        my_redis<span class=\"token punctuation\">.</span>expire<span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">)</span>\n    end_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span> end_time <span class=\"token operator\">-</span> start_time\n\n\t<span class=\"token comment\"># pipeline</span>\n    start_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n    pipe <span class=\"token operator\">=</span> my_redis<span class=\"token punctuation\">.</span>pipeline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">100000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        key1 <span class=\"token operator\">=</span> <span class=\"token string\">\"test2_%s\"</span> <span class=\"token operator\">%</span> i\n        pipe<span class=\"token punctuation\">.</span><span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span>\n        pipe<span class=\"token punctuation\">.</span>expire<span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">)</span>\n    pipe<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    end_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span> end_time <span class=\"token operator\">-</span> start_time<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><blockquote>\n<p>166511447715041 # pipeline<br>451741584325  # pipeline</p>\n</blockquote>\n</li>\n<li><blockquote>\n<p>redispipeline</p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p>100sadd </p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">start_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        key1 <span class=\"token operator\">=</span> <span class=\"token string\">\"test1_%s_%s\"</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span>j<span class=\"token punctuation\">)</span>\n        my_redis<span class=\"token punctuation\">.</span>sadd<span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span>\n    my_redis<span class=\"token punctuation\">.</span>expire<span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">)</span>\nend_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span> end_time <span class=\"token operator\">-</span> start_time\n\nstart_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\npipe <span class=\"token operator\">=</span> my_redis<span class=\"token punctuation\">.</span>pipeline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        key1 <span class=\"token operator\">=</span> <span class=\"token string\">\"test2_%s_%s\"</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span>j<span class=\"token punctuation\">)</span>\n        pipe<span class=\"token punctuation\">.</span>sadd<span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span>\n    pipe<span class=\"token punctuation\">.</span>expire<span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">)</span>\npipe<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nend_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span> end_time <span class=\"token operator\">-</span> start_time<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p></p>\n<blockquote>\n<p>83849<br>26313</p>\n</blockquote>\n</li>\n<li><p></p>\n<blockquote>\n<p>pipeline</p>\n</blockquote>\n</li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h4 id=\"-pipeline-\"><a href=\"#-pipeline-\" class=\"headerlink\" title=\" pipeline \"></a> pipeline </h4><ul>\n<li> Redis Redis  RTTRound Time Trip RTT IO</li>\n<li>pipeline <br><img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly9zZWdtZW50ZmF1bHQuY29tL2ltZy9iVlY5MTY?x-oss-process=image/format,png\" alt=\"\"><h4 id=\"redispipeline\"><a href=\"#redispipeline\" class=\"headerlink\" title=\"redispipeline\"></a>redispipeline</h4></li>\n<li>10set<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> redis\n<span class=\"token keyword\">import</span> time\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    my_redis <span class=\"token operator\">=</span> redis<span class=\"token punctuation\">.</span>StrictRedis<span class=\"token punctuation\">(</span>connection_pool<span class=\"token operator\">=</span>redis<span class=\"token punctuation\">.</span>ConnectionPool<span class=\"token punctuation\">.</span>from_url<span class=\"token punctuation\">(</span><span class=\"token string\">\"redis://:@127.0.0.1/0\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> socket_timeout<span class=\"token operator\">=</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token comment\"># pipeline</span>\n    start_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">100000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        key1 <span class=\"token operator\">=</span> <span class=\"token string\">\"test1_%s\"</span> <span class=\"token operator\">%</span> i\n        my_redis<span class=\"token punctuation\">.</span><span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span>\n        my_redis<span class=\"token punctuation\">.</span>expire<span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">)</span>\n    end_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span> end_time <span class=\"token operator\">-</span> start_time\n\n\t<span class=\"token comment\"># pipeline</span>\n    start_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n    pipe <span class=\"token operator\">=</span> my_redis<span class=\"token punctuation\">.</span>pipeline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">100000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        key1 <span class=\"token operator\">=</span> <span class=\"token string\">\"test2_%s\"</span> <span class=\"token operator\">%</span> i\n        pipe<span class=\"token punctuation\">.</span><span class=\"token builtin\">set</span><span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span>\n        pipe<span class=\"token punctuation\">.</span>expire<span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">)</span>\n    pipe<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    end_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">print</span> end_time <span class=\"token operator\">-</span> start_time<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><blockquote>\n<p>166511447715041 # pipeline<br>451741584325  # pipeline</p>\n</blockquote>\n</li>\n<li><blockquote>\n<p>redispipeline</p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p>100sadd </p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">start_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        key1 <span class=\"token operator\">=</span> <span class=\"token string\">\"test1_%s_%s\"</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span>j<span class=\"token punctuation\">)</span>\n        my_redis<span class=\"token punctuation\">.</span>sadd<span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span>\n    my_redis<span class=\"token punctuation\">.</span>expire<span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">)</span>\nend_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span> end_time <span class=\"token operator\">-</span> start_time\n\nstart_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\npipe <span class=\"token operator\">=</span> my_redis<span class=\"token punctuation\">.</span>pipeline<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">for</span> j <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        key1 <span class=\"token operator\">=</span> <span class=\"token string\">\"test2_%s_%s\"</span> <span class=\"token operator\">%</span> <span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">,</span>j<span class=\"token punctuation\">)</span>\n        pipe<span class=\"token punctuation\">.</span>sadd<span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> i<span class=\"token punctuation\">)</span>\n    pipe<span class=\"token punctuation\">.</span>expire<span class=\"token punctuation\">(</span>key1<span class=\"token punctuation\">,</span> <span class=\"token number\">3600</span><span class=\"token punctuation\">)</span>\npipe<span class=\"token punctuation\">.</span>execute<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nend_time <span class=\"token operator\">=</span> <span class=\"token builtin\">int</span><span class=\"token punctuation\">(</span>time<span class=\"token punctuation\">.</span>time<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span> end_time <span class=\"token operator\">-</span> start_time<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p></p>\n<blockquote>\n<p>83849<br>26313</p>\n</blockquote>\n</li>\n<li><p></p>\n<blockquote>\n<p>pipeline</p>\n</blockquote>\n</li>\n</ul>\n"},{"title":"Redis-expireexists","comments":1,"date":"2021-03-07T11:32:41.000Z","author":null,"_content":"\n[](https://www.jianshu.com/p/9352d20fb2e0)\n#### expireexists\n###### \n- redis keyDBredis\n###### \n- key\n###### \n- existskeykeykey\n- \n###### \n- expireexistskeyexpirekey\n\n\n# \n#### \n\n```python\n    EXPIRE <KEY> <TTL> :  ttl \n    PEXPIRE <KEY> <TTL> : ttl \n    EXPIREAT <KEY> <timestamp> : timestamp \n    PEXPIREAT <KEY> <timestamp>:  timestamp .\n```\n\n#### \n\n```python\n\tpersist key\n```\n\n#### redis\n![](https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy83MzYxMzgzLTcwMDYyYTM2ZDQxOWZjMTcucG5n?x-oss-process=image/format,png)\n#### book\n- book\n![](https://img-blog.csdnimg.cn/20190823213116792.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)","source":"_posts/2021-03-07-Redis-expireexists.md","raw":"---\ntitle: Redis-expireexists\ncomments: true\ndate: 2021-03-07 19:32:41\nauthor:\ntags:\n - Redis\ncategories:\n - \n---\n\n[](https://www.jianshu.com/p/9352d20fb2e0)\n#### expireexists\n###### \n- redis keyDBredis\n###### \n- key\n###### \n- existskeykeykey\n- \n###### \n- expireexistskeyexpirekey\n\n\n# \n#### \n\n```python\n    EXPIRE <KEY> <TTL> :  ttl \n    PEXPIRE <KEY> <TTL> : ttl \n    EXPIREAT <KEY> <timestamp> : timestamp \n    PEXPIREAT <KEY> <timestamp>:  timestamp .\n```\n\n#### \n\n```python\n\tpersist key\n```\n\n#### redis\n![](https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy83MzYxMzgzLTcwMDYyYTM2ZDQxOWZjMTcucG5n?x-oss-process=image/format,png)\n#### book\n- book\n![](https://img-blog.csdnimg.cn/20190823213116792.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)","slug":"Redis-expireexists","published":1,"updated":"2021-03-07T11:33:14.868Z","_id":"cklz2thll000njvs6dr836eg1","layout":"post","photos":[],"link":"","content":"<p><a href=\"https://www.jianshu.com/p/9352d20fb2e0\"></a></p>\n<h4 id=\"expireexists\"><a href=\"#expireexists\" class=\"headerlink\" title=\"expireexists\"></a>expireexists</h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li>redis keyDBredis<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n<li>key<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n<li>existskeykeykey</li>\n<li><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n<li>expireexistskeyexpirekey</li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">EXPIRE <span class=\"token operator\">&lt;</span>KEY<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>TTL<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span>  ttl \nPEXPIRE <span class=\"token operator\">&lt;</span>KEY<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>TTL<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span> ttl \nEXPIREAT <span class=\"token operator\">&lt;</span>KEY<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>timestamp<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span> timestamp \nPEXPIREAT <span class=\"token operator\">&lt;</span>KEY<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>timestamp<span class=\"token operator\">></span><span class=\"token punctuation\">:</span>  timestamp <span class=\"token punctuation\">.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">persist key<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"redis\"><a href=\"#redis\" class=\"headerlink\" title=\"redis\"></a>redis</h4><p><img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy83MzYxMzgzLTcwMDYyYTM2ZDQxOWZjMTcucG5n?x-oss-process=image/format,png\" alt=\"\"></p>\n<h4 id=\"book\"><a href=\"#book\" class=\"headerlink\" title=\"book\"></a>book</h4><ul>\n<li>book<br><img src=\"https://img-blog.csdnimg.cn/20190823213116792.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<p><a href=\"https://www.jianshu.com/p/9352d20fb2e0\"></a></p>\n<h4 id=\"expireexists\"><a href=\"#expireexists\" class=\"headerlink\" title=\"expireexists\"></a>expireexists</h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li>redis keyDBredis<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n<li>key<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n<li>existskeykeykey</li>\n<li><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n<li>expireexistskeyexpirekey</li>\n</ul>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">EXPIRE <span class=\"token operator\">&lt;</span>KEY<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>TTL<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span>  ttl \nPEXPIRE <span class=\"token operator\">&lt;</span>KEY<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>TTL<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span> ttl \nEXPIREAT <span class=\"token operator\">&lt;</span>KEY<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>timestamp<span class=\"token operator\">></span> <span class=\"token punctuation\">:</span> timestamp \nPEXPIREAT <span class=\"token operator\">&lt;</span>KEY<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>timestamp<span class=\"token operator\">></span><span class=\"token punctuation\">:</span>  timestamp <span class=\"token punctuation\">.</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">persist key<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"redis\"><a href=\"#redis\" class=\"headerlink\" title=\"redis\"></a>redis</h4><p><img src=\"https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy83MzYxMzgzLTcwMDYyYTM2ZDQxOWZjMTcucG5n?x-oss-process=image/format,png\" alt=\"\"></p>\n<h4 id=\"book\"><a href=\"#book\" class=\"headerlink\" title=\"book\"></a>book</h4><ul>\n<li>book<br><img src=\"https://img-blog.csdnimg.cn/20190823213116792.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></li>\n</ul>\n"},{"title":"Python-PILImageFilter","comments":1,"date":"2021-03-07T11:34:16.000Z","author":null,"_content":"\n[](https://blog.csdn.net/icamera0/article/details/50708888)\n#### \n##### \n![](https://img-blog.csdnimg.cn/20190729010351783.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n##### Kernel\n> Kernel(size, kernel, scale=None, offset=0)\n- size(3, 3) (5, 5)\n- kernelsize925\n- scalescale\n- offsetoffsetscale\n\n```python\nim = Image.open(src_file)\nKernel_im = im.filter(ImageFilter.Kernel((3,3),(1,1,1,0,0,0,2,0,2)))\n```\n\n##### RankFilter\n> RankFilter(size, rank)\n- \n- (size, size) \n- sizesize * size \n- ranksize * size rank\n\n```python\nim = Image.open(src_file)\nim = im.filter(ImageFilter.RankFilter(5,24))\n```\n\n##### MinFilter, MedianFilter,MaxFilter\n> MinFilter(size)\n> \n> MedianFilter(size)\n> \n> MaxFilter(size)\n> \n- size(size * size) \n\n```python\nim = Image.open(src_file)\nim = im.filter(ImageFilter.MinFilter(5))\nim = im.filter(ImageFilter.MedianFilterFilter(5))\nim = im.filter(ImageFilter.MaxFilter(5))\n```\n\n##### ModeFilter\n> ModeFilter(size)\n- \n- size(size * size)\n\n```python\nim = Image.open(src_file)\nim = im.filter(ImageFilter.ModeFilter(5))\n```\n\n","source":"_posts/2021-03-07-Python-PILImageFilter.md","raw":"---\ntitle: Python-PILImageFilter\ncomments: true\ndate: 2021-03-07 19:34:16\nauthor:\ntags:\n - Python\n - PIL\ncategories:\n - \n---\n\n[](https://blog.csdn.net/icamera0/article/details/50708888)\n#### \n##### \n![](https://img-blog.csdnimg.cn/20190729010351783.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n##### Kernel\n> Kernel(size, kernel, scale=None, offset=0)\n- size(3, 3) (5, 5)\n- kernelsize925\n- scalescale\n- offsetoffsetscale\n\n```python\nim = Image.open(src_file)\nKernel_im = im.filter(ImageFilter.Kernel((3,3),(1,1,1,0,0,0,2,0,2)))\n```\n\n##### RankFilter\n> RankFilter(size, rank)\n- \n- (size, size) \n- sizesize * size \n- ranksize * size rank\n\n```python\nim = Image.open(src_file)\nim = im.filter(ImageFilter.RankFilter(5,24))\n```\n\n##### MinFilter, MedianFilter,MaxFilter\n> MinFilter(size)\n> \n> MedianFilter(size)\n> \n> MaxFilter(size)\n> \n- size(size * size) \n\n```python\nim = Image.open(src_file)\nim = im.filter(ImageFilter.MinFilter(5))\nim = im.filter(ImageFilter.MedianFilterFilter(5))\nim = im.filter(ImageFilter.MaxFilter(5))\n```\n\n##### ModeFilter\n> ModeFilter(size)\n- \n- size(size * size)\n\n```python\nim = Image.open(src_file)\nim = im.filter(ImageFilter.ModeFilter(5))\n```\n\n","slug":"Python-PILImageFilter","published":1,"updated":"2021-03-07T11:36:32.334Z","_id":"cklz2vixt000qjvs67kgg4mub","layout":"post","photos":[],"link":"","content":"<p><a href=\"https://blog.csdn.net/icamera0/article/details/50708888\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><img src=\"https://img-blog.csdnimg.cn/20190729010351783.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n<h5 id=\"Kernel\"><a href=\"#Kernel\" class=\"headerlink\" title=\"Kernel\"></a>Kernel</h5><blockquote>\n<p>Kernel(size, kernel, scale=None, offset=0)</p>\n</blockquote>\n<ul>\n<li>size(3, 3) (5, 5)</li>\n<li>kernelsize925</li>\n<li>scalescale</li>\n<li>offsetoffsetscale</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\nKernel_im <span class=\"token operator\">=</span> im<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>ImageFilter<span class=\"token punctuation\">.</span>Kernel<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h5 id=\"RankFilter\"><a href=\"#RankFilter\" class=\"headerlink\" title=\"RankFilter\"></a>RankFilter</h5><blockquote>\n<p>RankFilter(size, rank)</p>\n</blockquote>\n<ul>\n<li></li>\n<li>(size, size) </li>\n<li>sizesize * size </li>\n<li>ranksize * size rank</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\nim <span class=\"token operator\">=</span> im<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>ImageFilter<span class=\"token punctuation\">.</span>RankFilter<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">24</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h5 id=\"MinFilter-MedianFilter-MaxFilter\"><a href=\"#MinFilter-MedianFilter-MaxFilter\" class=\"headerlink\" title=\"MinFilter, MedianFilter,MaxFilter\"></a>MinFilter, MedianFilter,MaxFilter</h5><blockquote>\n<p>MinFilter(size)<br><br>MedianFilter(size)<br><br>MaxFilter(size)<br></p>\n</blockquote>\n<ul>\n<li>size(size * size) </li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\nim <span class=\"token operator\">=</span> im<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>ImageFilter<span class=\"token punctuation\">.</span>MinFilter<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nim <span class=\"token operator\">=</span> im<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>ImageFilter<span class=\"token punctuation\">.</span>MedianFilterFilter<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nim <span class=\"token operator\">=</span> im<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>ImageFilter<span class=\"token punctuation\">.</span>MaxFilter<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h5 id=\"ModeFilter\"><a href=\"#ModeFilter\" class=\"headerlink\" title=\"ModeFilter\"></a>ModeFilter</h5><blockquote>\n<p>ModeFilter(size)</p>\n</blockquote>\n<ul>\n<li></li>\n<li>size(size * size)</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\nim <span class=\"token operator\">=</span> im<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>ImageFilter<span class=\"token punctuation\">.</span>ModeFilter<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<p><a href=\"https://blog.csdn.net/icamera0/article/details/50708888\"></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><img src=\"https://img-blog.csdnimg.cn/20190729010351783.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n<h5 id=\"Kernel\"><a href=\"#Kernel\" class=\"headerlink\" title=\"Kernel\"></a>Kernel</h5><blockquote>\n<p>Kernel(size, kernel, scale=None, offset=0)</p>\n</blockquote>\n<ul>\n<li>size(3, 3) (5, 5)</li>\n<li>kernelsize925</li>\n<li>scalescale</li>\n<li>offsetoffsetscale</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\nKernel_im <span class=\"token operator\">=</span> im<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>ImageFilter<span class=\"token punctuation\">.</span>Kernel<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h5 id=\"RankFilter\"><a href=\"#RankFilter\" class=\"headerlink\" title=\"RankFilter\"></a>RankFilter</h5><blockquote>\n<p>RankFilter(size, rank)</p>\n</blockquote>\n<ul>\n<li></li>\n<li>(size, size) </li>\n<li>sizesize * size </li>\n<li>ranksize * size rank</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\nim <span class=\"token operator\">=</span> im<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>ImageFilter<span class=\"token punctuation\">.</span>RankFilter<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">,</span><span class=\"token number\">24</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h5 id=\"MinFilter-MedianFilter-MaxFilter\"><a href=\"#MinFilter-MedianFilter-MaxFilter\" class=\"headerlink\" title=\"MinFilter, MedianFilter,MaxFilter\"></a>MinFilter, MedianFilter,MaxFilter</h5><blockquote>\n<p>MinFilter(size)<br><br>MedianFilter(size)<br><br>MaxFilter(size)<br></p>\n</blockquote>\n<ul>\n<li>size(size * size) </li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\nim <span class=\"token operator\">=</span> im<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>ImageFilter<span class=\"token punctuation\">.</span>MinFilter<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nim <span class=\"token operator\">=</span> im<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>ImageFilter<span class=\"token punctuation\">.</span>MedianFilterFilter<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\nim <span class=\"token operator\">=</span> im<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>ImageFilter<span class=\"token punctuation\">.</span>MaxFilter<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h5 id=\"ModeFilter\"><a href=\"#ModeFilter\" class=\"headerlink\" title=\"ModeFilter\"></a>ModeFilter</h5><blockquote>\n<p>ModeFilter(size)</p>\n</blockquote>\n<ul>\n<li></li>\n<li>size(size * size)</li>\n</ul>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\nim <span class=\"token operator\">=</span> im<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>ImageFilter<span class=\"token punctuation\">.</span>ModeFilter<span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n"},{"title":"Python-PILColor","comments":1,"date":"2021-03-07T11:35:38.000Z","author":null,"_content":"\n#### ImageColor\n##### \n- RGB #ff0000\n\n##### RGB\n- rgb(255, 0, 0)rgb(100%, 0%, 0%)\n\n##### HSL(Hue-Saturation-Ligntness)\n- hsl(hue, saturation%, lightness%)\n- hue [0, 360], red=0, green=120, blue=240\n- saturation [0%, 100%] gray=0, full=100%\n- lightness [0%, 100%] black=0, normal=50%, white=100%\n- hsl(0, 100%, 50%)\n\n##### Getrgb\n- tuple\n```python\nImageColors.getrgb(\"ff0000\")\n# (255,0,0)\nImageColors.getrgb(\"rgb(255,0,0)\")\n# (255,0,0)\nImageColors.getrgb(\"rgb(100%,0%,0%)\")\n# (255,0,0)\nImageColors.getrgb(\"hsl(0,100%,50%)\")\n# (255,0,0)\nImageColors.getrgb(\"red\") # pil\n# (255,0,0)\nImageColors.getrgb(\"Red\")\n# (255,0,0)\n```\n\n\n","source":"_posts/2021-03-07-Python-PILColor.md","raw":"---\ntitle: Python-PILColor\ncomments: true\ndate: 2021-03-07 19:35:38\nauthor:\ntags:\n - Python\n - PIL\ncategories:\n - \n---\n\n#### ImageColor\n##### \n- RGB #ff0000\n\n##### RGB\n- rgb(255, 0, 0)rgb(100%, 0%, 0%)\n\n##### HSL(Hue-Saturation-Ligntness)\n- hsl(hue, saturation%, lightness%)\n- hue [0, 360], red=0, green=120, blue=240\n- saturation [0%, 100%] gray=0, full=100%\n- lightness [0%, 100%] black=0, normal=50%, white=100%\n- hsl(0, 100%, 50%)\n\n##### Getrgb\n- tuple\n```python\nImageColors.getrgb(\"ff0000\")\n# (255,0,0)\nImageColors.getrgb(\"rgb(255,0,0)\")\n# (255,0,0)\nImageColors.getrgb(\"rgb(100%,0%,0%)\")\n# (255,0,0)\nImageColors.getrgb(\"hsl(0,100%,50%)\")\n# (255,0,0)\nImageColors.getrgb(\"red\") # pil\n# (255,0,0)\nImageColors.getrgb(\"Red\")\n# (255,0,0)\n```\n\n\n","slug":"Python-PILColor","published":1,"updated":"2021-03-07T11:36:50.566Z","_id":"cklz2x9sp000ujvs61fkb2s5g","layout":"post","photos":[],"link":"","content":"<h4 id=\"ImageColor\"><a href=\"#ImageColor\" class=\"headerlink\" title=\"ImageColor\"></a>ImageColor</h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li>RGB #ff0000</li>\n</ul>\n<h5 id=\"RGB\"><a href=\"#RGB\" class=\"headerlink\" title=\"RGB\"></a>RGB</h5><ul>\n<li>rgb(255, 0, 0)rgb(100%, 0%, 0%)</li>\n</ul>\n<h5 id=\"HSL-Hue-Saturation-Ligntness\"><a href=\"#HSL-Hue-Saturation-Ligntness\" class=\"headerlink\" title=\"HSL(Hue-Saturation-Ligntness)\"></a>HSL(Hue-Saturation-Ligntness)</h5><ul>\n<li>hsl(hue, saturation%, lightness%)</li>\n<li>hue [0, 360], red=0, green=120, blue=240</li>\n<li>saturation [0%, 100%] gray=0, full=100%</li>\n<li>lightness [0%, 100%] black=0, normal=50%, white=100%</li>\n<li>hsl(0, 100%, 50%)</li>\n</ul>\n<h5 id=\"Getrgb\"><a href=\"#Getrgb\" class=\"headerlink\" title=\"Getrgb\"></a>Getrgb</h5><ul>\n<li>tuple<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">ImageColors<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">\"ff0000\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># (255,0,0)</span>\nImageColors<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(255,0,0)\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># (255,0,0)</span>\nImageColors<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(100%,0%,0%)\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># (255,0,0)</span>\nImageColors<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">\"hsl(0,100%,50%)\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># (255,0,0)</span>\nImageColors<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># pil</span>\n<span class=\"token comment\"># (255,0,0)</span>\nImageColors<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">\"Red\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># (255,0,0)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h4 id=\"ImageColor\"><a href=\"#ImageColor\" class=\"headerlink\" title=\"ImageColor\"></a>ImageColor</h4><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li>RGB #ff0000</li>\n</ul>\n<h5 id=\"RGB\"><a href=\"#RGB\" class=\"headerlink\" title=\"RGB\"></a>RGB</h5><ul>\n<li>rgb(255, 0, 0)rgb(100%, 0%, 0%)</li>\n</ul>\n<h5 id=\"HSL-Hue-Saturation-Ligntness\"><a href=\"#HSL-Hue-Saturation-Ligntness\" class=\"headerlink\" title=\"HSL(Hue-Saturation-Ligntness)\"></a>HSL(Hue-Saturation-Ligntness)</h5><ul>\n<li>hsl(hue, saturation%, lightness%)</li>\n<li>hue [0, 360], red=0, green=120, blue=240</li>\n<li>saturation [0%, 100%] gray=0, full=100%</li>\n<li>lightness [0%, 100%] black=0, normal=50%, white=100%</li>\n<li>hsl(0, 100%, 50%)</li>\n</ul>\n<h5 id=\"Getrgb\"><a href=\"#Getrgb\" class=\"headerlink\" title=\"Getrgb\"></a>Getrgb</h5><ul>\n<li>tuple<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">ImageColors<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">\"ff0000\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># (255,0,0)</span>\nImageColors<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(255,0,0)\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># (255,0,0)</span>\nImageColors<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">\"rgb(100%,0%,0%)\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># (255,0,0)</span>\nImageColors<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">\"hsl(0,100%,50%)\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># (255,0,0)</span>\nImageColors<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">\"red\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\"># pil</span>\n<span class=\"token comment\"># (255,0,0)</span>\nImageColors<span class=\"token punctuation\">.</span>getrgb<span class=\"token punctuation\">(</span><span class=\"token string\">\"Red\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># (255,0,0)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n"},{"title":"Python-PILTranspose,Blend,Split,Composite","comments":1,"date":"2021-03-07T11:37:52.000Z","author":null,"_content":"\n#### Transpose \n- Object\n\n![](https://img-blog.csdnimg.cn/20190727215620420.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n#### Blend \n- \t\n- ObjectObject55281\n> - res_img = image1 * (1 - alpha) + image2 * alpha\n\n![](https://img-blog.csdnimg.cn/20190727220007302.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n#### Split RGB\nsplitObject\n![](https://img-blog.csdnimg.cn/20190727220155886.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n#### Composite mask\n- image1, image2, mask \nPhotoshop123Object\n![](https://img-blog.csdnimg.cn/20190727220505748.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n#### \n```python\n#!/usr/local/env python\n# -*- coding: utf-8 -*-\nfrom PIL import Image, ImageFont, ImageDraw\n\nfont_posotion = 20,20\ncolor =  255,0,0,255\nfont = ImageFont.truetype('Arial.ttf', size=25, encoding=\"unic\")\nthumbnail_size = 400,400\nrow_count = 3\n\n\ndef create_thumbnail(src_file):\n    size = thumbnail_size\n    im = Image.open(src_file)\n\n    im.thumbnail(size, Image.ANTIALIAS)\n    return im\n\ndef get_position(count):\n\n    width = thumbnail_size[0]\n    pic_width = width*row_count\n    position = (count * width)%pic_width, (count * width)/pic_width*width\n    return position\n\ndef get_pic_size(thumbnail_size, pic_num, row_count):\n    pic_width = thumbnail_size[0] * row_count\n    extra_row = 1 if pic_num % row_count else 0\n    pic_height = (pic_num / row_count + extra_row) * thumbnail_size[1]\n\n    return pic_width, pic_height\n\n\nclass MyTranspose(object):\n    FLIP_LEFT_RIGHT = \"FLIP_LEFT_RIGHT\"\n    FLIP_TOP_BOTTOM = \"FLIP_TOP_BOTTOM\"\n    ROTATE_90 = \"ROTATE_90\"\n    ROTATE_180 = \"ROTATE_180\"\n    ROTATE_270 = \"ROTATE_270\"\n    TRANSPOSE = \"TRANSPOSE\"\n\n    TransposeList = [FLIP_LEFT_RIGHT,FLIP_TOP_BOTTOM,ROTATE_90,ROTATE_180,ROTATE_270,TRANSPOSE]\n    ImageTransposeList = [Image.FLIP_LEFT_RIGHT,Image.FLIP_TOP_BOTTOM,Image.ROTATE_90,\n                          Image.ROTATE_180,Image.ROTATE_270,Image.TRANSPOSE]\n\nclass MySplit(object):\n    R = \"R\"\n    G = \"G\"\n    B = \"B\"\n\n    SplitList = [R, G, B]\n\ndef create_transpose(src_file):\n    # \n    count = 0\n    pic_size = get_pic_size(thumbnail_size, len(MyTranspose.TransposeList), row_count)\n    image = Image.new(\"RGBA\", pic_size, \"white\")\n    thumbnail_im = create_thumbnail(src_file)\n    for i in range(0, len(MyTranspose.TransposeList)):\n        img = thumbnail_im.copy()\n        CONTOURimg = img.transpose(MyTranspose.ImageTransposeList[i])\n        CONTOURdraw = ImageDraw.Draw(CONTOURimg)\n        CONTOURdraw.text(font_posotion, MyTranspose.TransposeList[count], font=font, fill=color)\n        image.paste(CONTOURimg, get_position(count))\n        count+=1\n    CONTOURimg = thumbnail_im.copy()\n    CONTOURdraw = ImageDraw.Draw(CONTOURimg)\n    CONTOURdraw.text(font_posotion, \"ORIGINAL PIC\", font=font, fill=color)\n    image.paste(CONTOURimg, get_position(count))\n    # image.show()\n    image.save(\"transpose.jpg\")\n\ndef create_blend(src_file):\n    # \n    img = Image.open(src_file)\n    copy_img = img.transpose(Image.FLIP_LEFT_RIGHT)\n    res_img = Image.blend(img, copy_img, 0.5)\n\n    res_img.show()\n\ndef create_composite(src_file):\n    # \n    count = 0\n    mask_name = [\"R\",\"G\",\"B\"]\n    image = Image.new(\"RGBA\", (1200,400), \"white\")\n    thumbnail_im = create_thumbnail(src_file)\n    for i in range(0, 3):\n        print i\n        copy_img = thumbnail_im.transpose(Image.FLIP_LEFT_RIGHT)\n        res_img = Image.blend(thumbnail_im, copy_img, 0.5)\n        my_split = res_img.split()\n        im = Image.composite(thumbnail_im, res_img, my_split[i])\n        CONTOURdraw = ImageDraw.Draw(im)\n        CONTOURdraw.text(font_posotion, \"mask: %s\" % mask_name[i], font=font, fill=color)\n        image.paste(im, get_position(count))\n        count += 1\n    image.save(\"composite.jpg\")\n    # image.show()\n\ndef create_split(src_file):\n    # \n    count = 0\n    pic_size = get_pic_size(thumbnail_size, len(MySplit.SplitList), row_count)\n    image = Image.new(\"RGBA\", pic_size, \"white\")\n    thumbnail_im = create_thumbnail(src_file)\n    for i in range(0, len(MySplit.SplitList)):\n        CONTOURimg = thumbnail_im.split()[i].copy()\n        CONTOURdraw = ImageDraw.Draw(CONTOURimg)\n        CONTOURdraw.text(font_posotion, MySplit.SplitList[count], font=font)\n        image.paste(CONTOURimg, get_position(count))\n        count += 1\n\n    # image.show()\n    image.save(\"split.jpg\")\n\nif __name__ == '__main__':\n    # create_transpose(\"res.jpg\")\n    # create_split(\"res.jpg\")\n    # create_blend(\"res.jpg\")\n    create_composite(\"res.jpg\")\n\n```\n","source":"_posts/2021-03-07-Python-PILTranspose-Blend-Split-Composite.md","raw":"---\ntitle: 'Python-PILTranspose,Blend,Split,Composite'\ncomments: true\ndate: 2021-03-07 19:37:52\nauthor:\ntags:\n - Python\n - PIL\ncategories:\n - \n---\n\n#### Transpose \n- Object\n\n![](https://img-blog.csdnimg.cn/20190727215620420.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n#### Blend \n- \t\n- ObjectObject55281\n> - res_img = image1 * (1 - alpha) + image2 * alpha\n\n![](https://img-blog.csdnimg.cn/20190727220007302.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n#### Split RGB\nsplitObject\n![](https://img-blog.csdnimg.cn/20190727220155886.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n#### Composite mask\n- image1, image2, mask \nPhotoshop123Object\n![](https://img-blog.csdnimg.cn/20190727220505748.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n#### \n```python\n#!/usr/local/env python\n# -*- coding: utf-8 -*-\nfrom PIL import Image, ImageFont, ImageDraw\n\nfont_posotion = 20,20\ncolor =  255,0,0,255\nfont = ImageFont.truetype('Arial.ttf', size=25, encoding=\"unic\")\nthumbnail_size = 400,400\nrow_count = 3\n\n\ndef create_thumbnail(src_file):\n    size = thumbnail_size\n    im = Image.open(src_file)\n\n    im.thumbnail(size, Image.ANTIALIAS)\n    return im\n\ndef get_position(count):\n\n    width = thumbnail_size[0]\n    pic_width = width*row_count\n    position = (count * width)%pic_width, (count * width)/pic_width*width\n    return position\n\ndef get_pic_size(thumbnail_size, pic_num, row_count):\n    pic_width = thumbnail_size[0] * row_count\n    extra_row = 1 if pic_num % row_count else 0\n    pic_height = (pic_num / row_count + extra_row) * thumbnail_size[1]\n\n    return pic_width, pic_height\n\n\nclass MyTranspose(object):\n    FLIP_LEFT_RIGHT = \"FLIP_LEFT_RIGHT\"\n    FLIP_TOP_BOTTOM = \"FLIP_TOP_BOTTOM\"\n    ROTATE_90 = \"ROTATE_90\"\n    ROTATE_180 = \"ROTATE_180\"\n    ROTATE_270 = \"ROTATE_270\"\n    TRANSPOSE = \"TRANSPOSE\"\n\n    TransposeList = [FLIP_LEFT_RIGHT,FLIP_TOP_BOTTOM,ROTATE_90,ROTATE_180,ROTATE_270,TRANSPOSE]\n    ImageTransposeList = [Image.FLIP_LEFT_RIGHT,Image.FLIP_TOP_BOTTOM,Image.ROTATE_90,\n                          Image.ROTATE_180,Image.ROTATE_270,Image.TRANSPOSE]\n\nclass MySplit(object):\n    R = \"R\"\n    G = \"G\"\n    B = \"B\"\n\n    SplitList = [R, G, B]\n\ndef create_transpose(src_file):\n    # \n    count = 0\n    pic_size = get_pic_size(thumbnail_size, len(MyTranspose.TransposeList), row_count)\n    image = Image.new(\"RGBA\", pic_size, \"white\")\n    thumbnail_im = create_thumbnail(src_file)\n    for i in range(0, len(MyTranspose.TransposeList)):\n        img = thumbnail_im.copy()\n        CONTOURimg = img.transpose(MyTranspose.ImageTransposeList[i])\n        CONTOURdraw = ImageDraw.Draw(CONTOURimg)\n        CONTOURdraw.text(font_posotion, MyTranspose.TransposeList[count], font=font, fill=color)\n        image.paste(CONTOURimg, get_position(count))\n        count+=1\n    CONTOURimg = thumbnail_im.copy()\n    CONTOURdraw = ImageDraw.Draw(CONTOURimg)\n    CONTOURdraw.text(font_posotion, \"ORIGINAL PIC\", font=font, fill=color)\n    image.paste(CONTOURimg, get_position(count))\n    # image.show()\n    image.save(\"transpose.jpg\")\n\ndef create_blend(src_file):\n    # \n    img = Image.open(src_file)\n    copy_img = img.transpose(Image.FLIP_LEFT_RIGHT)\n    res_img = Image.blend(img, copy_img, 0.5)\n\n    res_img.show()\n\ndef create_composite(src_file):\n    # \n    count = 0\n    mask_name = [\"R\",\"G\",\"B\"]\n    image = Image.new(\"RGBA\", (1200,400), \"white\")\n    thumbnail_im = create_thumbnail(src_file)\n    for i in range(0, 3):\n        print i\n        copy_img = thumbnail_im.transpose(Image.FLIP_LEFT_RIGHT)\n        res_img = Image.blend(thumbnail_im, copy_img, 0.5)\n        my_split = res_img.split()\n        im = Image.composite(thumbnail_im, res_img, my_split[i])\n        CONTOURdraw = ImageDraw.Draw(im)\n        CONTOURdraw.text(font_posotion, \"mask: %s\" % mask_name[i], font=font, fill=color)\n        image.paste(im, get_position(count))\n        count += 1\n    image.save(\"composite.jpg\")\n    # image.show()\n\ndef create_split(src_file):\n    # \n    count = 0\n    pic_size = get_pic_size(thumbnail_size, len(MySplit.SplitList), row_count)\n    image = Image.new(\"RGBA\", pic_size, \"white\")\n    thumbnail_im = create_thumbnail(src_file)\n    for i in range(0, len(MySplit.SplitList)):\n        CONTOURimg = thumbnail_im.split()[i].copy()\n        CONTOURdraw = ImageDraw.Draw(CONTOURimg)\n        CONTOURdraw.text(font_posotion, MySplit.SplitList[count], font=font)\n        image.paste(CONTOURimg, get_position(count))\n        count += 1\n\n    # image.show()\n    image.save(\"split.jpg\")\n\nif __name__ == '__main__':\n    # create_transpose(\"res.jpg\")\n    # create_split(\"res.jpg\")\n    # create_blend(\"res.jpg\")\n    create_composite(\"res.jpg\")\n\n```\n","slug":"Python-PILTranspose-Blend-Split-Composite","published":1,"updated":"2021-03-07T11:38:24.381Z","_id":"cklz305ls0010jvs62ss7c4k1","layout":"post","photos":[],"link":"","content":"<h4 id=\"Transpose-\"><a href=\"#Transpose-\" class=\"headerlink\" title=\"Transpose \"></a>Transpose </h4><ul>\n<li>Object</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20190727215620420.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n<h4 id=\"Blend-\"><a href=\"#Blend-\" class=\"headerlink\" title=\"Blend \"></a>Blend </h4><ul>\n<li><pre><code>\n</code></pre>\n</li>\n<li>ObjectObject55281<blockquote>\n<ul>\n<li>res_img = image1 * (1 - alpha) + image2 * alpha</li>\n</ul>\n</blockquote>\n</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20190727220007302.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n<h4 id=\"Split-RGB\"><a href=\"#Split-RGB\" class=\"headerlink\" title=\"Split RGB\"></a>Split RGB</h4><p>splitObject<br><img src=\"https://img-blog.csdnimg.cn/20190727220155886.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n<h4 id=\"Composite-mask\"><a href=\"#Composite-mask\" class=\"headerlink\" title=\"Composite mask\"></a>Composite mask</h4><ul>\n<li>image1, image2, mask <br>Photoshop123Object<br><img src=\"https://img-blog.csdnimg.cn/20190727220505748.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\">#!/usr/local/env python</span>\n<span class=\"token comment\"># -*- coding: utf-8 -*-</span>\n<span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image<span class=\"token punctuation\">,</span> ImageFont<span class=\"token punctuation\">,</span> ImageDraw\n\nfont_posotion <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span>\ncolor <span class=\"token operator\">=</span>  <span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span>\nfont <span class=\"token operator\">=</span> ImageFont<span class=\"token punctuation\">.</span>truetype<span class=\"token punctuation\">(</span><span class=\"token string\">'Arial.ttf'</span><span class=\"token punctuation\">,</span> size<span class=\"token operator\">=</span><span class=\"token number\">25</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"unic\"</span><span class=\"token punctuation\">)</span>\nthumbnail_size <span class=\"token operator\">=</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span><span class=\"token number\">400</span>\nrow_count <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_thumbnail</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    size <span class=\"token operator\">=</span> thumbnail_size\n    im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n\n    im<span class=\"token punctuation\">.</span>thumbnail<span class=\"token punctuation\">(</span>size<span class=\"token punctuation\">,</span> Image<span class=\"token punctuation\">.</span>ANTIALIAS<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> im\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_position</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    width <span class=\"token operator\">=</span> thumbnail_size<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    pic_width <span class=\"token operator\">=</span> width<span class=\"token operator\">*</span>row_count\n    position <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>count <span class=\"token operator\">*</span> width<span class=\"token punctuation\">)</span><span class=\"token operator\">%</span>pic_width<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>count <span class=\"token operator\">*</span> width<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span>pic_width<span class=\"token operator\">*</span>width\n    <span class=\"token keyword\">return</span> position\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_pic_size</span><span class=\"token punctuation\">(</span>thumbnail_size<span class=\"token punctuation\">,</span> pic_num<span class=\"token punctuation\">,</span> row_count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    pic_width <span class=\"token operator\">=</span> thumbnail_size<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> row_count\n    extra_row <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token keyword\">if</span> pic_num <span class=\"token operator\">%</span> row_count <span class=\"token keyword\">else</span> <span class=\"token number\">0</span>\n    pic_height <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>pic_num <span class=\"token operator\">/</span> row_count <span class=\"token operator\">+</span> extra_row<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> thumbnail_size<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">return</span> pic_width<span class=\"token punctuation\">,</span> pic_height\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyTranspose</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    FLIP_LEFT_RIGHT <span class=\"token operator\">=</span> <span class=\"token string\">\"FLIP_LEFT_RIGHT\"</span>\n    FLIP_TOP_BOTTOM <span class=\"token operator\">=</span> <span class=\"token string\">\"FLIP_TOP_BOTTOM\"</span>\n    ROTATE_90 <span class=\"token operator\">=</span> <span class=\"token string\">\"ROTATE_90\"</span>\n    ROTATE_180 <span class=\"token operator\">=</span> <span class=\"token string\">\"ROTATE_180\"</span>\n    ROTATE_270 <span class=\"token operator\">=</span> <span class=\"token string\">\"ROTATE_270\"</span>\n    TRANSPOSE <span class=\"token operator\">=</span> <span class=\"token string\">\"TRANSPOSE\"</span>\n\n    TransposeList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>FLIP_LEFT_RIGHT<span class=\"token punctuation\">,</span>FLIP_TOP_BOTTOM<span class=\"token punctuation\">,</span>ROTATE_90<span class=\"token punctuation\">,</span>ROTATE_180<span class=\"token punctuation\">,</span>ROTATE_270<span class=\"token punctuation\">,</span>TRANSPOSE<span class=\"token punctuation\">]</span>\n    ImageTransposeList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>Image<span class=\"token punctuation\">.</span>FLIP_LEFT_RIGHT<span class=\"token punctuation\">,</span>Image<span class=\"token punctuation\">.</span>FLIP_TOP_BOTTOM<span class=\"token punctuation\">,</span>Image<span class=\"token punctuation\">.</span>ROTATE_90<span class=\"token punctuation\">,</span>\n                          Image<span class=\"token punctuation\">.</span>ROTATE_180<span class=\"token punctuation\">,</span>Image<span class=\"token punctuation\">.</span>ROTATE_270<span class=\"token punctuation\">,</span>Image<span class=\"token punctuation\">.</span>TRANSPOSE<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MySplit</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    R <span class=\"token operator\">=</span> <span class=\"token string\">\"R\"</span>\n    G <span class=\"token operator\">=</span> <span class=\"token string\">\"G\"</span>\n    B <span class=\"token operator\">=</span> <span class=\"token string\">\"B\"</span>\n\n    SplitList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>R<span class=\"token punctuation\">,</span> G<span class=\"token punctuation\">,</span> B<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_transpose</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># </span>\n    count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    pic_size <span class=\"token operator\">=</span> get_pic_size<span class=\"token punctuation\">(</span>thumbnail_size<span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MyTranspose<span class=\"token punctuation\">.</span>TransposeList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> row_count<span class=\"token punctuation\">)</span>\n    image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">\"RGBA\"</span><span class=\"token punctuation\">,</span> pic_size<span class=\"token punctuation\">,</span> <span class=\"token string\">\"white\"</span><span class=\"token punctuation\">)</span>\n    thumbnail_im <span class=\"token operator\">=</span> create_thumbnail<span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MyTranspose<span class=\"token punctuation\">.</span>TransposeList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        img <span class=\"token operator\">=</span> thumbnail_im<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        CONTOURimg <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span>transpose<span class=\"token punctuation\">(</span>MyTranspose<span class=\"token punctuation\">.</span>ImageTransposeList<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        CONTOURdraw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>CONTOURimg<span class=\"token punctuation\">)</span>\n        CONTOURdraw<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>font_posotion<span class=\"token punctuation\">,</span> MyTranspose<span class=\"token punctuation\">.</span>TransposeList<span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">=</span>font<span class=\"token punctuation\">,</span> fill<span class=\"token operator\">=</span>color<span class=\"token punctuation\">)</span>\n        image<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>CONTOURimg<span class=\"token punctuation\">,</span> get_position<span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        count<span class=\"token operator\">+=</span><span class=\"token number\">1</span>\n    CONTOURimg <span class=\"token operator\">=</span> thumbnail_im<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    CONTOURdraw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>CONTOURimg<span class=\"token punctuation\">)</span>\n    CONTOURdraw<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>font_posotion<span class=\"token punctuation\">,</span> <span class=\"token string\">\"ORIGINAL PIC\"</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">=</span>font<span class=\"token punctuation\">,</span> fill<span class=\"token operator\">=</span>color<span class=\"token punctuation\">)</span>\n    image<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>CONTOURimg<span class=\"token punctuation\">,</span> get_position<span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># image.show()</span>\n    image<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"transpose.jpg\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_blend</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># </span>\n    img <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n    copy_img <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span>transpose<span class=\"token punctuation\">(</span>Image<span class=\"token punctuation\">.</span>FLIP_LEFT_RIGHT<span class=\"token punctuation\">)</span>\n    res_img <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>blend<span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">,</span> copy_img<span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n\n    res_img<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_composite</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># </span>\n    count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    mask_name <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"R\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"G\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"B\"</span><span class=\"token punctuation\">]</span>\n    image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">\"RGBA\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1200</span><span class=\"token punctuation\">,</span><span class=\"token number\">400</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"white\"</span><span class=\"token punctuation\">)</span>\n    thumbnail_im <span class=\"token operator\">=</span> create_thumbnail<span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span> i\n        copy_img <span class=\"token operator\">=</span> thumbnail_im<span class=\"token punctuation\">.</span>transpose<span class=\"token punctuation\">(</span>Image<span class=\"token punctuation\">.</span>FLIP_LEFT_RIGHT<span class=\"token punctuation\">)</span>\n        res_img <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>blend<span class=\"token punctuation\">(</span>thumbnail_im<span class=\"token punctuation\">,</span> copy_img<span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n        my_split <span class=\"token operator\">=</span> res_img<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>composite<span class=\"token punctuation\">(</span>thumbnail_im<span class=\"token punctuation\">,</span> res_img<span class=\"token punctuation\">,</span> my_split<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        CONTOURdraw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">)</span>\n        CONTOURdraw<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>font_posotion<span class=\"token punctuation\">,</span> <span class=\"token string\">\"mask: %s\"</span> <span class=\"token operator\">%</span> mask_name<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">=</span>font<span class=\"token punctuation\">,</span> fill<span class=\"token operator\">=</span>color<span class=\"token punctuation\">)</span>\n        image<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">,</span> get_position<span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n    image<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"composite.jpg\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># image.show()</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_split</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># </span>\n    count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    pic_size <span class=\"token operator\">=</span> get_pic_size<span class=\"token punctuation\">(</span>thumbnail_size<span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MySplit<span class=\"token punctuation\">.</span>SplitList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> row_count<span class=\"token punctuation\">)</span>\n    image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">\"RGBA\"</span><span class=\"token punctuation\">,</span> pic_size<span class=\"token punctuation\">,</span> <span class=\"token string\">\"white\"</span><span class=\"token punctuation\">)</span>\n    thumbnail_im <span class=\"token operator\">=</span> create_thumbnail<span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MySplit<span class=\"token punctuation\">.</span>SplitList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        CONTOURimg <span class=\"token operator\">=</span> thumbnail_im<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        CONTOURdraw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>CONTOURimg<span class=\"token punctuation\">)</span>\n        CONTOURdraw<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>font_posotion<span class=\"token punctuation\">,</span> MySplit<span class=\"token punctuation\">.</span>SplitList<span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">=</span>font<span class=\"token punctuation\">)</span>\n        image<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>CONTOURimg<span class=\"token punctuation\">,</span> get_position<span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\n    <span class=\"token comment\"># image.show()</span>\n    image<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"split.jpg\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># create_transpose(\"res.jpg\")</span>\n    <span class=\"token comment\"># create_split(\"res.jpg\")</span>\n    <span class=\"token comment\"># create_blend(\"res.jpg\")</span>\n    create_composite<span class=\"token punctuation\">(</span><span class=\"token string\">\"res.jpg\"</span><span class=\"token punctuation\">)</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h4 id=\"Transpose-\"><a href=\"#Transpose-\" class=\"headerlink\" title=\"Transpose \"></a>Transpose </h4><ul>\n<li>Object</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20190727215620420.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n<h4 id=\"Blend-\"><a href=\"#Blend-\" class=\"headerlink\" title=\"Blend \"></a>Blend </h4><ul>\n<li><pre><code>\n</code></pre>\n</li>\n<li>ObjectObject55281<blockquote>\n<ul>\n<li>res_img = image1 * (1 - alpha) + image2 * alpha</li>\n</ul>\n</blockquote>\n</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20190727220007302.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n<h4 id=\"Split-RGB\"><a href=\"#Split-RGB\" class=\"headerlink\" title=\"Split RGB\"></a>Split RGB</h4><p>splitObject<br><img src=\"https://img-blog.csdnimg.cn/20190727220155886.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n<h4 id=\"Composite-mask\"><a href=\"#Composite-mask\" class=\"headerlink\" title=\"Composite mask\"></a>Composite mask</h4><ul>\n<li>image1, image2, mask <br>Photoshop123Object<br><img src=\"https://img-blog.csdnimg.cn/20190727220505748.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\">#!/usr/local/env python</span>\n<span class=\"token comment\"># -*- coding: utf-8 -*-</span>\n<span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image<span class=\"token punctuation\">,</span> ImageFont<span class=\"token punctuation\">,</span> ImageDraw\n\nfont_posotion <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span>\ncolor <span class=\"token operator\">=</span>  <span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span>\nfont <span class=\"token operator\">=</span> ImageFont<span class=\"token punctuation\">.</span>truetype<span class=\"token punctuation\">(</span><span class=\"token string\">'Arial.ttf'</span><span class=\"token punctuation\">,</span> size<span class=\"token operator\">=</span><span class=\"token number\">25</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"unic\"</span><span class=\"token punctuation\">)</span>\nthumbnail_size <span class=\"token operator\">=</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span><span class=\"token number\">400</span>\nrow_count <span class=\"token operator\">=</span> <span class=\"token number\">3</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_thumbnail</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    size <span class=\"token operator\">=</span> thumbnail_size\n    im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n\n    im<span class=\"token punctuation\">.</span>thumbnail<span class=\"token punctuation\">(</span>size<span class=\"token punctuation\">,</span> Image<span class=\"token punctuation\">.</span>ANTIALIAS<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> im\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_position</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    width <span class=\"token operator\">=</span> thumbnail_size<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    pic_width <span class=\"token operator\">=</span> width<span class=\"token operator\">*</span>row_count\n    position <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>count <span class=\"token operator\">*</span> width<span class=\"token punctuation\">)</span><span class=\"token operator\">%</span>pic_width<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>count <span class=\"token operator\">*</span> width<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span>pic_width<span class=\"token operator\">*</span>width\n    <span class=\"token keyword\">return</span> position\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_pic_size</span><span class=\"token punctuation\">(</span>thumbnail_size<span class=\"token punctuation\">,</span> pic_num<span class=\"token punctuation\">,</span> row_count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    pic_width <span class=\"token operator\">=</span> thumbnail_size<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> row_count\n    extra_row <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token keyword\">if</span> pic_num <span class=\"token operator\">%</span> row_count <span class=\"token keyword\">else</span> <span class=\"token number\">0</span>\n    pic_height <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>pic_num <span class=\"token operator\">/</span> row_count <span class=\"token operator\">+</span> extra_row<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> thumbnail_size<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">return</span> pic_width<span class=\"token punctuation\">,</span> pic_height\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyTranspose</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    FLIP_LEFT_RIGHT <span class=\"token operator\">=</span> <span class=\"token string\">\"FLIP_LEFT_RIGHT\"</span>\n    FLIP_TOP_BOTTOM <span class=\"token operator\">=</span> <span class=\"token string\">\"FLIP_TOP_BOTTOM\"</span>\n    ROTATE_90 <span class=\"token operator\">=</span> <span class=\"token string\">\"ROTATE_90\"</span>\n    ROTATE_180 <span class=\"token operator\">=</span> <span class=\"token string\">\"ROTATE_180\"</span>\n    ROTATE_270 <span class=\"token operator\">=</span> <span class=\"token string\">\"ROTATE_270\"</span>\n    TRANSPOSE <span class=\"token operator\">=</span> <span class=\"token string\">\"TRANSPOSE\"</span>\n\n    TransposeList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>FLIP_LEFT_RIGHT<span class=\"token punctuation\">,</span>FLIP_TOP_BOTTOM<span class=\"token punctuation\">,</span>ROTATE_90<span class=\"token punctuation\">,</span>ROTATE_180<span class=\"token punctuation\">,</span>ROTATE_270<span class=\"token punctuation\">,</span>TRANSPOSE<span class=\"token punctuation\">]</span>\n    ImageTransposeList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>Image<span class=\"token punctuation\">.</span>FLIP_LEFT_RIGHT<span class=\"token punctuation\">,</span>Image<span class=\"token punctuation\">.</span>FLIP_TOP_BOTTOM<span class=\"token punctuation\">,</span>Image<span class=\"token punctuation\">.</span>ROTATE_90<span class=\"token punctuation\">,</span>\n                          Image<span class=\"token punctuation\">.</span>ROTATE_180<span class=\"token punctuation\">,</span>Image<span class=\"token punctuation\">.</span>ROTATE_270<span class=\"token punctuation\">,</span>Image<span class=\"token punctuation\">.</span>TRANSPOSE<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MySplit</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    R <span class=\"token operator\">=</span> <span class=\"token string\">\"R\"</span>\n    G <span class=\"token operator\">=</span> <span class=\"token string\">\"G\"</span>\n    B <span class=\"token operator\">=</span> <span class=\"token string\">\"B\"</span>\n\n    SplitList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>R<span class=\"token punctuation\">,</span> G<span class=\"token punctuation\">,</span> B<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_transpose</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># </span>\n    count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    pic_size <span class=\"token operator\">=</span> get_pic_size<span class=\"token punctuation\">(</span>thumbnail_size<span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MyTranspose<span class=\"token punctuation\">.</span>TransposeList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> row_count<span class=\"token punctuation\">)</span>\n    image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">\"RGBA\"</span><span class=\"token punctuation\">,</span> pic_size<span class=\"token punctuation\">,</span> <span class=\"token string\">\"white\"</span><span class=\"token punctuation\">)</span>\n    thumbnail_im <span class=\"token operator\">=</span> create_thumbnail<span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MyTranspose<span class=\"token punctuation\">.</span>TransposeList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        img <span class=\"token operator\">=</span> thumbnail_im<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        CONTOURimg <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span>transpose<span class=\"token punctuation\">(</span>MyTranspose<span class=\"token punctuation\">.</span>ImageTransposeList<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        CONTOURdraw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>CONTOURimg<span class=\"token punctuation\">)</span>\n        CONTOURdraw<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>font_posotion<span class=\"token punctuation\">,</span> MyTranspose<span class=\"token punctuation\">.</span>TransposeList<span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">=</span>font<span class=\"token punctuation\">,</span> fill<span class=\"token operator\">=</span>color<span class=\"token punctuation\">)</span>\n        image<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>CONTOURimg<span class=\"token punctuation\">,</span> get_position<span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        count<span class=\"token operator\">+=</span><span class=\"token number\">1</span>\n    CONTOURimg <span class=\"token operator\">=</span> thumbnail_im<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    CONTOURdraw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>CONTOURimg<span class=\"token punctuation\">)</span>\n    CONTOURdraw<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>font_posotion<span class=\"token punctuation\">,</span> <span class=\"token string\">\"ORIGINAL PIC\"</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">=</span>font<span class=\"token punctuation\">,</span> fill<span class=\"token operator\">=</span>color<span class=\"token punctuation\">)</span>\n    image<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>CONTOURimg<span class=\"token punctuation\">,</span> get_position<span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># image.show()</span>\n    image<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"transpose.jpg\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_blend</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># </span>\n    img <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n    copy_img <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span>transpose<span class=\"token punctuation\">(</span>Image<span class=\"token punctuation\">.</span>FLIP_LEFT_RIGHT<span class=\"token punctuation\">)</span>\n    res_img <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>blend<span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">,</span> copy_img<span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n\n    res_img<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_composite</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># </span>\n    count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    mask_name <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"R\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"G\"</span><span class=\"token punctuation\">,</span><span class=\"token string\">\"B\"</span><span class=\"token punctuation\">]</span>\n    image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">\"RGBA\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token number\">1200</span><span class=\"token punctuation\">,</span><span class=\"token number\">400</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"white\"</span><span class=\"token punctuation\">)</span>\n    thumbnail_im <span class=\"token operator\">=</span> create_thumbnail<span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        <span class=\"token keyword\">print</span> i\n        copy_img <span class=\"token operator\">=</span> thumbnail_im<span class=\"token punctuation\">.</span>transpose<span class=\"token punctuation\">(</span>Image<span class=\"token punctuation\">.</span>FLIP_LEFT_RIGHT<span class=\"token punctuation\">)</span>\n        res_img <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>blend<span class=\"token punctuation\">(</span>thumbnail_im<span class=\"token punctuation\">,</span> copy_img<span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n        my_split <span class=\"token operator\">=</span> res_img<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>composite<span class=\"token punctuation\">(</span>thumbnail_im<span class=\"token punctuation\">,</span> res_img<span class=\"token punctuation\">,</span> my_split<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        CONTOURdraw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">)</span>\n        CONTOURdraw<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>font_posotion<span class=\"token punctuation\">,</span> <span class=\"token string\">\"mask: %s\"</span> <span class=\"token operator\">%</span> mask_name<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">=</span>font<span class=\"token punctuation\">,</span> fill<span class=\"token operator\">=</span>color<span class=\"token punctuation\">)</span>\n        image<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">,</span> get_position<span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n    image<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"composite.jpg\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\"># image.show()</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_split</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># </span>\n    count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    pic_size <span class=\"token operator\">=</span> get_pic_size<span class=\"token punctuation\">(</span>thumbnail_size<span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MySplit<span class=\"token punctuation\">.</span>SplitList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> row_count<span class=\"token punctuation\">)</span>\n    image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">\"RGBA\"</span><span class=\"token punctuation\">,</span> pic_size<span class=\"token punctuation\">,</span> <span class=\"token string\">\"white\"</span><span class=\"token punctuation\">)</span>\n    thumbnail_im <span class=\"token operator\">=</span> create_thumbnail<span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MySplit<span class=\"token punctuation\">.</span>SplitList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        CONTOURimg <span class=\"token operator\">=</span> thumbnail_im<span class=\"token punctuation\">.</span>split<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        CONTOURdraw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>CONTOURimg<span class=\"token punctuation\">)</span>\n        CONTOURdraw<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>font_posotion<span class=\"token punctuation\">,</span> MySplit<span class=\"token punctuation\">.</span>SplitList<span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">=</span>font<span class=\"token punctuation\">)</span>\n        image<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>CONTOURimg<span class=\"token punctuation\">,</span> get_position<span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\n    <span class=\"token comment\"># image.show()</span>\n    image<span class=\"token punctuation\">.</span>save<span class=\"token punctuation\">(</span><span class=\"token string\">\"split.jpg\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># create_transpose(\"res.jpg\")</span>\n    <span class=\"token comment\"># create_split(\"res.jpg\")</span>\n    <span class=\"token comment\"># create_blend(\"res.jpg\")</span>\n    create_composite<span class=\"token punctuation\">(</span><span class=\"token string\">\"res.jpg\"</span><span class=\"token punctuation\">)</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n"},{"title":"Python-PILMode,ImageFilter","comments":1,"date":"2021-03-07T11:38:56.000Z","author":null,"_content":"\n#### \n-  Object(???)\n\n![](https://img-blog.csdnimg.cn/20190727193629193.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n\n#### mode\n- mode?\n\n| modes |  |\n| --- | --- |\n| 1 | 18 |\n| L | 8 |\n| P | 8 |\n| RGB | 3*8 |\n| RGBA | 4*8+ |\n| CMYK | 4*8 |\n| YCbCr | 3*8 |\n| I | 32 |\n| F | 32 |\n| RGBX | padding |\n| HSV |  |\n![](https://img-blog.csdnimg.cn/20190727193538101.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n#### \n- \n\n| Filter |  |\n|--|--|\n| BLUR |  |\n| CONTOUR |  |\n| DETAIL |  |\n| EDGE_ENHANCE |  |\n| EDGE_ENHANCE_MORE |  |\n| EMBOSS |  |\n| FIND_EDGES |  |\n| SMOOTH |  |\n| SMOOTH_MORE |  |\n| SHARPEN |  |\n\n![](https://img-blog.csdnimg.cn/2019072719355829.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n#### \n```python\n#!/usr/local/env python\n# -*- coding: utf-8 -*-\nfrom PIL import Image, ImageDraw, ImageFont, ImageFilter\n\nfont_posotion = 20,20\ncolor =  255,0,0,255\nfont = ImageFont.truetype('Arial.ttf', size=25, encoding=\"unic\")\nthumbnail_size = 400,400\nrow_count = 4\n\n\ndef create_thumbnail(src_file):\n    size = thumbnail_size\n    im = Image.open(src_file)\n\n    im.thumbnail(size, Image.ANTIALIAS)\n    return im\n\n\nclass MyFilter(object):\n    BLUR = \"BLUR\"\n    CONTOUR = \"CONTOUR\"\n    DETAIL = \"DETAIL\"\n    EDGE_ENHANCE = \"EDGE_ENHANCE\"\n    EDGE_ENHANCE_MORE = \"EDGE_ENHANCE_MORE\"\n    EMBOSS = \"EMBOSS\"\n    FIND_EDGES = \"FIND_EDGES\"\n    SMOOTH = \"SMOOTH\"\n    SMOOTH_MORE = \"SMOOTH_MORE\"\n    SHARPEN = \"SHARPEN\"\n\n    FilterList = [BLUR, CONTOUR, DETAIL,\n                  EDGE_ENHANCE, EDGE_ENHANCE_MORE, EMBOSS,\n                  FIND_EDGES, SMOOTH, SMOOTH_MORE,\n                  SHARPEN]\n\n    ImageFilterList = [ImageFilter.BLUR, ImageFilter.CONTOUR, ImageFilter.DETAIL,\n                       ImageFilter.EDGE_ENHANCE, ImageFilter.EDGE_ENHANCE_MORE, ImageFilter.EMBOSS,\n                       ImageFilter.FIND_EDGES, ImageFilter.SMOOTH, ImageFilter.SMOOTH_MORE,\n                       ImageFilter.SHARPEN]\n\nclass MyMode(object):\n    MODE1 = \"1\"\n    L = \"L\"\n    I = \"I\"\n    F = \"F\"\n    P = \"P\"\n    RGB = \"RGB\"\n    RGBX = \"RGBX\"\n    RGBA = \"RGBA\"\n    CMYK = \"CMYK\"\n    YCbCr = \"YCbCr\"\n    # LAB = \"LAB\"\n    HSV = \"HSV\"\n\n    ModeList = [MODE1, L, I, F, P, RGB, RGBX, RGBA, CMYK, YCbCr, HSV]\n\ndef get_position(count):\n\n    width = thumbnail_size[0]\n    pic_width = width*row_count\n    position = (count * width)%pic_width, (count * width)/pic_width*width\n    return position\n\ndef get_pic_size(thumbnail_size, pic_num, row_count):\n    pic_width = thumbnail_size[0] * row_count\n    extra_row = 1 if pic_num % row_count else 0\n    pic_height = (pic_num / row_count + extra_row) * thumbnail_size[1]\n\n    return pic_width, pic_height\n\ndef create_filter(src_file):\n    count = 0\n    pic_size = get_pic_size(thumbnail_size, len(MyFilter.FilterList), row_count)\n    image = Image.new(\"RGBA\", pic_size, \"white\")\n    thumbnail_im = create_thumbnail(src_file)\n\n    for i in range(0, len(MyFilter.FilterList)):\n        CONTOURimg = thumbnail_im.copy()\n        CONTOUR = CONTOURimg.filter(MyFilter.ImageFilterList[count])\n        CONTOURdraw = ImageDraw.Draw(CONTOUR)\n        CONTOURdraw.text(font_posotion, MyFilter.FilterList[count], font=font, fill=color)\n        image.paste(CONTOUR, get_position(count))\n        count += 1\n\n    # image.save(\"filter.jpg\")\n    image.show()\n\ndef create_mode(src_file):\n    count = 0\n    pic_size = get_pic_size(thumbnail_size, len(MyMode.ModeList), row_count)\n    image = Image.new(\"RGBA\", pic_size, \"white\")\n    thumbnail_im = create_thumbnail(src_file)\n\n    for i in range(0, len(MyMode.ModeList)):\n        img = thumbnail_im.copy()\n        CONTOURdraw = ImageDraw.Draw(img)\n        CONTOURdraw.text(font_posotion, MyMode.ModeList[count], font=font, fill=color)\n\n        CONTOUR = img.convert(MyMode.ModeList[i])\n\n        image.paste(CONTOUR, get_position(count))\n        count += 1\n\n    # image.save(\"mode.jpg\")\n    image.show()\n\n\nif __name__ == '__main__':\n    create_mode(\"res.jpg\")\n    create_filter(\"res.jpg\")\n    \n\n```\n","source":"_posts/2021-03-07-Python-PILMode-ImageFilter.md","raw":"---\ntitle: 'Python-PILMode,ImageFilter'\ncomments: true\ndate: 2021-03-07 19:38:56\nauthor:\ntags:\n - Python\n - PIL\ncategories:\n - \n---\n\n#### \n-  Object(???)\n\n![](https://img-blog.csdnimg.cn/20190727193629193.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n\n#### mode\n- mode?\n\n| modes |  |\n| --- | --- |\n| 1 | 18 |\n| L | 8 |\n| P | 8 |\n| RGB | 3*8 |\n| RGBA | 4*8+ |\n| CMYK | 4*8 |\n| YCbCr | 3*8 |\n| I | 32 |\n| F | 32 |\n| RGBX | padding |\n| HSV |  |\n![](https://img-blog.csdnimg.cn/20190727193538101.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n#### \n- \n\n| Filter |  |\n|--|--|\n| BLUR |  |\n| CONTOUR |  |\n| DETAIL |  |\n| EDGE_ENHANCE |  |\n| EDGE_ENHANCE_MORE |  |\n| EMBOSS |  |\n| FIND_EDGES |  |\n| SMOOTH |  |\n| SMOOTH_MORE |  |\n| SHARPEN |  |\n\n![](https://img-blog.csdnimg.cn/2019072719355829.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n#### \n```python\n#!/usr/local/env python\n# -*- coding: utf-8 -*-\nfrom PIL import Image, ImageDraw, ImageFont, ImageFilter\n\nfont_posotion = 20,20\ncolor =  255,0,0,255\nfont = ImageFont.truetype('Arial.ttf', size=25, encoding=\"unic\")\nthumbnail_size = 400,400\nrow_count = 4\n\n\ndef create_thumbnail(src_file):\n    size = thumbnail_size\n    im = Image.open(src_file)\n\n    im.thumbnail(size, Image.ANTIALIAS)\n    return im\n\n\nclass MyFilter(object):\n    BLUR = \"BLUR\"\n    CONTOUR = \"CONTOUR\"\n    DETAIL = \"DETAIL\"\n    EDGE_ENHANCE = \"EDGE_ENHANCE\"\n    EDGE_ENHANCE_MORE = \"EDGE_ENHANCE_MORE\"\n    EMBOSS = \"EMBOSS\"\n    FIND_EDGES = \"FIND_EDGES\"\n    SMOOTH = \"SMOOTH\"\n    SMOOTH_MORE = \"SMOOTH_MORE\"\n    SHARPEN = \"SHARPEN\"\n\n    FilterList = [BLUR, CONTOUR, DETAIL,\n                  EDGE_ENHANCE, EDGE_ENHANCE_MORE, EMBOSS,\n                  FIND_EDGES, SMOOTH, SMOOTH_MORE,\n                  SHARPEN]\n\n    ImageFilterList = [ImageFilter.BLUR, ImageFilter.CONTOUR, ImageFilter.DETAIL,\n                       ImageFilter.EDGE_ENHANCE, ImageFilter.EDGE_ENHANCE_MORE, ImageFilter.EMBOSS,\n                       ImageFilter.FIND_EDGES, ImageFilter.SMOOTH, ImageFilter.SMOOTH_MORE,\n                       ImageFilter.SHARPEN]\n\nclass MyMode(object):\n    MODE1 = \"1\"\n    L = \"L\"\n    I = \"I\"\n    F = \"F\"\n    P = \"P\"\n    RGB = \"RGB\"\n    RGBX = \"RGBX\"\n    RGBA = \"RGBA\"\n    CMYK = \"CMYK\"\n    YCbCr = \"YCbCr\"\n    # LAB = \"LAB\"\n    HSV = \"HSV\"\n\n    ModeList = [MODE1, L, I, F, P, RGB, RGBX, RGBA, CMYK, YCbCr, HSV]\n\ndef get_position(count):\n\n    width = thumbnail_size[0]\n    pic_width = width*row_count\n    position = (count * width)%pic_width, (count * width)/pic_width*width\n    return position\n\ndef get_pic_size(thumbnail_size, pic_num, row_count):\n    pic_width = thumbnail_size[0] * row_count\n    extra_row = 1 if pic_num % row_count else 0\n    pic_height = (pic_num / row_count + extra_row) * thumbnail_size[1]\n\n    return pic_width, pic_height\n\ndef create_filter(src_file):\n    count = 0\n    pic_size = get_pic_size(thumbnail_size, len(MyFilter.FilterList), row_count)\n    image = Image.new(\"RGBA\", pic_size, \"white\")\n    thumbnail_im = create_thumbnail(src_file)\n\n    for i in range(0, len(MyFilter.FilterList)):\n        CONTOURimg = thumbnail_im.copy()\n        CONTOUR = CONTOURimg.filter(MyFilter.ImageFilterList[count])\n        CONTOURdraw = ImageDraw.Draw(CONTOUR)\n        CONTOURdraw.text(font_posotion, MyFilter.FilterList[count], font=font, fill=color)\n        image.paste(CONTOUR, get_position(count))\n        count += 1\n\n    # image.save(\"filter.jpg\")\n    image.show()\n\ndef create_mode(src_file):\n    count = 0\n    pic_size = get_pic_size(thumbnail_size, len(MyMode.ModeList), row_count)\n    image = Image.new(\"RGBA\", pic_size, \"white\")\n    thumbnail_im = create_thumbnail(src_file)\n\n    for i in range(0, len(MyMode.ModeList)):\n        img = thumbnail_im.copy()\n        CONTOURdraw = ImageDraw.Draw(img)\n        CONTOURdraw.text(font_posotion, MyMode.ModeList[count], font=font, fill=color)\n\n        CONTOUR = img.convert(MyMode.ModeList[i])\n\n        image.paste(CONTOUR, get_position(count))\n        count += 1\n\n    # image.save(\"mode.jpg\")\n    image.show()\n\n\nif __name__ == '__main__':\n    create_mode(\"res.jpg\")\n    create_filter(\"res.jpg\")\n    \n\n```\n","slug":"Python-PILMode-ImageFilter","published":1,"updated":"2021-03-07T11:39:37.839Z","_id":"cklz31iqm0014jvs6c29jbj5i","layout":"post","photos":[],"link":"","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> Object(???)</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20190727193629193.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n<h4 id=\"mode\"><a href=\"#mode\" class=\"headerlink\" title=\"mode\"></a>mode</h4><ul>\n<li>mode?</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>modes</th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>18</td>\n</tr>\n<tr>\n<td>L</td>\n<td>8</td>\n</tr>\n<tr>\n<td>P</td>\n<td>8</td>\n</tr>\n<tr>\n<td>RGB</td>\n<td>3*8</td>\n</tr>\n<tr>\n<td>RGBA</td>\n<td>4*8+</td>\n</tr>\n<tr>\n<td>CMYK</td>\n<td>4*8</td>\n</tr>\n<tr>\n<td>YCbCr</td>\n<td>3*8</td>\n</tr>\n<tr>\n<td>I</td>\n<td>32</td>\n</tr>\n<tr>\n<td>F</td>\n<td>32</td>\n</tr>\n<tr>\n<td>RGBX</td>\n<td>padding</td>\n</tr>\n<tr>\n<td>HSV</td>\n<td></td>\n</tr>\n<tr>\n<td><img src=\"https://img-blog.csdnimg.cn/20190727193538101.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>Filter</th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>BLUR</td>\n<td></td>\n</tr>\n<tr>\n<td>CONTOUR</td>\n<td></td>\n</tr>\n<tr>\n<td>DETAIL</td>\n<td></td>\n</tr>\n<tr>\n<td>EDGE_ENHANCE</td>\n<td></td>\n</tr>\n<tr>\n<td>EDGE_ENHANCE_MORE</td>\n<td></td>\n</tr>\n<tr>\n<td>EMBOSS</td>\n<td></td>\n</tr>\n<tr>\n<td>FIND_EDGES</td>\n<td></td>\n</tr>\n<tr>\n<td>SMOOTH</td>\n<td></td>\n</tr>\n<tr>\n<td>SMOOTH_MORE</td>\n<td></td>\n</tr>\n<tr>\n<td>SHARPEN</td>\n<td></td>\n</tr>\n</tbody></table>\n<p><img src=\"https://img-blog.csdnimg.cn/2019072719355829.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\">#!/usr/local/env python</span>\n<span class=\"token comment\"># -*- coding: utf-8 -*-</span>\n<span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image<span class=\"token punctuation\">,</span> ImageDraw<span class=\"token punctuation\">,</span> ImageFont<span class=\"token punctuation\">,</span> ImageFilter\n\nfont_posotion <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span>\ncolor <span class=\"token operator\">=</span>  <span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span>\nfont <span class=\"token operator\">=</span> ImageFont<span class=\"token punctuation\">.</span>truetype<span class=\"token punctuation\">(</span><span class=\"token string\">'Arial.ttf'</span><span class=\"token punctuation\">,</span> size<span class=\"token operator\">=</span><span class=\"token number\">25</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"unic\"</span><span class=\"token punctuation\">)</span>\nthumbnail_size <span class=\"token operator\">=</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span><span class=\"token number\">400</span>\nrow_count <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_thumbnail</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    size <span class=\"token operator\">=</span> thumbnail_size\n    im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n\n    im<span class=\"token punctuation\">.</span>thumbnail<span class=\"token punctuation\">(</span>size<span class=\"token punctuation\">,</span> Image<span class=\"token punctuation\">.</span>ANTIALIAS<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> im\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyFilter</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    BLUR <span class=\"token operator\">=</span> <span class=\"token string\">\"BLUR\"</span>\n    CONTOUR <span class=\"token operator\">=</span> <span class=\"token string\">\"CONTOUR\"</span>\n    DETAIL <span class=\"token operator\">=</span> <span class=\"token string\">\"DETAIL\"</span>\n    EDGE_ENHANCE <span class=\"token operator\">=</span> <span class=\"token string\">\"EDGE_ENHANCE\"</span>\n    EDGE_ENHANCE_MORE <span class=\"token operator\">=</span> <span class=\"token string\">\"EDGE_ENHANCE_MORE\"</span>\n    EMBOSS <span class=\"token operator\">=</span> <span class=\"token string\">\"EMBOSS\"</span>\n    FIND_EDGES <span class=\"token operator\">=</span> <span class=\"token string\">\"FIND_EDGES\"</span>\n    SMOOTH <span class=\"token operator\">=</span> <span class=\"token string\">\"SMOOTH\"</span>\n    SMOOTH_MORE <span class=\"token operator\">=</span> <span class=\"token string\">\"SMOOTH_MORE\"</span>\n    SHARPEN <span class=\"token operator\">=</span> <span class=\"token string\">\"SHARPEN\"</span>\n\n    FilterList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>BLUR<span class=\"token punctuation\">,</span> CONTOUR<span class=\"token punctuation\">,</span> DETAIL<span class=\"token punctuation\">,</span>\n                  EDGE_ENHANCE<span class=\"token punctuation\">,</span> EDGE_ENHANCE_MORE<span class=\"token punctuation\">,</span> EMBOSS<span class=\"token punctuation\">,</span>\n                  FIND_EDGES<span class=\"token punctuation\">,</span> SMOOTH<span class=\"token punctuation\">,</span> SMOOTH_MORE<span class=\"token punctuation\">,</span>\n                  SHARPEN<span class=\"token punctuation\">]</span>\n\n    ImageFilterList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>ImageFilter<span class=\"token punctuation\">.</span>BLUR<span class=\"token punctuation\">,</span> ImageFilter<span class=\"token punctuation\">.</span>CONTOUR<span class=\"token punctuation\">,</span> ImageFilter<span class=\"token punctuation\">.</span>DETAIL<span class=\"token punctuation\">,</span>\n                       ImageFilter<span class=\"token punctuation\">.</span>EDGE_ENHANCE<span class=\"token punctuation\">,</span> ImageFilter<span class=\"token punctuation\">.</span>EDGE_ENHANCE_MORE<span class=\"token punctuation\">,</span> ImageFilter<span class=\"token punctuation\">.</span>EMBOSS<span class=\"token punctuation\">,</span>\n                       ImageFilter<span class=\"token punctuation\">.</span>FIND_EDGES<span class=\"token punctuation\">,</span> ImageFilter<span class=\"token punctuation\">.</span>SMOOTH<span class=\"token punctuation\">,</span> ImageFilter<span class=\"token punctuation\">.</span>SMOOTH_MORE<span class=\"token punctuation\">,</span>\n                       ImageFilter<span class=\"token punctuation\">.</span>SHARPEN<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyMode</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    MODE1 <span class=\"token operator\">=</span> <span class=\"token string\">\"1\"</span>\n    L <span class=\"token operator\">=</span> <span class=\"token string\">\"L\"</span>\n    I <span class=\"token operator\">=</span> <span class=\"token string\">\"I\"</span>\n    F <span class=\"token operator\">=</span> <span class=\"token string\">\"F\"</span>\n    P <span class=\"token operator\">=</span> <span class=\"token string\">\"P\"</span>\n    RGB <span class=\"token operator\">=</span> <span class=\"token string\">\"RGB\"</span>\n    RGBX <span class=\"token operator\">=</span> <span class=\"token string\">\"RGBX\"</span>\n    RGBA <span class=\"token operator\">=</span> <span class=\"token string\">\"RGBA\"</span>\n    CMYK <span class=\"token operator\">=</span> <span class=\"token string\">\"CMYK\"</span>\n    YCbCr <span class=\"token operator\">=</span> <span class=\"token string\">\"YCbCr\"</span>\n    <span class=\"token comment\"># LAB = \"LAB\"</span>\n    HSV <span class=\"token operator\">=</span> <span class=\"token string\">\"HSV\"</span>\n\n    ModeList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>MODE1<span class=\"token punctuation\">,</span> L<span class=\"token punctuation\">,</span> I<span class=\"token punctuation\">,</span> F<span class=\"token punctuation\">,</span> P<span class=\"token punctuation\">,</span> RGB<span class=\"token punctuation\">,</span> RGBX<span class=\"token punctuation\">,</span> RGBA<span class=\"token punctuation\">,</span> CMYK<span class=\"token punctuation\">,</span> YCbCr<span class=\"token punctuation\">,</span> HSV<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_position</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    width <span class=\"token operator\">=</span> thumbnail_size<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    pic_width <span class=\"token operator\">=</span> width<span class=\"token operator\">*</span>row_count\n    position <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>count <span class=\"token operator\">*</span> width<span class=\"token punctuation\">)</span><span class=\"token operator\">%</span>pic_width<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>count <span class=\"token operator\">*</span> width<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span>pic_width<span class=\"token operator\">*</span>width\n    <span class=\"token keyword\">return</span> position\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_pic_size</span><span class=\"token punctuation\">(</span>thumbnail_size<span class=\"token punctuation\">,</span> pic_num<span class=\"token punctuation\">,</span> row_count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    pic_width <span class=\"token operator\">=</span> thumbnail_size<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> row_count\n    extra_row <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token keyword\">if</span> pic_num <span class=\"token operator\">%</span> row_count <span class=\"token keyword\">else</span> <span class=\"token number\">0</span>\n    pic_height <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>pic_num <span class=\"token operator\">/</span> row_count <span class=\"token operator\">+</span> extra_row<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> thumbnail_size<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">return</span> pic_width<span class=\"token punctuation\">,</span> pic_height\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_filter</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    pic_size <span class=\"token operator\">=</span> get_pic_size<span class=\"token punctuation\">(</span>thumbnail_size<span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MyFilter<span class=\"token punctuation\">.</span>FilterList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> row_count<span class=\"token punctuation\">)</span>\n    image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">\"RGBA\"</span><span class=\"token punctuation\">,</span> pic_size<span class=\"token punctuation\">,</span> <span class=\"token string\">\"white\"</span><span class=\"token punctuation\">)</span>\n    thumbnail_im <span class=\"token operator\">=</span> create_thumbnail<span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MyFilter<span class=\"token punctuation\">.</span>FilterList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        CONTOURimg <span class=\"token operator\">=</span> thumbnail_im<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        CONTOUR <span class=\"token operator\">=</span> CONTOURimg<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>MyFilter<span class=\"token punctuation\">.</span>ImageFilterList<span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        CONTOURdraw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>CONTOUR<span class=\"token punctuation\">)</span>\n        CONTOURdraw<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>font_posotion<span class=\"token punctuation\">,</span> MyFilter<span class=\"token punctuation\">.</span>FilterList<span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">=</span>font<span class=\"token punctuation\">,</span> fill<span class=\"token operator\">=</span>color<span class=\"token punctuation\">)</span>\n        image<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>CONTOUR<span class=\"token punctuation\">,</span> get_position<span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\n    <span class=\"token comment\"># image.save(\"filter.jpg\")</span>\n    image<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_mode</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    pic_size <span class=\"token operator\">=</span> get_pic_size<span class=\"token punctuation\">(</span>thumbnail_size<span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MyMode<span class=\"token punctuation\">.</span>ModeList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> row_count<span class=\"token punctuation\">)</span>\n    image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">\"RGBA\"</span><span class=\"token punctuation\">,</span> pic_size<span class=\"token punctuation\">,</span> <span class=\"token string\">\"white\"</span><span class=\"token punctuation\">)</span>\n    thumbnail_im <span class=\"token operator\">=</span> create_thumbnail<span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MyMode<span class=\"token punctuation\">.</span>ModeList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        img <span class=\"token operator\">=</span> thumbnail_im<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        CONTOURdraw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span>\n        CONTOURdraw<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>font_posotion<span class=\"token punctuation\">,</span> MyMode<span class=\"token punctuation\">.</span>ModeList<span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">=</span>font<span class=\"token punctuation\">,</span> fill<span class=\"token operator\">=</span>color<span class=\"token punctuation\">)</span>\n\n        CONTOUR <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span>convert<span class=\"token punctuation\">(</span>MyMode<span class=\"token punctuation\">.</span>ModeList<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n        image<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>CONTOUR<span class=\"token punctuation\">,</span> get_position<span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\n    <span class=\"token comment\"># image.save(\"mode.jpg\")</span>\n    image<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    create_mode<span class=\"token punctuation\">(</span><span class=\"token string\">\"res.jpg\"</span><span class=\"token punctuation\">)</span>\n    create_filter<span class=\"token punctuation\">(</span><span class=\"token string\">\"res.jpg\"</span><span class=\"token punctuation\">)</span>\n    \n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li> Object(???)</li>\n</ul>\n<p><img src=\"https://img-blog.csdnimg.cn/20190727193629193.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n<h4 id=\"mode\"><a href=\"#mode\" class=\"headerlink\" title=\"mode\"></a>mode</h4><ul>\n<li>mode?</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>modes</th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>1</td>\n<td>18</td>\n</tr>\n<tr>\n<td>L</td>\n<td>8</td>\n</tr>\n<tr>\n<td>P</td>\n<td>8</td>\n</tr>\n<tr>\n<td>RGB</td>\n<td>3*8</td>\n</tr>\n<tr>\n<td>RGBA</td>\n<td>4*8+</td>\n</tr>\n<tr>\n<td>CMYK</td>\n<td>4*8</td>\n</tr>\n<tr>\n<td>YCbCr</td>\n<td>3*8</td>\n</tr>\n<tr>\n<td>I</td>\n<td>32</td>\n</tr>\n<tr>\n<td>F</td>\n<td>32</td>\n</tr>\n<tr>\n<td>RGBX</td>\n<td>padding</td>\n</tr>\n<tr>\n<td>HSV</td>\n<td></td>\n</tr>\n<tr>\n<td><img src=\"https://img-blog.csdnimg.cn/20190727193538101.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li></li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>Filter</th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>BLUR</td>\n<td></td>\n</tr>\n<tr>\n<td>CONTOUR</td>\n<td></td>\n</tr>\n<tr>\n<td>DETAIL</td>\n<td></td>\n</tr>\n<tr>\n<td>EDGE_ENHANCE</td>\n<td></td>\n</tr>\n<tr>\n<td>EDGE_ENHANCE_MORE</td>\n<td></td>\n</tr>\n<tr>\n<td>EMBOSS</td>\n<td></td>\n</tr>\n<tr>\n<td>FIND_EDGES</td>\n<td></td>\n</tr>\n<tr>\n<td>SMOOTH</td>\n<td></td>\n</tr>\n<tr>\n<td>SMOOTH_MORE</td>\n<td></td>\n</tr>\n<tr>\n<td>SHARPEN</td>\n<td></td>\n</tr>\n</tbody></table>\n<p><img src=\"https://img-blog.csdnimg.cn/2019072719355829.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\">#!/usr/local/env python</span>\n<span class=\"token comment\"># -*- coding: utf-8 -*-</span>\n<span class=\"token keyword\">from</span> PIL <span class=\"token keyword\">import</span> Image<span class=\"token punctuation\">,</span> ImageDraw<span class=\"token punctuation\">,</span> ImageFont<span class=\"token punctuation\">,</span> ImageFilter\n\nfont_posotion <span class=\"token operator\">=</span> <span class=\"token number\">20</span><span class=\"token punctuation\">,</span><span class=\"token number\">20</span>\ncolor <span class=\"token operator\">=</span>  <span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">255</span>\nfont <span class=\"token operator\">=</span> ImageFont<span class=\"token punctuation\">.</span>truetype<span class=\"token punctuation\">(</span><span class=\"token string\">'Arial.ttf'</span><span class=\"token punctuation\">,</span> size<span class=\"token operator\">=</span><span class=\"token number\">25</span><span class=\"token punctuation\">,</span> encoding<span class=\"token operator\">=</span><span class=\"token string\">\"unic\"</span><span class=\"token punctuation\">)</span>\nthumbnail_size <span class=\"token operator\">=</span> <span class=\"token number\">400</span><span class=\"token punctuation\">,</span><span class=\"token number\">400</span>\nrow_count <span class=\"token operator\">=</span> <span class=\"token number\">4</span>\n\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_thumbnail</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    size <span class=\"token operator\">=</span> thumbnail_size\n    im <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span><span class=\"token builtin\">open</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n\n    im<span class=\"token punctuation\">.</span>thumbnail<span class=\"token punctuation\">(</span>size<span class=\"token punctuation\">,</span> Image<span class=\"token punctuation\">.</span>ANTIALIAS<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> im\n\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyFilter</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    BLUR <span class=\"token operator\">=</span> <span class=\"token string\">\"BLUR\"</span>\n    CONTOUR <span class=\"token operator\">=</span> <span class=\"token string\">\"CONTOUR\"</span>\n    DETAIL <span class=\"token operator\">=</span> <span class=\"token string\">\"DETAIL\"</span>\n    EDGE_ENHANCE <span class=\"token operator\">=</span> <span class=\"token string\">\"EDGE_ENHANCE\"</span>\n    EDGE_ENHANCE_MORE <span class=\"token operator\">=</span> <span class=\"token string\">\"EDGE_ENHANCE_MORE\"</span>\n    EMBOSS <span class=\"token operator\">=</span> <span class=\"token string\">\"EMBOSS\"</span>\n    FIND_EDGES <span class=\"token operator\">=</span> <span class=\"token string\">\"FIND_EDGES\"</span>\n    SMOOTH <span class=\"token operator\">=</span> <span class=\"token string\">\"SMOOTH\"</span>\n    SMOOTH_MORE <span class=\"token operator\">=</span> <span class=\"token string\">\"SMOOTH_MORE\"</span>\n    SHARPEN <span class=\"token operator\">=</span> <span class=\"token string\">\"SHARPEN\"</span>\n\n    FilterList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>BLUR<span class=\"token punctuation\">,</span> CONTOUR<span class=\"token punctuation\">,</span> DETAIL<span class=\"token punctuation\">,</span>\n                  EDGE_ENHANCE<span class=\"token punctuation\">,</span> EDGE_ENHANCE_MORE<span class=\"token punctuation\">,</span> EMBOSS<span class=\"token punctuation\">,</span>\n                  FIND_EDGES<span class=\"token punctuation\">,</span> SMOOTH<span class=\"token punctuation\">,</span> SMOOTH_MORE<span class=\"token punctuation\">,</span>\n                  SHARPEN<span class=\"token punctuation\">]</span>\n\n    ImageFilterList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>ImageFilter<span class=\"token punctuation\">.</span>BLUR<span class=\"token punctuation\">,</span> ImageFilter<span class=\"token punctuation\">.</span>CONTOUR<span class=\"token punctuation\">,</span> ImageFilter<span class=\"token punctuation\">.</span>DETAIL<span class=\"token punctuation\">,</span>\n                       ImageFilter<span class=\"token punctuation\">.</span>EDGE_ENHANCE<span class=\"token punctuation\">,</span> ImageFilter<span class=\"token punctuation\">.</span>EDGE_ENHANCE_MORE<span class=\"token punctuation\">,</span> ImageFilter<span class=\"token punctuation\">.</span>EMBOSS<span class=\"token punctuation\">,</span>\n                       ImageFilter<span class=\"token punctuation\">.</span>FIND_EDGES<span class=\"token punctuation\">,</span> ImageFilter<span class=\"token punctuation\">.</span>SMOOTH<span class=\"token punctuation\">,</span> ImageFilter<span class=\"token punctuation\">.</span>SMOOTH_MORE<span class=\"token punctuation\">,</span>\n                       ImageFilter<span class=\"token punctuation\">.</span>SHARPEN<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">MyMode</span><span class=\"token punctuation\">(</span><span class=\"token builtin\">object</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    MODE1 <span class=\"token operator\">=</span> <span class=\"token string\">\"1\"</span>\n    L <span class=\"token operator\">=</span> <span class=\"token string\">\"L\"</span>\n    I <span class=\"token operator\">=</span> <span class=\"token string\">\"I\"</span>\n    F <span class=\"token operator\">=</span> <span class=\"token string\">\"F\"</span>\n    P <span class=\"token operator\">=</span> <span class=\"token string\">\"P\"</span>\n    RGB <span class=\"token operator\">=</span> <span class=\"token string\">\"RGB\"</span>\n    RGBX <span class=\"token operator\">=</span> <span class=\"token string\">\"RGBX\"</span>\n    RGBA <span class=\"token operator\">=</span> <span class=\"token string\">\"RGBA\"</span>\n    CMYK <span class=\"token operator\">=</span> <span class=\"token string\">\"CMYK\"</span>\n    YCbCr <span class=\"token operator\">=</span> <span class=\"token string\">\"YCbCr\"</span>\n    <span class=\"token comment\"># LAB = \"LAB\"</span>\n    HSV <span class=\"token operator\">=</span> <span class=\"token string\">\"HSV\"</span>\n\n    ModeList <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>MODE1<span class=\"token punctuation\">,</span> L<span class=\"token punctuation\">,</span> I<span class=\"token punctuation\">,</span> F<span class=\"token punctuation\">,</span> P<span class=\"token punctuation\">,</span> RGB<span class=\"token punctuation\">,</span> RGBX<span class=\"token punctuation\">,</span> RGBA<span class=\"token punctuation\">,</span> CMYK<span class=\"token punctuation\">,</span> YCbCr<span class=\"token punctuation\">,</span> HSV<span class=\"token punctuation\">]</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_position</span><span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n\n    width <span class=\"token operator\">=</span> thumbnail_size<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    pic_width <span class=\"token operator\">=</span> width<span class=\"token operator\">*</span>row_count\n    position <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>count <span class=\"token operator\">*</span> width<span class=\"token punctuation\">)</span><span class=\"token operator\">%</span>pic_width<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>count <span class=\"token operator\">*</span> width<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span>pic_width<span class=\"token operator\">*</span>width\n    <span class=\"token keyword\">return</span> position\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">get_pic_size</span><span class=\"token punctuation\">(</span>thumbnail_size<span class=\"token punctuation\">,</span> pic_num<span class=\"token punctuation\">,</span> row_count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    pic_width <span class=\"token operator\">=</span> thumbnail_size<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">*</span> row_count\n    extra_row <span class=\"token operator\">=</span> <span class=\"token number\">1</span> <span class=\"token keyword\">if</span> pic_num <span class=\"token operator\">%</span> row_count <span class=\"token keyword\">else</span> <span class=\"token number\">0</span>\n    pic_height <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>pic_num <span class=\"token operator\">/</span> row_count <span class=\"token operator\">+</span> extra_row<span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> thumbnail_size<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n\n    <span class=\"token keyword\">return</span> pic_width<span class=\"token punctuation\">,</span> pic_height\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_filter</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    pic_size <span class=\"token operator\">=</span> get_pic_size<span class=\"token punctuation\">(</span>thumbnail_size<span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MyFilter<span class=\"token punctuation\">.</span>FilterList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> row_count<span class=\"token punctuation\">)</span>\n    image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">\"RGBA\"</span><span class=\"token punctuation\">,</span> pic_size<span class=\"token punctuation\">,</span> <span class=\"token string\">\"white\"</span><span class=\"token punctuation\">)</span>\n    thumbnail_im <span class=\"token operator\">=</span> create_thumbnail<span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MyFilter<span class=\"token punctuation\">.</span>FilterList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        CONTOURimg <span class=\"token operator\">=</span> thumbnail_im<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        CONTOUR <span class=\"token operator\">=</span> CONTOURimg<span class=\"token punctuation\">.</span><span class=\"token builtin\">filter</span><span class=\"token punctuation\">(</span>MyFilter<span class=\"token punctuation\">.</span>ImageFilterList<span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        CONTOURdraw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>CONTOUR<span class=\"token punctuation\">)</span>\n        CONTOURdraw<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>font_posotion<span class=\"token punctuation\">,</span> MyFilter<span class=\"token punctuation\">.</span>FilterList<span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">=</span>font<span class=\"token punctuation\">,</span> fill<span class=\"token operator\">=</span>color<span class=\"token punctuation\">)</span>\n        image<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>CONTOUR<span class=\"token punctuation\">,</span> get_position<span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\n    <span class=\"token comment\"># image.save(\"filter.jpg\")</span>\n    image<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">def</span> <span class=\"token function\">create_mode</span><span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    count <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    pic_size <span class=\"token operator\">=</span> get_pic_size<span class=\"token punctuation\">(</span>thumbnail_size<span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MyMode<span class=\"token punctuation\">.</span>ModeList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> row_count<span class=\"token punctuation\">)</span>\n    image <span class=\"token operator\">=</span> Image<span class=\"token punctuation\">.</span>new<span class=\"token punctuation\">(</span><span class=\"token string\">\"RGBA\"</span><span class=\"token punctuation\">,</span> pic_size<span class=\"token punctuation\">,</span> <span class=\"token string\">\"white\"</span><span class=\"token punctuation\">)</span>\n    thumbnail_im <span class=\"token operator\">=</span> create_thumbnail<span class=\"token punctuation\">(</span>src_file<span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">for</span> i <span class=\"token keyword\">in</span> <span class=\"token builtin\">range</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">len</span><span class=\"token punctuation\">(</span>MyMode<span class=\"token punctuation\">.</span>ModeList<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        img <span class=\"token operator\">=</span> thumbnail_im<span class=\"token punctuation\">.</span>copy<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        CONTOURdraw <span class=\"token operator\">=</span> ImageDraw<span class=\"token punctuation\">.</span>Draw<span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span>\n        CONTOURdraw<span class=\"token punctuation\">.</span>text<span class=\"token punctuation\">(</span>font_posotion<span class=\"token punctuation\">,</span> MyMode<span class=\"token punctuation\">.</span>ModeList<span class=\"token punctuation\">[</span>count<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> font<span class=\"token operator\">=</span>font<span class=\"token punctuation\">,</span> fill<span class=\"token operator\">=</span>color<span class=\"token punctuation\">)</span>\n\n        CONTOUR <span class=\"token operator\">=</span> img<span class=\"token punctuation\">.</span>convert<span class=\"token punctuation\">(</span>MyMode<span class=\"token punctuation\">.</span>ModeList<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n        image<span class=\"token punctuation\">.</span>paste<span class=\"token punctuation\">(</span>CONTOUR<span class=\"token punctuation\">,</span> get_position<span class=\"token punctuation\">(</span>count<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n\n    <span class=\"token comment\"># image.save(\"mode.jpg\")</span>\n    image<span class=\"token punctuation\">.</span>show<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n\n<span class=\"token keyword\">if</span> __name__ <span class=\"token operator\">==</span> <span class=\"token string\">'__main__'</span><span class=\"token punctuation\">:</span>\n    create_mode<span class=\"token punctuation\">(</span><span class=\"token string\">\"res.jpg\"</span><span class=\"token punctuation\">)</span>\n    create_filter<span class=\"token punctuation\">(</span><span class=\"token string\">\"res.jpg\"</span><span class=\"token punctuation\">)</span>\n    \n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Redis-exists","comments":1,"date":"2021-03-07T11:40:58.000Z","author":null,"_content":"\n#### RedisExists\n- keyexistskeyexists\n\n#### Redis\n- Redis key\n1. /keykey\n> keyexists\n2. Rediskey\n3. maxmemory\n```py\n    def get_chatroom_user_tips(self, uid):\n        if not self.chatroom_redis.exists(\"flag_key\"):\n            value = self.redis.get(\"key\", 0 , 0)\n            # \n            _interval = 30\n            if group_ids:\n                self.redis.setex(\"flag_key\", value=1, time=_interval)\n                self.redis.delete(\"key\")\n            return group_ids\n```\n###### \n\n- redis Key30sexistsTrue\n- ttl0\n\n\n\n\n- ttlexists\n\n```py\n    def get_chatroom_user_tips(self, uid):\n        if self.chatroom_redis.ttl(\"flag_key\") <= 0:\n            value = self.redis.get(\"key\", 0 , 0)\n            # \n            _interval = 30\n            if group_ids:\n                self.redis.setex(\"flag_key\", value=1, time=_interval)\n                self.redis.delete(\"key\")\n            return group_ids\n```","source":"_posts/2021-03-07-Redis-exists.md","raw":"---\ntitle: Redis-exists\ncomments: true\ndate: 2021-03-07 19:40:58\nauthor:\ntags:\n - Redis\ncategories:\n - \n---\n\n#### RedisExists\n- keyexistskeyexists\n\n#### Redis\n- Redis key\n1. /keykey\n> keyexists\n2. Rediskey\n3. maxmemory\n```py\n    def get_chatroom_user_tips(self, uid):\n        if not self.chatroom_redis.exists(\"flag_key\"):\n            value = self.redis.get(\"key\", 0 , 0)\n            # \n            _interval = 30\n            if group_ids:\n                self.redis.setex(\"flag_key\", value=1, time=_interval)\n                self.redis.delete(\"key\")\n            return group_ids\n```\n###### \n\n- redis Key30sexistsTrue\n- ttl0\n\n\n\n\n- ttlexists\n\n```py\n    def get_chatroom_user_tips(self, uid):\n        if self.chatroom_redis.ttl(\"flag_key\") <= 0:\n            value = self.redis.get(\"key\", 0 , 0)\n            # \n            _interval = 30\n            if group_ids:\n                self.redis.setex(\"flag_key\", value=1, time=_interval)\n                self.redis.delete(\"key\")\n            return group_ids\n```","slug":"Redis-exists","published":1,"updated":"2021-03-07T11:41:24.046Z","_id":"cklz3456c0018jvs67aekekf1","layout":"post","photos":[],"link":"","content":"<h4 id=\"RedisExists\"><a href=\"#RedisExists\" class=\"headerlink\" title=\"RedisExists\"></a>RedisExists</h4><ul>\n<li>keyexistskeyexists</li>\n</ul>\n<h4 id=\"Redis\"><a href=\"#Redis\" class=\"headerlink\" title=\"Redis\"></a>Redis</h4><ul>\n<li>Redis key</li>\n</ul>\n<ol>\n<li>/keykey<blockquote>\n<p>keyexists</p>\n</blockquote>\n</li>\n<li>Rediskey</li>\n<li>maxmemory<pre class=\"line-numbers language-py\" data-language=\"py\"><code class=\"language-py\"><span class=\"token keyword\">def</span> <span class=\"token function\">get_chatroom_user_tips</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> self<span class=\"token punctuation\">.</span>chatroom_redis<span class=\"token punctuation\">.</span>exists<span class=\"token punctuation\">(</span><span class=\"token string\">\"flag_key\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        value <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># </span>\n        _interval <span class=\"token operator\">=</span> <span class=\"token number\">30</span>\n        <span class=\"token keyword\">if</span> group_ids<span class=\"token punctuation\">:</span>\n            self<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>setex<span class=\"token punctuation\">(</span><span class=\"token string\">\"flag_key\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> time<span class=\"token operator\">=</span>_interval<span class=\"token punctuation\">)</span>\n            self<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>delete<span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> group_ids<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n</ol>\n<ul>\n<li>redis Key30sexistsTrue</li>\n<li>ttl0</li>\n</ul>\n<p></p>\n<ul>\n<li>ttlexists</li>\n</ul>\n<pre class=\"line-numbers language-py\" data-language=\"py\"><code class=\"language-py\"><span class=\"token keyword\">def</span> <span class=\"token function\">get_chatroom_user_tips</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>chatroom_redis<span class=\"token punctuation\">.</span>ttl<span class=\"token punctuation\">(</span><span class=\"token string\">\"flag_key\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n        value <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># </span>\n        _interval <span class=\"token operator\">=</span> <span class=\"token number\">30</span>\n        <span class=\"token keyword\">if</span> group_ids<span class=\"token punctuation\">:</span>\n            self<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>setex<span class=\"token punctuation\">(</span><span class=\"token string\">\"flag_key\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> time<span class=\"token operator\">=</span>_interval<span class=\"token punctuation\">)</span>\n            self<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>delete<span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> group_ids<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h4 id=\"RedisExists\"><a href=\"#RedisExists\" class=\"headerlink\" title=\"RedisExists\"></a>RedisExists</h4><ul>\n<li>keyexistskeyexists</li>\n</ul>\n<h4 id=\"Redis\"><a href=\"#Redis\" class=\"headerlink\" title=\"Redis\"></a>Redis</h4><ul>\n<li>Redis key</li>\n</ul>\n<ol>\n<li>/keykey<blockquote>\n<p>keyexists</p>\n</blockquote>\n</li>\n<li>Rediskey</li>\n<li>maxmemory<pre class=\"line-numbers language-py\" data-language=\"py\"><code class=\"language-py\"><span class=\"token keyword\">def</span> <span class=\"token function\">get_chatroom_user_tips</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> <span class=\"token keyword\">not</span> self<span class=\"token punctuation\">.</span>chatroom_redis<span class=\"token punctuation\">.</span>exists<span class=\"token punctuation\">(</span><span class=\"token string\">\"flag_key\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n        value <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># </span>\n        _interval <span class=\"token operator\">=</span> <span class=\"token number\">30</span>\n        <span class=\"token keyword\">if</span> group_ids<span class=\"token punctuation\">:</span>\n            self<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>setex<span class=\"token punctuation\">(</span><span class=\"token string\">\"flag_key\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> time<span class=\"token operator\">=</span>_interval<span class=\"token punctuation\">)</span>\n            self<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>delete<span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> group_ids<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n</ol>\n<ul>\n<li>redis Key30sexistsTrue</li>\n<li>ttl0</li>\n</ul>\n<p></p>\n<ul>\n<li>ttlexists</li>\n</ul>\n<pre class=\"line-numbers language-py\" data-language=\"py\"><code class=\"language-py\"><span class=\"token keyword\">def</span> <span class=\"token function\">get_chatroom_user_tips</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> uid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> self<span class=\"token punctuation\">.</span>chatroom_redis<span class=\"token punctuation\">.</span>ttl<span class=\"token punctuation\">(</span><span class=\"token string\">\"flag_key\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">:</span>\n        value <span class=\"token operator\">=</span> self<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>get<span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n        <span class=\"token comment\"># </span>\n        _interval <span class=\"token operator\">=</span> <span class=\"token number\">30</span>\n        <span class=\"token keyword\">if</span> group_ids<span class=\"token punctuation\">:</span>\n            self<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>setex<span class=\"token punctuation\">(</span><span class=\"token string\">\"flag_key\"</span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> time<span class=\"token operator\">=</span>_interval<span class=\"token punctuation\">)</span>\n            self<span class=\"token punctuation\">.</span>redis<span class=\"token punctuation\">.</span>delete<span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">return</span> group_ids<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>"},{"title":"Golang-","comments":1,"date":"2021-03-07T11:42:18.000Z","author":null,"_content":"\n## [](https://zhuanlan.zhihu.com/p/48865454)\n\nWeb\n\nGogolang\n\n\n\n\n:\n:http://www.flysnow.org/\n:flysnow_org\n\n\n+\nGoJava+\n\n```\nfunc StringPlus() string{\n    var s string\n    s+=\"\"+\":\"+\"\"+\"\\n\"\n    s+=\"\"+\":\"+\"http://www.flysnow.org/\"+\"\\n\"\n    s+=\"\"+\":\"+\"flysnow_org\"\n    return s\n}\n```\n\n\n\n```\nfunc BenchmarkStringPlus(b *testing.B) {\n    for i:=0;i<b.N;i++{\n        StringPlus()\n    }\n}\n```\n\ngo test -bench=. -benchmem \n\nBenchmarkStringPlus-8   20000000    108 ns/op   144 B/op    2 allocs/op\n108ns,2114\n\nfmt \nfmt.Sprint\n\n```\nfunc StringFmt() string{\n    return fmt.Sprint(\"\",\":\",\"\",\"\\n\",\"\",\":\",\"http://www.flysnow.org/\",\"\\n\",\"\",\":\",\"flysnow_org\")\n}\n```\n\n\n\n```\nfunc BenchmarkStringFmt(b *testing.B) {\n    for i:=0;i<b.N;i++{\n        StringFmt()\n    }\n}\n```\n\n\n\nBenchmarkStringFmt-8    5000000     385 ns/op   80 B/op     1 allocs/op\n180+\n\nJoin \nstrings.Join\n\n\n```\nfunc StringJoin() string{\n    s:=[]string{\"\",\":\",\"\",\"\\n\",\"\",\":\",\"http://www.flysnow.org/\",\"\\n\",\"\",\":\",\"flysnow_org\"}\n    return strings.Join(s,\"\")\n}\n\nfunc BenchmarkStringJoin(b *testing.B) {\n    for i:=0;i<b.N;i++{\n        StringJoin()\n    }\n}\n```\n\n\n\nBenchmarkStringJoin-8   10000000    177 ns/op   160 B/op    2 allocs/op\n+0.5\n\nhttp://www.flysnow.org/2018/10/28/golang-concat-strings-performance-analysis.html\n\nGo | \n\nbuffer \nbytes.Bufferbyte,runeio.Writer\n\n\n```\nfunc StringBuffer() string {\n    var b bytes.Buffer\n    b.WriteString(\"\")\n    b.WriteString(\":\")\n    b.WriteString(\"\")\n    b.WriteString(\"\\n\")\n    b.WriteString(\"\")\n    b.WriteString(\":\")\n    b.WriteString(\"http://www.flysnow.org/\")\n    b.WriteString(\"\\n\")\n    b.WriteString(\"\")\n    b.WriteString(\":\")\n    b.WriteString(\"flysnow_org\")\n    return b.String()\n}\n\nfunc BenchmarkStringBuffer(b *testing.B) {\n    for i:=0;i<b.N;i++{\n        StringBuffer()\n    }\n}\n```\n\n\n\nBenchmarkStringBuffer-8     5000000     291 ns/op   336 B/op    3 allocs/op\n,fmt+Join\n\nbuilder \nbuffergo 1.10 builderbuffer\n\n\n```\nfunc StringBuilder() string {\n    var b strings.Builder\n    b.WriteString(\"\")\n    b.WriteString(\":\")\n    b.WriteString(\"\")\n    b.WriteString(\"\\n\")\n    b.WriteString(\"\")\n    b.WriteString(\":\")\n    b.WriteString(\"http://www.flysnow.org/\")\n    b.WriteString(\"\\n\")\n    b.WriteString(\"\")\n    b.WriteString(\":\")\n    b.WriteString(\"flysnow_org\")\n    return b.String()\n}\n\nfunc BenchmarkStringBuilder(b *testing.B) {\n    for i:=0;i<b.N;i++{\n        StringBuilder()\n    }\n}\n```\n\nbuffer\n\nBenchmarkStringBuilder-8    10000000    170 ns/op   232 B/op    4 allocs/op\nbuffer\n\n\n,Benchmark3scpu profile\n\ngo test -bench=. -benchmem -benchtime=3s -cpuprofile=profile.out\n\n```\nStringPlus-8    50000000    112 ns/op   144 B/op    2 allocs/op\nStringFmt-8     20000000    344 ns/op   80 B/op     1 allocs/op\nStringJoin-8    30000000    171 ns/op   160 B/op    2 allocs/op\nStringBuffer-8  20000000    302 ns/op   336 B/op    3 allocs/op\nStringBuilder-8 30000000    171 ns/op   232 B/op    4 allocs/op\n```\n\ngo tool pprof profile.out cpu profiletop\n\n```\nShowing top 15 nodes out of 89\n      flat  flat%   sum%        cum   cum%\n    11.99s 42.55% 42.55%     11.99s 42.55%  runtime.kevent\n     6.30s 22.36% 64.90%      6.30s 22.36%  runtime.pthread_cond_wait\n     1.65s  5.86% 70.76%      1.65s  5.86%  runtime.pthread_cond_signal\n     1.11s  3.94% 74.70%      1.11s  3.94%  runtime.usleep\n     1.10s  3.90% 78.60%      1.10s  3.90%  runtime.pthread_cond_timedwait_relative_np\n     0.58s  2.06% 80.66%      0.62s  2.20%  runtime.wbBufFlush1\n     0.51s  1.81% 82.47%      0.51s  1.81%  runtime.memmove\n     0.44s  1.56% 84.03%      1.81s  6.42%  fmt.(*pp).printArg\n     0.39s  1.38% 85.42%      2.36s  8.37%  fmt.(*pp).doPrint\n     0.36s  1.28% 86.69%      0.70s  2.48%  fmt.(*buffer).WriteString (inline)\n     0.34s  1.21% 87.90%      0.93s  3.30%  runtime.mallocgc\n     0.20s  0.71% 88.61%      1.20s  4.26%  fmt.(*fmt).fmtS\n     0.18s  0.64% 89.25%      0.18s  0.64%  fmt.(*fmt).truncate\n     0.16s  0.57% 89.82%      0.16s  0.57%  runtime.memclrNoHeapPointers\n     0.15s  0.53% 90.35%      1.35s  4.79%  fmt.(*pp).fmtString\n```\n\n15fmtfmtbufferWriteString\n\nTOP+Joinfmtbuilderbuffer\n\n\nbuilderbuilder+Join:\n\n\n\n\n\n","source":"_posts/2021-03-07-Golang-.md","raw":"---\ntitle: Golang-\ncomments: true\ndate: 2021-03-07 19:42:18\nauthor:\ntags:\n - Golang\ncategories:\n - \n---\n\n## [](https://zhuanlan.zhihu.com/p/48865454)\n\nWeb\n\nGogolang\n\n\n\n\n:\n:http://www.flysnow.org/\n:flysnow_org\n\n\n+\nGoJava+\n\n```\nfunc StringPlus() string{\n    var s string\n    s+=\"\"+\":\"+\"\"+\"\\n\"\n    s+=\"\"+\":\"+\"http://www.flysnow.org/\"+\"\\n\"\n    s+=\"\"+\":\"+\"flysnow_org\"\n    return s\n}\n```\n\n\n\n```\nfunc BenchmarkStringPlus(b *testing.B) {\n    for i:=0;i<b.N;i++{\n        StringPlus()\n    }\n}\n```\n\ngo test -bench=. -benchmem \n\nBenchmarkStringPlus-8   20000000    108 ns/op   144 B/op    2 allocs/op\n108ns,2114\n\nfmt \nfmt.Sprint\n\n```\nfunc StringFmt() string{\n    return fmt.Sprint(\"\",\":\",\"\",\"\\n\",\"\",\":\",\"http://www.flysnow.org/\",\"\\n\",\"\",\":\",\"flysnow_org\")\n}\n```\n\n\n\n```\nfunc BenchmarkStringFmt(b *testing.B) {\n    for i:=0;i<b.N;i++{\n        StringFmt()\n    }\n}\n```\n\n\n\nBenchmarkStringFmt-8    5000000     385 ns/op   80 B/op     1 allocs/op\n180+\n\nJoin \nstrings.Join\n\n\n```\nfunc StringJoin() string{\n    s:=[]string{\"\",\":\",\"\",\"\\n\",\"\",\":\",\"http://www.flysnow.org/\",\"\\n\",\"\",\":\",\"flysnow_org\"}\n    return strings.Join(s,\"\")\n}\n\nfunc BenchmarkStringJoin(b *testing.B) {\n    for i:=0;i<b.N;i++{\n        StringJoin()\n    }\n}\n```\n\n\n\nBenchmarkStringJoin-8   10000000    177 ns/op   160 B/op    2 allocs/op\n+0.5\n\nhttp://www.flysnow.org/2018/10/28/golang-concat-strings-performance-analysis.html\n\nGo | \n\nbuffer \nbytes.Bufferbyte,runeio.Writer\n\n\n```\nfunc StringBuffer() string {\n    var b bytes.Buffer\n    b.WriteString(\"\")\n    b.WriteString(\":\")\n    b.WriteString(\"\")\n    b.WriteString(\"\\n\")\n    b.WriteString(\"\")\n    b.WriteString(\":\")\n    b.WriteString(\"http://www.flysnow.org/\")\n    b.WriteString(\"\\n\")\n    b.WriteString(\"\")\n    b.WriteString(\":\")\n    b.WriteString(\"flysnow_org\")\n    return b.String()\n}\n\nfunc BenchmarkStringBuffer(b *testing.B) {\n    for i:=0;i<b.N;i++{\n        StringBuffer()\n    }\n}\n```\n\n\n\nBenchmarkStringBuffer-8     5000000     291 ns/op   336 B/op    3 allocs/op\n,fmt+Join\n\nbuilder \nbuffergo 1.10 builderbuffer\n\n\n```\nfunc StringBuilder() string {\n    var b strings.Builder\n    b.WriteString(\"\")\n    b.WriteString(\":\")\n    b.WriteString(\"\")\n    b.WriteString(\"\\n\")\n    b.WriteString(\"\")\n    b.WriteString(\":\")\n    b.WriteString(\"http://www.flysnow.org/\")\n    b.WriteString(\"\\n\")\n    b.WriteString(\"\")\n    b.WriteString(\":\")\n    b.WriteString(\"flysnow_org\")\n    return b.String()\n}\n\nfunc BenchmarkStringBuilder(b *testing.B) {\n    for i:=0;i<b.N;i++{\n        StringBuilder()\n    }\n}\n```\n\nbuffer\n\nBenchmarkStringBuilder-8    10000000    170 ns/op   232 B/op    4 allocs/op\nbuffer\n\n\n,Benchmark3scpu profile\n\ngo test -bench=. -benchmem -benchtime=3s -cpuprofile=profile.out\n\n```\nStringPlus-8    50000000    112 ns/op   144 B/op    2 allocs/op\nStringFmt-8     20000000    344 ns/op   80 B/op     1 allocs/op\nStringJoin-8    30000000    171 ns/op   160 B/op    2 allocs/op\nStringBuffer-8  20000000    302 ns/op   336 B/op    3 allocs/op\nStringBuilder-8 30000000    171 ns/op   232 B/op    4 allocs/op\n```\n\ngo tool pprof profile.out cpu profiletop\n\n```\nShowing top 15 nodes out of 89\n      flat  flat%   sum%        cum   cum%\n    11.99s 42.55% 42.55%     11.99s 42.55%  runtime.kevent\n     6.30s 22.36% 64.90%      6.30s 22.36%  runtime.pthread_cond_wait\n     1.65s  5.86% 70.76%      1.65s  5.86%  runtime.pthread_cond_signal\n     1.11s  3.94% 74.70%      1.11s  3.94%  runtime.usleep\n     1.10s  3.90% 78.60%      1.10s  3.90%  runtime.pthread_cond_timedwait_relative_np\n     0.58s  2.06% 80.66%      0.62s  2.20%  runtime.wbBufFlush1\n     0.51s  1.81% 82.47%      0.51s  1.81%  runtime.memmove\n     0.44s  1.56% 84.03%      1.81s  6.42%  fmt.(*pp).printArg\n     0.39s  1.38% 85.42%      2.36s  8.37%  fmt.(*pp).doPrint\n     0.36s  1.28% 86.69%      0.70s  2.48%  fmt.(*buffer).WriteString (inline)\n     0.34s  1.21% 87.90%      0.93s  3.30%  runtime.mallocgc\n     0.20s  0.71% 88.61%      1.20s  4.26%  fmt.(*fmt).fmtS\n     0.18s  0.64% 89.25%      0.18s  0.64%  fmt.(*fmt).truncate\n     0.16s  0.57% 89.82%      0.16s  0.57%  runtime.memclrNoHeapPointers\n     0.15s  0.53% 90.35%      1.35s  4.79%  fmt.(*pp).fmtString\n```\n\n15fmtfmtbufferWriteString\n\nTOP+Joinfmtbuilderbuffer\n\n\nbuilderbuilder+Join:\n\n\n\n\n\n","slug":"Golang-","published":1,"updated":"2021-03-07T11:42:50.827Z","_id":"cklz35umy001bjvs6g9ko1a3c","layout":"post","photos":[],"link":"","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><a href=\"https://zhuanlan.zhihu.com/p/48865454\"></a></h2><p>Web</p>\n<p>Gogolang</p>\n<p><br></p>\n<p>:<br>:<a href=\"http://www.flysnow.org/\">http://www.flysnow.org/</a><br>:flysnow_org<br></p>\n<p>+<br>GoJava+</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">func StringPlus() string&#123;\n    var s string\n    s+&#x3D;&quot;&quot;+&quot;:&quot;+&quot;&quot;+&quot;\\n&quot;\n    s+&#x3D;&quot;&quot;+&quot;:&quot;+&quot;http:&#x2F;&#x2F;www.flysnow.org&#x2F;&quot;+&quot;\\n&quot;\n    s+&#x3D;&quot;&quot;+&quot;:&quot;+&quot;flysnow_org&quot;\n    return s\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">func BenchmarkStringPlus(b *testing.B) &#123;\n    for i:&#x3D;0;i&lt;b.N;i++&#123;\n        StringPlus()\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>go test -bench=. -benchmem </p>\n<p>BenchmarkStringPlus-8   20000000    108 ns/op   144 B/op    2 allocs/op<br>108ns,2114</p>\n<p>fmt <br>fmt.Sprint</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">func StringFmt() string&#123;\n    return fmt.Sprint(&quot;&quot;,&quot;:&quot;,&quot;&quot;,&quot;\\n&quot;,&quot;&quot;,&quot;:&quot;,&quot;http:&#x2F;&#x2F;www.flysnow.org&#x2F;&quot;,&quot;\\n&quot;,&quot;&quot;,&quot;:&quot;,&quot;flysnow_org&quot;)\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">func BenchmarkStringFmt(b *testing.B) &#123;\n    for i:&#x3D;0;i&lt;b.N;i++&#123;\n        StringFmt()\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p>BenchmarkStringFmt-8    5000000     385 ns/op   80 B/op     1 allocs/op<br>180+</p>\n<p>Join <br>strings.Join</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">func StringJoin() string&#123;\n    s:&#x3D;[]string&#123;&quot;&quot;,&quot;:&quot;,&quot;&quot;,&quot;\\n&quot;,&quot;&quot;,&quot;:&quot;,&quot;http:&#x2F;&#x2F;www.flysnow.org&#x2F;&quot;,&quot;\\n&quot;,&quot;&quot;,&quot;:&quot;,&quot;flysnow_org&quot;&#125;\n    return strings.Join(s,&quot;&quot;)\n&#125;\n\nfunc BenchmarkStringJoin(b *testing.B) &#123;\n    for i:&#x3D;0;i&lt;b.N;i++&#123;\n        StringJoin()\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p>BenchmarkStringJoin-8   10000000    177 ns/op   160 B/op    2 allocs/op<br>+0.5</p>\n<p><a href=\"http://www.flysnow.org/2018/10/28/golang-concat-strings-performance-analysis.html\">http://www.flysnow.org/2018/10/28/golang-concat-strings-performance-analysis.html</a></p>\n<p>Go | </p>\n<p>buffer <br>bytes.Bufferbyte,runeio.Writer</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">func StringBuffer() string &#123;\n    var b bytes.Buffer\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;:&quot;)\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;\\n&quot;)\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;:&quot;)\n    b.WriteString(&quot;http:&#x2F;&#x2F;www.flysnow.org&#x2F;&quot;)\n    b.WriteString(&quot;\\n&quot;)\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;:&quot;)\n    b.WriteString(&quot;flysnow_org&quot;)\n    return b.String()\n&#125;\n\nfunc BenchmarkStringBuffer(b *testing.B) &#123;\n    for i:&#x3D;0;i&lt;b.N;i++&#123;\n        StringBuffer()\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p>BenchmarkStringBuffer-8     5000000     291 ns/op   336 B/op    3 allocs/op<br>,fmt+Join</p>\n<p>builder <br>buffergo 1.10 builderbuffer</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">func StringBuilder() string &#123;\n    var b strings.Builder\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;:&quot;)\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;\\n&quot;)\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;:&quot;)\n    b.WriteString(&quot;http:&#x2F;&#x2F;www.flysnow.org&#x2F;&quot;)\n    b.WriteString(&quot;\\n&quot;)\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;:&quot;)\n    b.WriteString(&quot;flysnow_org&quot;)\n    return b.String()\n&#125;\n\nfunc BenchmarkStringBuilder(b *testing.B) &#123;\n    for i:&#x3D;0;i&lt;b.N;i++&#123;\n        StringBuilder()\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>buffer</p>\n<p>BenchmarkStringBuilder-8    10000000    170 ns/op   232 B/op    4 allocs/op<br>buffer</p>\n<p><br>,Benchmark3scpu profile</p>\n<p>go test -bench=. -benchmem -benchtime=3s -cpuprofile=profile.out</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">StringPlus-8    50000000    112 ns&#x2F;op   144 B&#x2F;op    2 allocs&#x2F;op\nStringFmt-8     20000000    344 ns&#x2F;op   80 B&#x2F;op     1 allocs&#x2F;op\nStringJoin-8    30000000    171 ns&#x2F;op   160 B&#x2F;op    2 allocs&#x2F;op\nStringBuffer-8  20000000    302 ns&#x2F;op   336 B&#x2F;op    3 allocs&#x2F;op\nStringBuilder-8 30000000    171 ns&#x2F;op   232 B&#x2F;op    4 allocs&#x2F;op<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>go tool pprof profile.out cpu profiletop</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Showing top 15 nodes out of 89\n      flat  flat%   sum%        cum   cum%\n    11.99s 42.55% 42.55%     11.99s 42.55%  runtime.kevent\n     6.30s 22.36% 64.90%      6.30s 22.36%  runtime.pthread_cond_wait\n     1.65s  5.86% 70.76%      1.65s  5.86%  runtime.pthread_cond_signal\n     1.11s  3.94% 74.70%      1.11s  3.94%  runtime.usleep\n     1.10s  3.90% 78.60%      1.10s  3.90%  runtime.pthread_cond_timedwait_relative_np\n     0.58s  2.06% 80.66%      0.62s  2.20%  runtime.wbBufFlush1\n     0.51s  1.81% 82.47%      0.51s  1.81%  runtime.memmove\n     0.44s  1.56% 84.03%      1.81s  6.42%  fmt.(*pp).printArg\n     0.39s  1.38% 85.42%      2.36s  8.37%  fmt.(*pp).doPrint\n     0.36s  1.28% 86.69%      0.70s  2.48%  fmt.(*buffer).WriteString (inline)\n     0.34s  1.21% 87.90%      0.93s  3.30%  runtime.mallocgc\n     0.20s  0.71% 88.61%      1.20s  4.26%  fmt.(*fmt).fmtS\n     0.18s  0.64% 89.25%      0.18s  0.64%  fmt.(*fmt).truncate\n     0.16s  0.57% 89.82%      0.16s  0.57%  runtime.memclrNoHeapPointers\n     0.15s  0.53% 90.35%      1.35s  4.79%  fmt.(*pp).fmtString<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>15fmtfmtbufferWriteString</p>\n<p>TOP+Joinfmtbuilderbuffer</p>\n<p><br>builderbuilder+Join:</p>\n<p><br><br></p>\n<p></p>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a><a href=\"https://zhuanlan.zhihu.com/p/48865454\"></a></h2><p>Web</p>\n<p>Gogolang</p>\n<p><br></p>\n<p>:<br>:<a href=\"http://www.flysnow.org/\">http://www.flysnow.org/</a><br>:flysnow_org<br></p>\n<p>+<br>GoJava+</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">func StringPlus() string&#123;\n    var s string\n    s+&#x3D;&quot;&quot;+&quot;:&quot;+&quot;&quot;+&quot;\\n&quot;\n    s+&#x3D;&quot;&quot;+&quot;:&quot;+&quot;http:&#x2F;&#x2F;www.flysnow.org&#x2F;&quot;+&quot;\\n&quot;\n    s+&#x3D;&quot;&quot;+&quot;:&quot;+&quot;flysnow_org&quot;\n    return s\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">func BenchmarkStringPlus(b *testing.B) &#123;\n    for i:&#x3D;0;i&lt;b.N;i++&#123;\n        StringPlus()\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>go test -bench=. -benchmem </p>\n<p>BenchmarkStringPlus-8   20000000    108 ns/op   144 B/op    2 allocs/op<br>108ns,2114</p>\n<p>fmt <br>fmt.Sprint</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">func StringFmt() string&#123;\n    return fmt.Sprint(&quot;&quot;,&quot;:&quot;,&quot;&quot;,&quot;\\n&quot;,&quot;&quot;,&quot;:&quot;,&quot;http:&#x2F;&#x2F;www.flysnow.org&#x2F;&quot;,&quot;\\n&quot;,&quot;&quot;,&quot;:&quot;,&quot;flysnow_org&quot;)\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">func BenchmarkStringFmt(b *testing.B) &#123;\n    for i:&#x3D;0;i&lt;b.N;i++&#123;\n        StringFmt()\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p>BenchmarkStringFmt-8    5000000     385 ns/op   80 B/op     1 allocs/op<br>180+</p>\n<p>Join <br>strings.Join</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">func StringJoin() string&#123;\n    s:&#x3D;[]string&#123;&quot;&quot;,&quot;:&quot;,&quot;&quot;,&quot;\\n&quot;,&quot;&quot;,&quot;:&quot;,&quot;http:&#x2F;&#x2F;www.flysnow.org&#x2F;&quot;,&quot;\\n&quot;,&quot;&quot;,&quot;:&quot;,&quot;flysnow_org&quot;&#125;\n    return strings.Join(s,&quot;&quot;)\n&#125;\n\nfunc BenchmarkStringJoin(b *testing.B) &#123;\n    for i:&#x3D;0;i&lt;b.N;i++&#123;\n        StringJoin()\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p>BenchmarkStringJoin-8   10000000    177 ns/op   160 B/op    2 allocs/op<br>+0.5</p>\n<p><a href=\"http://www.flysnow.org/2018/10/28/golang-concat-strings-performance-analysis.html\">http://www.flysnow.org/2018/10/28/golang-concat-strings-performance-analysis.html</a></p>\n<p>Go | </p>\n<p>buffer <br>bytes.Bufferbyte,runeio.Writer</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">func StringBuffer() string &#123;\n    var b bytes.Buffer\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;:&quot;)\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;\\n&quot;)\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;:&quot;)\n    b.WriteString(&quot;http:&#x2F;&#x2F;www.flysnow.org&#x2F;&quot;)\n    b.WriteString(&quot;\\n&quot;)\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;:&quot;)\n    b.WriteString(&quot;flysnow_org&quot;)\n    return b.String()\n&#125;\n\nfunc BenchmarkStringBuffer(b *testing.B) &#123;\n    for i:&#x3D;0;i&lt;b.N;i++&#123;\n        StringBuffer()\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p></p>\n<p>BenchmarkStringBuffer-8     5000000     291 ns/op   336 B/op    3 allocs/op<br>,fmt+Join</p>\n<p>builder <br>buffergo 1.10 builderbuffer</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">func StringBuilder() string &#123;\n    var b strings.Builder\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;:&quot;)\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;\\n&quot;)\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;:&quot;)\n    b.WriteString(&quot;http:&#x2F;&#x2F;www.flysnow.org&#x2F;&quot;)\n    b.WriteString(&quot;\\n&quot;)\n    b.WriteString(&quot;&quot;)\n    b.WriteString(&quot;:&quot;)\n    b.WriteString(&quot;flysnow_org&quot;)\n    return b.String()\n&#125;\n\nfunc BenchmarkStringBuilder(b *testing.B) &#123;\n    for i:&#x3D;0;i&lt;b.N;i++&#123;\n        StringBuilder()\n    &#125;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>buffer</p>\n<p>BenchmarkStringBuilder-8    10000000    170 ns/op   232 B/op    4 allocs/op<br>buffer</p>\n<p><br>,Benchmark3scpu profile</p>\n<p>go test -bench=. -benchmem -benchtime=3s -cpuprofile=profile.out</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">StringPlus-8    50000000    112 ns&#x2F;op   144 B&#x2F;op    2 allocs&#x2F;op\nStringFmt-8     20000000    344 ns&#x2F;op   80 B&#x2F;op     1 allocs&#x2F;op\nStringJoin-8    30000000    171 ns&#x2F;op   160 B&#x2F;op    2 allocs&#x2F;op\nStringBuffer-8  20000000    302 ns&#x2F;op   336 B&#x2F;op    3 allocs&#x2F;op\nStringBuilder-8 30000000    171 ns&#x2F;op   232 B&#x2F;op    4 allocs&#x2F;op<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>go tool pprof profile.out cpu profiletop</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">Showing top 15 nodes out of 89\n      flat  flat%   sum%        cum   cum%\n    11.99s 42.55% 42.55%     11.99s 42.55%  runtime.kevent\n     6.30s 22.36% 64.90%      6.30s 22.36%  runtime.pthread_cond_wait\n     1.65s  5.86% 70.76%      1.65s  5.86%  runtime.pthread_cond_signal\n     1.11s  3.94% 74.70%      1.11s  3.94%  runtime.usleep\n     1.10s  3.90% 78.60%      1.10s  3.90%  runtime.pthread_cond_timedwait_relative_np\n     0.58s  2.06% 80.66%      0.62s  2.20%  runtime.wbBufFlush1\n     0.51s  1.81% 82.47%      0.51s  1.81%  runtime.memmove\n     0.44s  1.56% 84.03%      1.81s  6.42%  fmt.(*pp).printArg\n     0.39s  1.38% 85.42%      2.36s  8.37%  fmt.(*pp).doPrint\n     0.36s  1.28% 86.69%      0.70s  2.48%  fmt.(*buffer).WriteString (inline)\n     0.34s  1.21% 87.90%      0.93s  3.30%  runtime.mallocgc\n     0.20s  0.71% 88.61%      1.20s  4.26%  fmt.(*fmt).fmtS\n     0.18s  0.64% 89.25%      0.18s  0.64%  fmt.(*fmt).truncate\n     0.16s  0.57% 89.82%      0.16s  0.57%  runtime.memclrNoHeapPointers\n     0.15s  0.53% 90.35%      1.35s  4.79%  fmt.(*pp).fmtString<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>15fmtfmtbufferWriteString</p>\n<p>TOP+Joinfmtbuilderbuffer</p>\n<p><br>builderbuilder+Join:</p>\n<p><br><br></p>\n<p></p>\n"},{"title":"Golang-","comments":1,"date":"2021-03-07T09:44:57.000Z","author":null,"top":true,"_content":"\n# dingtalk\nGolang\n\ns\n- text\n- link\n- markdown\n- ActionCard\n    - \n    - \n- FeedCard\n\n[](https://ding-doc.dingtalk.com/doc#/serverapi2/qf2nxq)\n\n- **35451012**dingtalk_test.go\n\n## \n### \n1. ``\n2. \n    IP\n    [,,(img-Cd03uXui-1609383182732)(https://i.loli.net/2020/07/05/4XqHG2dOwo8StEu.jpg)]\n3. ``\n### \n    ```go\n    go get github.com/blinkbean/dingtalk\n    ```\n### \n    ```go\n    // key `.`\n    func InitDingTalk(tokens []string, key string) *dingTalk\n    \n    // \n    //  access_tokensecret\n    func InitDingTalkWithSecret(tokens string, secret string) *DingTalk\n    ```\n    ```go\n    import \"github.com/blinkbean/dingtalk\"\n    \n    func main() {\n        // token\n        var dingToken = []string{\"7bd675b66646ba890046c2198257576470099e1bda0770bad7dd6684fb1e0415\"}\n        cli := dingtalk.InitDingTalk(dingToken, \".\")\n        cli.SendTextMessage(\"content\")\n    }\n    ```\n### text\n- \n    ```go\n    // \n    SendTextMessage(content string, opt ...atOption) error\n\n    // \n    // @\n    WithAtAll()\n    \n    // @\n    WithAtMobiles(mobiles []string)\n    ```\n- \n    ```go\n    // at\n    cli.SendTextMessage(\"content\", WithAtAll())\n\n    // at\n    mobiles := []string{\"131********\"}\n    cli.SendTextMessage(\"content\", WithAtMobiles(mobiles))\n    ```\n- [,,(img-BCu3HFo8-1609383182748)(https://i.loli.net/2020/07/05/LXErbH1KiRGstQ7.jpg)]\n\n### link\n- \n    ```go\n    // \n    SendLinkMessage(title, text, picUrl, msgUrl string) error\n    ```\n- \n    ```go\n    cli.SendLinkMessage(title, text, picUrl, msgUrl)\n    ```\n- [,,(img-A6jXhdAE-1609383182751)(https://i.loli.net/2020/07/05/wDG1sMPlU7XZQfr.jpg)]\n\n### markdown\n- \n    ```go\n    // \n    // textmarkdown\n    SendMarkDownMessage(title, text string, opts ...atOption) error\n    \n    //  markdown@bug\n    // @\n    WithAtAll()\n    \n    // @\n    WithAtMobiles(mobiles []string)\n    ```\n- \n    ```go\n    cli.SendMarkDownMessage(title, text)\n    ```\n- Markdown\n    ```go\n    // markdown\n    msg := []string{\n        \"### Link test\",\n        \"---\",\n        \"- <font color=#00ff00 size=6></font>\",\n        \"- content2\",\n    }\n    cli.SendMarkDownMessageBySlice(\"Markdown title\", msg, WithAtAll())\n  \n    // \n    dm := DingMap()\n    dm.Set(\"\", H2)\n    dm.Set(\"$$  $$\", RED)  // $\n    dm.Set(\"---\", N)\n    dm.Set(\"\", GOLD)\n    dm.Set(\"\", GREEN)\n    dm.Set(\"\", BLUE)\n    dm.Set(\"\", N)\n    cli.SendMarkDownMessageBySlice(\"color test\", dm.Slice())\n    ```\n- [,,(img-2y4k2M37-1609383182754)(https://i.loli.net/2020/07/05/7LScefCZIGnDjBV.jpg)]\n- [,,(img-B5PYTjIm-1609383182757)(https://i.loli.net/2020/07/26/PADJ5uqmfQht2cr.jpg)]\n\n- \n\n    'dtmdLink1''dtmdValue1'@\n    ```go\n    // map\n    dtmdOrderMap := DingMap().\n        Set(\"dtmdOrderMap1\", \"dtmdValue1\").\n        Set(\"dtmdOrderMap2\", \"dtmdValue2\").\n        Set(\"dtmdOrderMap3\", \"dtmdValue3\")\n    err := dingTalkCli.SendDTMDMessage(\"DTMD title\", dtmdOrderMap)\n    ```\n- [,,(img-h15FF5fw-1609383182760)(https://i.loli.net/2020/11/02/1OqEr4HKZWapRgd.jpg)]\n\n### ActionCard\n- \n    ```go\n    // \n    SendActionCardMessage(title, text string, opts ...actionCardOption) error\n    \n    // \n    // \n    WithCardSingleTitle(title string)\n    \n    // \n    WithCardSingleURL(url string)\n    ```\n- \n    ```go\n    cli.SendActionSingleMessage(title, text, WithCardSingleTitle(sTitle), WithCardSingleURL(url))\n    ```\n- [,,(img-HVGqLNFi-1609383182762)(https://i.loli.net/2020/07/05/kKELHAlomndiO9I.jpg)]\n\n### ActionCard\n- \n    ```go\n    // \n    SendActionCardMessage(title, text string, opts ...actionCardOption) error\n    \n    // \n    // \n    WithCardBtnVertical()\n  \n    // \n    WithCardBtns(btns []ActionCardMultiBtnModel)\n\n    // ActionCardMultiBtnModel\n    type ActionCardMultiBtnModel struct {\n    \tTitle     string `json:\"title,omitempty\"`\n    \tActionURL string `json:\"actionURL,omitempty\"`\n    }\n    ```\n- \n    ```go\n    btns := []ActionCardMultiBtnModel{{\n        Title:     \"test1\",\n        ActionURL: testUrl,\n        },{\n        Title:     \"test2\",\n        ActionURL: testUrl,\n        },\n    }\n    cli.SendActionSingleMessage(title, text, WithCardBtns(btns))\n    ```\n- [,,(img-1uALzgDH-1609383182763)(https://i.loli.net/2020/07/05/t9GywHFSQUWCVDT.jpg)]\n- [,,(img-OH6OzXyF-1609383182764)(https://i.loli.net/2020/07/26/pEg7hotXZnsaJPV.jpg)]\n\n### FeedCard\n- \n    ```go\n    // \n    SendFeedCardMessage(feedCard []FeedCardLinkModel) error\n    \n    // FeedCardLinkModel\n    type FeedCardLinkModel struct {\n    \tTitle      string `json:\"title,omitempty\"`\n    \tMessageURL string `json:\"messageURL,omitempty\"`\n    \tPicURL     string `json:\"picURL,omitempty\"`\n    }\n    ```\n- \n    ```go\n    links := []FeedCardLinkModel{\n        {\n            Title:      \"FeedCard1.\",\n            MessageURL: testUrl,\n            PicURL:     testImg,\n        },\n        {\n            Title:      \"FeedCard2\",\n            MessageURL: testUrl,\n            PicURL:     testImg,\n        },\n        {\n            Title:      \"FeedCard3\",\n            MessageURL: testUrl,\n            PicURL:     testImg,\n        },\n    }\n    cli.SendFeedCardMessage(links)\n    ```\n- [,,(img-yPI4l7Bp-1609383182765)(https://i.loli.net/2020/07/05/F5WDLqyJ4Yzfj6A.jpg)]\n\n### OutGoing\n- \n    ```json\n    {\n        \"atUsers\":[\n            {\n                \"dingtalkId\":\"$:LWCP_v1:$1h0bmSzcLCHncx0lCt3Bb/UVz7xv/8vh*\"\n            }],\n        \"chatbotUserId\":\"$:LWCP_v1:$1h0bmSzcLCHncx0lCt3Bb/UVz7x/8vh*\",\n        \"conversationId\":\"cidkkCwvtlh1L0RmFuhmashi*==\",\n        \"conversationTitle\":\"\",\n        \"conversationType\":\"2\",\n        \"createAt\":1595232438950,\n        \"isAdmin\":false,\n        \"isInAtList\":true,\n        \"msgId\":\"msgm/bJkKjTupFM7ZoRF/eKR*==\",\n        \"msgtype\":\"text\",\n        \"sceneGroupCode\":\"project\",\n        \"senderId\":\"$:LWCP_v1:$x4wFOct/DGctv96o4IxxB*==\",\n        \"senderNick\":\"blinkbean\",\n        \"sessionWebhook\":\"https://oapi.dingtalk.com/robot/sendBySession?session=6d69b333f243db32d42c11sda9de620*\",\n        \"sessionWebhookExpiredTime\":1595237839030,\n        \"text\":{\n            \"content\":\" outgoing\"\n        }\n    }\n    ```\n  \n- Usage\n    ```go\n    func OutGoing(ctx *gin.Context){\n        cli := dingtalk.InitDingTalk([]string{\"***\"}, \".\")\n        msg, _ := cli.OutGoing(ctx.Request.Body)\n        // content\n        res := doSomeThing(msg.Text.Content)\n  \n        textMsg := dingtalk.NewTextMsg(res)\n        ctx.Set(\"respData\", textMsg)\n        ctx.JSON(ctx.Writer.Status(), data)\n        return \n    }\n    ```","source":"_posts/2021-03-07-Golang-.md","raw":"---\ntitle: Golang-\ncomments: true\ndate: 2021-03-07 17:44:57\nauthor:\ntop: true\ntags:\n - Golang\n - \ncategories:\n - \n---\n\n# dingtalk\nGolang\n\ns\n- text\n- link\n- markdown\n- ActionCard\n    - \n    - \n- FeedCard\n\n[](https://ding-doc.dingtalk.com/doc#/serverapi2/qf2nxq)\n\n- **35451012**dingtalk_test.go\n\n## \n### \n1. ``\n2. \n    IP\n    [,,(img-Cd03uXui-1609383182732)(https://i.loli.net/2020/07/05/4XqHG2dOwo8StEu.jpg)]\n3. ``\n### \n    ```go\n    go get github.com/blinkbean/dingtalk\n    ```\n### \n    ```go\n    // key `.`\n    func InitDingTalk(tokens []string, key string) *dingTalk\n    \n    // \n    //  access_tokensecret\n    func InitDingTalkWithSecret(tokens string, secret string) *DingTalk\n    ```\n    ```go\n    import \"github.com/blinkbean/dingtalk\"\n    \n    func main() {\n        // token\n        var dingToken = []string{\"7bd675b66646ba890046c2198257576470099e1bda0770bad7dd6684fb1e0415\"}\n        cli := dingtalk.InitDingTalk(dingToken, \".\")\n        cli.SendTextMessage(\"content\")\n    }\n    ```\n### text\n- \n    ```go\n    // \n    SendTextMessage(content string, opt ...atOption) error\n\n    // \n    // @\n    WithAtAll()\n    \n    // @\n    WithAtMobiles(mobiles []string)\n    ```\n- \n    ```go\n    // at\n    cli.SendTextMessage(\"content\", WithAtAll())\n\n    // at\n    mobiles := []string{\"131********\"}\n    cli.SendTextMessage(\"content\", WithAtMobiles(mobiles))\n    ```\n- [,,(img-BCu3HFo8-1609383182748)(https://i.loli.net/2020/07/05/LXErbH1KiRGstQ7.jpg)]\n\n### link\n- \n    ```go\n    // \n    SendLinkMessage(title, text, picUrl, msgUrl string) error\n    ```\n- \n    ```go\n    cli.SendLinkMessage(title, text, picUrl, msgUrl)\n    ```\n- [,,(img-A6jXhdAE-1609383182751)(https://i.loli.net/2020/07/05/wDG1sMPlU7XZQfr.jpg)]\n\n### markdown\n- \n    ```go\n    // \n    // textmarkdown\n    SendMarkDownMessage(title, text string, opts ...atOption) error\n    \n    //  markdown@bug\n    // @\n    WithAtAll()\n    \n    // @\n    WithAtMobiles(mobiles []string)\n    ```\n- \n    ```go\n    cli.SendMarkDownMessage(title, text)\n    ```\n- Markdown\n    ```go\n    // markdown\n    msg := []string{\n        \"### Link test\",\n        \"---\",\n        \"- <font color=#00ff00 size=6></font>\",\n        \"- content2\",\n    }\n    cli.SendMarkDownMessageBySlice(\"Markdown title\", msg, WithAtAll())\n  \n    // \n    dm := DingMap()\n    dm.Set(\"\", H2)\n    dm.Set(\"$$  $$\", RED)  // $\n    dm.Set(\"---\", N)\n    dm.Set(\"\", GOLD)\n    dm.Set(\"\", GREEN)\n    dm.Set(\"\", BLUE)\n    dm.Set(\"\", N)\n    cli.SendMarkDownMessageBySlice(\"color test\", dm.Slice())\n    ```\n- [,,(img-2y4k2M37-1609383182754)(https://i.loli.net/2020/07/05/7LScefCZIGnDjBV.jpg)]\n- [,,(img-B5PYTjIm-1609383182757)(https://i.loli.net/2020/07/26/PADJ5uqmfQht2cr.jpg)]\n\n- \n\n    'dtmdLink1''dtmdValue1'@\n    ```go\n    // map\n    dtmdOrderMap := DingMap().\n        Set(\"dtmdOrderMap1\", \"dtmdValue1\").\n        Set(\"dtmdOrderMap2\", \"dtmdValue2\").\n        Set(\"dtmdOrderMap3\", \"dtmdValue3\")\n    err := dingTalkCli.SendDTMDMessage(\"DTMD title\", dtmdOrderMap)\n    ```\n- [,,(img-h15FF5fw-1609383182760)(https://i.loli.net/2020/11/02/1OqEr4HKZWapRgd.jpg)]\n\n### ActionCard\n- \n    ```go\n    // \n    SendActionCardMessage(title, text string, opts ...actionCardOption) error\n    \n    // \n    // \n    WithCardSingleTitle(title string)\n    \n    // \n    WithCardSingleURL(url string)\n    ```\n- \n    ```go\n    cli.SendActionSingleMessage(title, text, WithCardSingleTitle(sTitle), WithCardSingleURL(url))\n    ```\n- [,,(img-HVGqLNFi-1609383182762)(https://i.loli.net/2020/07/05/kKELHAlomndiO9I.jpg)]\n\n### ActionCard\n- \n    ```go\n    // \n    SendActionCardMessage(title, text string, opts ...actionCardOption) error\n    \n    // \n    // \n    WithCardBtnVertical()\n  \n    // \n    WithCardBtns(btns []ActionCardMultiBtnModel)\n\n    // ActionCardMultiBtnModel\n    type ActionCardMultiBtnModel struct {\n    \tTitle     string `json:\"title,omitempty\"`\n    \tActionURL string `json:\"actionURL,omitempty\"`\n    }\n    ```\n- \n    ```go\n    btns := []ActionCardMultiBtnModel{{\n        Title:     \"test1\",\n        ActionURL: testUrl,\n        },{\n        Title:     \"test2\",\n        ActionURL: testUrl,\n        },\n    }\n    cli.SendActionSingleMessage(title, text, WithCardBtns(btns))\n    ```\n- [,,(img-1uALzgDH-1609383182763)(https://i.loli.net/2020/07/05/t9GywHFSQUWCVDT.jpg)]\n- [,,(img-OH6OzXyF-1609383182764)(https://i.loli.net/2020/07/26/pEg7hotXZnsaJPV.jpg)]\n\n### FeedCard\n- \n    ```go\n    // \n    SendFeedCardMessage(feedCard []FeedCardLinkModel) error\n    \n    // FeedCardLinkModel\n    type FeedCardLinkModel struct {\n    \tTitle      string `json:\"title,omitempty\"`\n    \tMessageURL string `json:\"messageURL,omitempty\"`\n    \tPicURL     string `json:\"picURL,omitempty\"`\n    }\n    ```\n- \n    ```go\n    links := []FeedCardLinkModel{\n        {\n            Title:      \"FeedCard1.\",\n            MessageURL: testUrl,\n            PicURL:     testImg,\n        },\n        {\n            Title:      \"FeedCard2\",\n            MessageURL: testUrl,\n            PicURL:     testImg,\n        },\n        {\n            Title:      \"FeedCard3\",\n            MessageURL: testUrl,\n            PicURL:     testImg,\n        },\n    }\n    cli.SendFeedCardMessage(links)\n    ```\n- [,,(img-yPI4l7Bp-1609383182765)(https://i.loli.net/2020/07/05/F5WDLqyJ4Yzfj6A.jpg)]\n\n### OutGoing\n- \n    ```json\n    {\n        \"atUsers\":[\n            {\n                \"dingtalkId\":\"$:LWCP_v1:$1h0bmSzcLCHncx0lCt3Bb/UVz7xv/8vh*\"\n            }],\n        \"chatbotUserId\":\"$:LWCP_v1:$1h0bmSzcLCHncx0lCt3Bb/UVz7x/8vh*\",\n        \"conversationId\":\"cidkkCwvtlh1L0RmFuhmashi*==\",\n        \"conversationTitle\":\"\",\n        \"conversationType\":\"2\",\n        \"createAt\":1595232438950,\n        \"isAdmin\":false,\n        \"isInAtList\":true,\n        \"msgId\":\"msgm/bJkKjTupFM7ZoRF/eKR*==\",\n        \"msgtype\":\"text\",\n        \"sceneGroupCode\":\"project\",\n        \"senderId\":\"$:LWCP_v1:$x4wFOct/DGctv96o4IxxB*==\",\n        \"senderNick\":\"blinkbean\",\n        \"sessionWebhook\":\"https://oapi.dingtalk.com/robot/sendBySession?session=6d69b333f243db32d42c11sda9de620*\",\n        \"sessionWebhookExpiredTime\":1595237839030,\n        \"text\":{\n            \"content\":\" outgoing\"\n        }\n    }\n    ```\n  \n- Usage\n    ```go\n    func OutGoing(ctx *gin.Context){\n        cli := dingtalk.InitDingTalk([]string{\"***\"}, \".\")\n        msg, _ := cli.OutGoing(ctx.Request.Body)\n        // content\n        res := doSomeThing(msg.Text.Content)\n  \n        textMsg := dingtalk.NewTextMsg(res)\n        ctx.Set(\"respData\", textMsg)\n        ctx.JSON(ctx.Writer.Status(), data)\n        return \n    }\n    ```","slug":"Golang-","published":1,"updated":"2021-03-07T11:46:59.743Z","_id":"cklz3bwp8001kjvs60yza820o","layout":"post","photos":[],"link":"","content":"<h1 id=\"dingtalk\"><a href=\"#dingtalk\" class=\"headerlink\" title=\"dingtalk\"></a>dingtalk</h1><p>Golang</p>\n<p>s</p>\n<ul>\n<li>text</li>\n<li>link</li>\n<li>markdown</li>\n<li>ActionCard<ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li>FeedCard</li>\n</ul>\n<p><a href=\"https://ding-doc.dingtalk.com/doc#/serverapi2/qf2nxq\"></a></p>\n<ul>\n<li><strong>35451012</strong>dingtalk_test.go</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><code></code></li>\n<li><br> IP<br> [,,(img-Cd03uXui-1609383182732)(<a href=\"https://i.loli.net/2020/07/05/4XqHG2dOwo8StEu.jpg)]\">https://i.loli.net/2020/07/05/4XqHG2dOwo8StEu.jpg)]</a></li>\n<li><code></code><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3> <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">go</span> get github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>blinkbean<span class=\"token operator\">/</span>dingtalk<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3> <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// key `.`</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">InitDingTalk</span><span class=\"token punctuation\">(</span>tokens <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> key <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span>dingTalk\n\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">//  access_tokensecret</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">InitDingTalkWithSecret</span><span class=\"token punctuation\">(</span>tokens <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> secret <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span>DingTalk<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"github.com/blinkbean/dingtalk\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// token</span>\n    <span class=\"token keyword\">var</span> dingToken <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"7bd675b66646ba890046c2198257576470099e1bda0770bad7dd6684fb1e0415\"</span><span class=\"token punctuation\">&#125;</span>\n    cli <span class=\"token operator\">:=</span> dingtalk<span class=\"token punctuation\">.</span><span class=\"token function\">InitDingTalk</span><span class=\"token punctuation\">(</span>dingToken<span class=\"token punctuation\">,</span> <span class=\"token string\">\".\"</span><span class=\"token punctuation\">)</span>\n    cli<span class=\"token punctuation\">.</span><span class=\"token function\">SendTextMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"content\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"text\"><a href=\"#text\" class=\"headerlink\" title=\"text\"></a>text</h3></li>\n</ol>\n<ul>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// </span>\n<span class=\"token function\">SendTextMessage</span><span class=\"token punctuation\">(</span>content <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> opt <span class=\"token operator\">...</span>atOption<span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">// @</span>\n<span class=\"token function\">WithAtAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// @</span>\n<span class=\"token function\">WithAtMobiles</span><span class=\"token punctuation\">(</span>mobiles <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// at</span>\ncli<span class=\"token punctuation\">.</span><span class=\"token function\">SendTextMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"content\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">WithAtAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// at</span>\nmobiles <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"131********\"</span><span class=\"token punctuation\">&#125;</span>\ncli<span class=\"token punctuation\">.</span><span class=\"token function\">SendTextMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"content\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">WithAtMobiles</span><span class=\"token punctuation\">(</span>mobiles<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>[,,(img-BCu3HFo8-1609383182748)(<a href=\"https://i.loli.net/2020/07/05/LXErbH1KiRGstQ7.jpg)]\">https://i.loli.net/2020/07/05/LXErbH1KiRGstQ7.jpg)]</a></li>\n</ul>\n<h3 id=\"link\"><a href=\"#link\" class=\"headerlink\" title=\"link\"></a>link</h3><ul>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// </span>\n<span class=\"token function\">SendLinkMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">,</span> picUrl<span class=\"token punctuation\">,</span> msgUrl <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">cli<span class=\"token punctuation\">.</span><span class=\"token function\">SendLinkMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">,</span> picUrl<span class=\"token punctuation\">,</span> msgUrl<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li>[,,(img-A6jXhdAE-1609383182751)(<a href=\"https://i.loli.net/2020/07/05/wDG1sMPlU7XZQfr.jpg)]\">https://i.loli.net/2020/07/05/wDG1sMPlU7XZQfr.jpg)]</a></li>\n</ul>\n<h3 id=\"markdown\"><a href=\"#markdown\" class=\"headerlink\" title=\"markdown\"></a>markdown</h3><ul>\n<li><p></p>\n  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// </span>\n<span class=\"token comment\">// textmarkdown</span>\n<span class=\"token function\">SendMarkDownMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> opts <span class=\"token operator\">...</span>atOption<span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span>\n\n<span class=\"token comment\">//  markdown@bug</span>\n<span class=\"token comment\">// @</span>\n<span class=\"token function\">WithAtAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// @</span>\n<span class=\"token function\">WithAtMobiles</span><span class=\"token punctuation\">(</span>mobiles <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p></p>\n  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">cli<span class=\"token punctuation\">.</span><span class=\"token function\">SendMarkDownMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>Markdown</p>\n  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// markdown</span>\nmsg <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token string\">\"### Link test\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"---\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"- &lt;font color=#00ff00 size=6>&lt;/font>\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"- content2\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\ncli<span class=\"token punctuation\">.</span><span class=\"token function\">SendMarkDownMessageBySlice</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Markdown title\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> <span class=\"token function\">WithAtAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  \n<span class=\"token comment\">// </span>\ndm <span class=\"token operator\">:=</span> <span class=\"token function\">DingMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ndm<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> H2<span class=\"token punctuation\">)</span>\ndm<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"$$  $$\"</span><span class=\"token punctuation\">,</span> RED<span class=\"token punctuation\">)</span>  <span class=\"token comment\">// $</span>\ndm<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"---\"</span><span class=\"token punctuation\">,</span> N<span class=\"token punctuation\">)</span>\ndm<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> GOLD<span class=\"token punctuation\">)</span>\ndm<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> GREEN<span class=\"token punctuation\">)</span>\ndm<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> BLUE<span class=\"token punctuation\">)</span>\ndm<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> N<span class=\"token punctuation\">)</span>\ncli<span class=\"token punctuation\">.</span><span class=\"token function\">SendMarkDownMessageBySlice</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"color test\"</span><span class=\"token punctuation\">,</span> dm<span class=\"token punctuation\">.</span><span class=\"token function\">Slice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>[,,(img-2y4k2M37-1609383182754)(<a href=\"https://i.loli.net/2020/07/05/7LScefCZIGnDjBV.jpg)]\">https://i.loli.net/2020/07/05/7LScefCZIGnDjBV.jpg)]</a></p>\n</li>\n<li><p>[,,(img-B5PYTjIm-1609383182757)(<a href=\"https://i.loli.net/2020/07/26/PADJ5uqmfQht2cr.jpg)]\">https://i.loli.net/2020/07/26/PADJ5uqmfQht2cr.jpg)]</a></p>\n</li>\n<li><p></p>\n<p>  dtmdLink1dtmdValue1@</p>\n  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// map</span>\ndtmdOrderMap <span class=\"token operator\">:=</span> <span class=\"token function\">DingMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n    <span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dtmdOrderMap1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"dtmdValue1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n    <span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dtmdOrderMap2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"dtmdValue2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n    <span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dtmdOrderMap3\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"dtmdValue3\"</span><span class=\"token punctuation\">)</span>\nerr <span class=\"token operator\">:=</span> dingTalkCli<span class=\"token punctuation\">.</span><span class=\"token function\">SendDTMDMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DTMD title\"</span><span class=\"token punctuation\">,</span> dtmdOrderMap<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>[,,(img-h15FF5fw-1609383182760)(<a href=\"https://i.loli.net/2020/11/02/1OqEr4HKZWapRgd.jpg)]\">https://i.loli.net/2020/11/02/1OqEr4HKZWapRgd.jpg)]</a></p>\n</li>\n</ul>\n<h3 id=\"ActionCard\"><a href=\"#ActionCard\" class=\"headerlink\" title=\"ActionCard\"></a>ActionCard</h3><ul>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// </span>\n<span class=\"token function\">SendActionCardMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> opts <span class=\"token operator\">...</span>actionCardOption<span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">// </span>\n<span class=\"token function\">WithCardSingleTitle</span><span class=\"token punctuation\">(</span>title <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token function\">WithCardSingleURL</span><span class=\"token punctuation\">(</span>url <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">cli<span class=\"token punctuation\">.</span><span class=\"token function\">SendActionSingleMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">,</span> <span class=\"token function\">WithCardSingleTitle</span><span class=\"token punctuation\">(</span>sTitle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">WithCardSingleURL</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li>[,,(img-HVGqLNFi-1609383182762)(<a href=\"https://i.loli.net/2020/07/05/kKELHAlomndiO9I.jpg)]\">https://i.loli.net/2020/07/05/kKELHAlomndiO9I.jpg)]</a></li>\n</ul>\n<h3 id=\"ActionCard\"><a href=\"#ActionCard\" class=\"headerlink\" title=\"ActionCard\"></a>ActionCard</h3><ul>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// </span>\n<span class=\"token function\">SendActionCardMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> opts <span class=\"token operator\">...</span>actionCardOption<span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">// </span>\n<span class=\"token function\">WithCardBtnVertical</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  \n<span class=\"token comment\">// </span>\n<span class=\"token function\">WithCardBtns</span><span class=\"token punctuation\">(</span>btns <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>ActionCardMultiBtnModel<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// ActionCardMultiBtnModel</span>\n<span class=\"token keyword\">type</span> ActionCardMultiBtnModel <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tTitle     <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"title,omitempty\"`</span>\n\tActionURL <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"actionURL,omitempty\"`</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">btns <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>ActionCardMultiBtnModel<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#123;</span>\n    Title<span class=\"token punctuation\">:</span>     <span class=\"token string\">\"test1\"</span><span class=\"token punctuation\">,</span>\n    ActionURL<span class=\"token punctuation\">:</span> testUrl<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span>\n    Title<span class=\"token punctuation\">:</span>     <span class=\"token string\">\"test2\"</span><span class=\"token punctuation\">,</span>\n    ActionURL<span class=\"token punctuation\">:</span> testUrl<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\ncli<span class=\"token punctuation\">.</span><span class=\"token function\">SendActionSingleMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">,</span> <span class=\"token function\">WithCardBtns</span><span class=\"token punctuation\">(</span>btns<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>[,,(img-1uALzgDH-1609383182763)(<a href=\"https://i.loli.net/2020/07/05/t9GywHFSQUWCVDT.jpg)]\">https://i.loli.net/2020/07/05/t9GywHFSQUWCVDT.jpg)]</a></li>\n<li>[,,(img-OH6OzXyF-1609383182764)(<a href=\"https://i.loli.net/2020/07/26/pEg7hotXZnsaJPV.jpg)]\">https://i.loli.net/2020/07/26/pEg7hotXZnsaJPV.jpg)]</a></li>\n</ul>\n<h3 id=\"FeedCard\"><a href=\"#FeedCard\" class=\"headerlink\" title=\"FeedCard\"></a>FeedCard</h3><ul>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// </span>\n<span class=\"token function\">SendFeedCardMessage</span><span class=\"token punctuation\">(</span>feedCard <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>FeedCardLinkModel<span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span>\n\n<span class=\"token comment\">// FeedCardLinkModel</span>\n<span class=\"token keyword\">type</span> FeedCardLinkModel <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tTitle      <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"title,omitempty\"`</span>\n\tMessageURL <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"messageURL,omitempty\"`</span>\n\tPicURL     <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"picURL,omitempty\"`</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">links <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>FeedCardLinkModel<span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#123;</span>\n        Title<span class=\"token punctuation\">:</span>      <span class=\"token string\">\"FeedCard1.\"</span><span class=\"token punctuation\">,</span>\n        MessageURL<span class=\"token punctuation\">:</span> testUrl<span class=\"token punctuation\">,</span>\n        PicURL<span class=\"token punctuation\">:</span>     testImg<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#123;</span>\n        Title<span class=\"token punctuation\">:</span>      <span class=\"token string\">\"FeedCard2\"</span><span class=\"token punctuation\">,</span>\n        MessageURL<span class=\"token punctuation\">:</span> testUrl<span class=\"token punctuation\">,</span>\n        PicURL<span class=\"token punctuation\">:</span>     testImg<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#123;</span>\n        Title<span class=\"token punctuation\">:</span>      <span class=\"token string\">\"FeedCard3\"</span><span class=\"token punctuation\">,</span>\n        MessageURL<span class=\"token punctuation\">:</span> testUrl<span class=\"token punctuation\">,</span>\n        PicURL<span class=\"token punctuation\">:</span>     testImg<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\ncli<span class=\"token punctuation\">.</span><span class=\"token function\">SendFeedCardMessage</span><span class=\"token punctuation\">(</span>links<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>[,,(img-yPI4l7Bp-1609383182765)(<a href=\"https://i.loli.net/2020/07/05/F5WDLqyJ4Yzfj6A.jpg)]\">https://i.loli.net/2020/07/05/F5WDLqyJ4Yzfj6A.jpg)]</a></li>\n</ul>\n<h3 id=\"OutGoing\"><a href=\"#OutGoing\" class=\"headerlink\" title=\"OutGoing\"></a>OutGoing</h3><ul>\n<li>  <pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"atUsers\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token property\">\"dingtalkId\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"$:LWCP_v1:$1h0bmSzcLCHncx0lCt3Bb/UVz7xv/8vh*\"</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"chatbotUserId\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"$:LWCP_v1:$1h0bmSzcLCHncx0lCt3Bb/UVz7x/8vh*\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"conversationId\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"cidkkCwvtlh1L0RmFuhmashi*==\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"conversationTitle\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"conversationType\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"createAt\"</span><span class=\"token operator\">:</span><span class=\"token number\">1595232438950</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"isAdmin\"</span><span class=\"token operator\">:</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"isInAtList\"</span><span class=\"token operator\">:</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"msgId\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"msgm/bJkKjTupFM7ZoRF/eKR*==\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"msgtype\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sceneGroupCode\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"project\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"senderId\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"$:LWCP_v1:$x4wFOct/DGctv96o4IxxB*==\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"senderNick\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"blinkbean\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sessionWebhook\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"https://oapi.dingtalk.com/robot/sendBySession?session=6d69b333f243db32d42c11sda9de620*\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sessionWebhookExpiredTime\"</span><span class=\"token operator\">:</span><span class=\"token number\">1595237839030</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"text\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"content\"</span><span class=\"token operator\">:</span><span class=\"token string\">\" outgoing\"</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>Usage  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">OutGoing</span><span class=\"token punctuation\">(</span>ctx <span class=\"token operator\">*</span>gin<span class=\"token punctuation\">.</span>Context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n    cli <span class=\"token operator\">:=</span> dingtalk<span class=\"token punctuation\">.</span><span class=\"token function\">InitDingTalk</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"***\"</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\".\"</span><span class=\"token punctuation\">)</span>\n    msg<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> cli<span class=\"token punctuation\">.</span><span class=\"token function\">OutGoing</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">.</span>Request<span class=\"token punctuation\">.</span>Body<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// content</span>\n    res <span class=\"token operator\">:=</span> <span class=\"token function\">doSomeThing</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>Text<span class=\"token punctuation\">.</span>Content<span class=\"token punctuation\">)</span>\n  \n    textMsg <span class=\"token operator\">:=</span> dingtalk<span class=\"token punctuation\">.</span><span class=\"token function\">NewTextMsg</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span>\n    ctx<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"respData\"</span><span class=\"token punctuation\">,</span> textMsg<span class=\"token punctuation\">)</span>\n    ctx<span class=\"token punctuation\">.</span><span class=\"token function\">JSON</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">.</span>Writer<span class=\"token punctuation\">.</span><span class=\"token function\">Status</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> \n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h1 id=\"dingtalk\"><a href=\"#dingtalk\" class=\"headerlink\" title=\"dingtalk\"></a>dingtalk</h1><p>Golang</p>\n<p>s</p>\n<ul>\n<li>text</li>\n<li>link</li>\n<li>markdown</li>\n<li>ActionCard<ul>\n<li></li>\n<li></li>\n</ul>\n</li>\n<li>FeedCard</li>\n</ul>\n<p><a href=\"https://ding-doc.dingtalk.com/doc#/serverapi2/qf2nxq\"></a></p>\n<ul>\n<li><strong>35451012</strong>dingtalk_test.go</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li><code></code></li>\n<li><br> IP<br> [,,(img-Cd03uXui-1609383182732)(<a href=\"https://i.loli.net/2020/07/05/4XqHG2dOwo8StEu.jpg)]\">https://i.loli.net/2020/07/05/4XqHG2dOwo8StEu.jpg)]</a></li>\n<li><code></code><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3> <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">go</span> get github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>blinkbean<span class=\"token operator\">/</span>dingtalk<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3> <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// key `.`</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">InitDingTalk</span><span class=\"token punctuation\">(</span>tokens <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> key <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span>dingTalk\n\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">//  access_tokensecret</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">InitDingTalkWithSecret</span><span class=\"token punctuation\">(</span>tokens <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> secret <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span>DingTalk<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">import</span> <span class=\"token string\">\"github.com/blinkbean/dingtalk\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n    <span class=\"token comment\">// token</span>\n    <span class=\"token keyword\">var</span> dingToken <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"7bd675b66646ba890046c2198257576470099e1bda0770bad7dd6684fb1e0415\"</span><span class=\"token punctuation\">&#125;</span>\n    cli <span class=\"token operator\">:=</span> dingtalk<span class=\"token punctuation\">.</span><span class=\"token function\">InitDingTalk</span><span class=\"token punctuation\">(</span>dingToken<span class=\"token punctuation\">,</span> <span class=\"token string\">\".\"</span><span class=\"token punctuation\">)</span>\n    cli<span class=\"token punctuation\">.</span><span class=\"token function\">SendTextMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"content\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"text\"><a href=\"#text\" class=\"headerlink\" title=\"text\"></a>text</h3></li>\n</ol>\n<ul>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// </span>\n<span class=\"token function\">SendTextMessage</span><span class=\"token punctuation\">(</span>content <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> opt <span class=\"token operator\">...</span>atOption<span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">// @</span>\n<span class=\"token function\">WithAtAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// @</span>\n<span class=\"token function\">WithAtMobiles</span><span class=\"token punctuation\">(</span>mobiles <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// at</span>\ncli<span class=\"token punctuation\">.</span><span class=\"token function\">SendTextMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"content\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">WithAtAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// at</span>\nmobiles <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"131********\"</span><span class=\"token punctuation\">&#125;</span>\ncli<span class=\"token punctuation\">.</span><span class=\"token function\">SendTextMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"content\"</span><span class=\"token punctuation\">,</span> <span class=\"token function\">WithAtMobiles</span><span class=\"token punctuation\">(</span>mobiles<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>[,,(img-BCu3HFo8-1609383182748)(<a href=\"https://i.loli.net/2020/07/05/LXErbH1KiRGstQ7.jpg)]\">https://i.loli.net/2020/07/05/LXErbH1KiRGstQ7.jpg)]</a></li>\n</ul>\n<h3 id=\"link\"><a href=\"#link\" class=\"headerlink\" title=\"link\"></a>link</h3><ul>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// </span>\n<span class=\"token function\">SendLinkMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">,</span> picUrl<span class=\"token punctuation\">,</span> msgUrl <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">cli<span class=\"token punctuation\">.</span><span class=\"token function\">SendLinkMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">,</span> picUrl<span class=\"token punctuation\">,</span> msgUrl<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li>[,,(img-A6jXhdAE-1609383182751)(<a href=\"https://i.loli.net/2020/07/05/wDG1sMPlU7XZQfr.jpg)]\">https://i.loli.net/2020/07/05/wDG1sMPlU7XZQfr.jpg)]</a></li>\n</ul>\n<h3 id=\"markdown\"><a href=\"#markdown\" class=\"headerlink\" title=\"markdown\"></a>markdown</h3><ul>\n<li><p></p>\n  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// </span>\n<span class=\"token comment\">// textmarkdown</span>\n<span class=\"token function\">SendMarkDownMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> opts <span class=\"token operator\">...</span>atOption<span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span>\n\n<span class=\"token comment\">//  markdown@bug</span>\n<span class=\"token comment\">// @</span>\n<span class=\"token function\">WithAtAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// @</span>\n<span class=\"token function\">WithAtMobiles</span><span class=\"token punctuation\">(</span>mobiles <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p></p>\n  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">cli<span class=\"token punctuation\">.</span><span class=\"token function\">SendMarkDownMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>Markdown</p>\n  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// markdown</span>\nmsg <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token string\">\"### Link test\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"---\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"- &lt;font color=#00ff00 size=6>&lt;/font>\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"- content2\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\ncli<span class=\"token punctuation\">.</span><span class=\"token function\">SendMarkDownMessageBySlice</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Markdown title\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> <span class=\"token function\">WithAtAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  \n<span class=\"token comment\">// </span>\ndm <span class=\"token operator\">:=</span> <span class=\"token function\">DingMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\ndm<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> H2<span class=\"token punctuation\">)</span>\ndm<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"$$  $$\"</span><span class=\"token punctuation\">,</span> RED<span class=\"token punctuation\">)</span>  <span class=\"token comment\">// $</span>\ndm<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"---\"</span><span class=\"token punctuation\">,</span> N<span class=\"token punctuation\">)</span>\ndm<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> GOLD<span class=\"token punctuation\">)</span>\ndm<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> GREEN<span class=\"token punctuation\">)</span>\ndm<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> BLUE<span class=\"token punctuation\">)</span>\ndm<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> N<span class=\"token punctuation\">)</span>\ncli<span class=\"token punctuation\">.</span><span class=\"token function\">SendMarkDownMessageBySlice</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"color test\"</span><span class=\"token punctuation\">,</span> dm<span class=\"token punctuation\">.</span><span class=\"token function\">Slice</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>[,,(img-2y4k2M37-1609383182754)(<a href=\"https://i.loli.net/2020/07/05/7LScefCZIGnDjBV.jpg)]\">https://i.loli.net/2020/07/05/7LScefCZIGnDjBV.jpg)]</a></p>\n</li>\n<li><p>[,,(img-B5PYTjIm-1609383182757)(<a href=\"https://i.loli.net/2020/07/26/PADJ5uqmfQht2cr.jpg)]\">https://i.loli.net/2020/07/26/PADJ5uqmfQht2cr.jpg)]</a></p>\n</li>\n<li><p></p>\n<p>  dtmdLink1dtmdValue1@</p>\n  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// map</span>\ndtmdOrderMap <span class=\"token operator\">:=</span> <span class=\"token function\">DingMap</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n    <span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dtmdOrderMap1\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"dtmdValue1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n    <span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dtmdOrderMap2\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"dtmdValue2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>\n    <span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dtmdOrderMap3\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"dtmdValue3\"</span><span class=\"token punctuation\">)</span>\nerr <span class=\"token operator\">:=</span> dingTalkCli<span class=\"token punctuation\">.</span><span class=\"token function\">SendDTMDMessage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"DTMD title\"</span><span class=\"token punctuation\">,</span> dtmdOrderMap<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p>[,,(img-h15FF5fw-1609383182760)(<a href=\"https://i.loli.net/2020/11/02/1OqEr4HKZWapRgd.jpg)]\">https://i.loli.net/2020/11/02/1OqEr4HKZWapRgd.jpg)]</a></p>\n</li>\n</ul>\n<h3 id=\"ActionCard\"><a href=\"#ActionCard\" class=\"headerlink\" title=\"ActionCard\"></a>ActionCard</h3><ul>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// </span>\n<span class=\"token function\">SendActionCardMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> opts <span class=\"token operator\">...</span>actionCardOption<span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">// </span>\n<span class=\"token function\">WithCardSingleTitle</span><span class=\"token punctuation\">(</span>title <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token function\">WithCardSingleURL</span><span class=\"token punctuation\">(</span>url <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">cli<span class=\"token punctuation\">.</span><span class=\"token function\">SendActionSingleMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">,</span> <span class=\"token function\">WithCardSingleTitle</span><span class=\"token punctuation\">(</span>sTitle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">WithCardSingleURL</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li>[,,(img-HVGqLNFi-1609383182762)(<a href=\"https://i.loli.net/2020/07/05/kKELHAlomndiO9I.jpg)]\">https://i.loli.net/2020/07/05/kKELHAlomndiO9I.jpg)]</a></li>\n</ul>\n<h3 id=\"ActionCard\"><a href=\"#ActionCard\" class=\"headerlink\" title=\"ActionCard\"></a>ActionCard</h3><ul>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// </span>\n<span class=\"token function\">SendActionCardMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> opts <span class=\"token operator\">...</span>actionCardOption<span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span>\n\n<span class=\"token comment\">// </span>\n<span class=\"token comment\">// </span>\n<span class=\"token function\">WithCardBtnVertical</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n  \n<span class=\"token comment\">// </span>\n<span class=\"token function\">WithCardBtns</span><span class=\"token punctuation\">(</span>btns <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>ActionCardMultiBtnModel<span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// ActionCardMultiBtnModel</span>\n<span class=\"token keyword\">type</span> ActionCardMultiBtnModel <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tTitle     <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"title,omitempty\"`</span>\n\tActionURL <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"actionURL,omitempty\"`</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">btns <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>ActionCardMultiBtnModel<span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#123;</span>\n    Title<span class=\"token punctuation\">:</span>     <span class=\"token string\">\"test1\"</span><span class=\"token punctuation\">,</span>\n    ActionURL<span class=\"token punctuation\">:</span> testUrl<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span>\n    Title<span class=\"token punctuation\">:</span>     <span class=\"token string\">\"test2\"</span><span class=\"token punctuation\">,</span>\n    ActionURL<span class=\"token punctuation\">:</span> testUrl<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\ncli<span class=\"token punctuation\">.</span><span class=\"token function\">SendActionSingleMessage</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> text<span class=\"token punctuation\">,</span> <span class=\"token function\">WithCardBtns</span><span class=\"token punctuation\">(</span>btns<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>[,,(img-1uALzgDH-1609383182763)(<a href=\"https://i.loli.net/2020/07/05/t9GywHFSQUWCVDT.jpg)]\">https://i.loli.net/2020/07/05/t9GywHFSQUWCVDT.jpg)]</a></li>\n<li>[,,(img-OH6OzXyF-1609383182764)(<a href=\"https://i.loli.net/2020/07/26/pEg7hotXZnsaJPV.jpg)]\">https://i.loli.net/2020/07/26/pEg7hotXZnsaJPV.jpg)]</a></li>\n</ul>\n<h3 id=\"FeedCard\"><a href=\"#FeedCard\" class=\"headerlink\" title=\"FeedCard\"></a>FeedCard</h3><ul>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token comment\">// </span>\n<span class=\"token function\">SendFeedCardMessage</span><span class=\"token punctuation\">(</span>feedCard <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>FeedCardLinkModel<span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span>\n\n<span class=\"token comment\">// FeedCardLinkModel</span>\n<span class=\"token keyword\">type</span> FeedCardLinkModel <span class=\"token keyword\">struct</span> <span class=\"token punctuation\">&#123;</span>\n\tTitle      <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"title,omitempty\"`</span>\n\tMessageURL <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"messageURL,omitempty\"`</span>\n\tPicURL     <span class=\"token builtin\">string</span> <span class=\"token string\">`json:\"picURL,omitempty\"`</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\">links <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>FeedCardLinkModel<span class=\"token punctuation\">&#123;</span>\n    <span class=\"token punctuation\">&#123;</span>\n        Title<span class=\"token punctuation\">:</span>      <span class=\"token string\">\"FeedCard1.\"</span><span class=\"token punctuation\">,</span>\n        MessageURL<span class=\"token punctuation\">:</span> testUrl<span class=\"token punctuation\">,</span>\n        PicURL<span class=\"token punctuation\">:</span>     testImg<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#123;</span>\n        Title<span class=\"token punctuation\">:</span>      <span class=\"token string\">\"FeedCard2\"</span><span class=\"token punctuation\">,</span>\n        MessageURL<span class=\"token punctuation\">:</span> testUrl<span class=\"token punctuation\">,</span>\n        PicURL<span class=\"token punctuation\">:</span>     testImg<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#123;</span>\n        Title<span class=\"token punctuation\">:</span>      <span class=\"token string\">\"FeedCard3\"</span><span class=\"token punctuation\">,</span>\n        MessageURL<span class=\"token punctuation\">:</span> testUrl<span class=\"token punctuation\">,</span>\n        PicURL<span class=\"token punctuation\">:</span>     testImg<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">&#125;</span>\ncli<span class=\"token punctuation\">.</span><span class=\"token function\">SendFeedCardMessage</span><span class=\"token punctuation\">(</span>links<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>[,,(img-yPI4l7Bp-1609383182765)(<a href=\"https://i.loli.net/2020/07/05/F5WDLqyJ4Yzfj6A.jpg)]\">https://i.loli.net/2020/07/05/F5WDLqyJ4Yzfj6A.jpg)]</a></li>\n</ul>\n<h3 id=\"OutGoing\"><a href=\"#OutGoing\" class=\"headerlink\" title=\"OutGoing\"></a>OutGoing</h3><ul>\n<li>  <pre class=\"line-numbers language-json\" data-language=\"json\"><code class=\"language-json\"><span class=\"token punctuation\">&#123;</span>\n    <span class=\"token property\">\"atUsers\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">&#123;</span>\n            <span class=\"token property\">\"dingtalkId\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"$:LWCP_v1:$1h0bmSzcLCHncx0lCt3Bb/UVz7xv/8vh*\"</span>\n        <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"chatbotUserId\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"$:LWCP_v1:$1h0bmSzcLCHncx0lCt3Bb/UVz7x/8vh*\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"conversationId\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"cidkkCwvtlh1L0RmFuhmashi*==\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"conversationTitle\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"conversationType\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"createAt\"</span><span class=\"token operator\">:</span><span class=\"token number\">1595232438950</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"isAdmin\"</span><span class=\"token operator\">:</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"isInAtList\"</span><span class=\"token operator\">:</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"msgId\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"msgm/bJkKjTupFM7ZoRF/eKR*==\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"msgtype\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"text\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sceneGroupCode\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"project\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"senderId\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"$:LWCP_v1:$x4wFOct/DGctv96o4IxxB*==\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"senderNick\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"blinkbean\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sessionWebhook\"</span><span class=\"token operator\">:</span><span class=\"token string\">\"https://oapi.dingtalk.com/robot/sendBySession?session=6d69b333f243db32d42c11sda9de620*\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"sessionWebhookExpiredTime\"</span><span class=\"token operator\">:</span><span class=\"token number\">1595237839030</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"text\"</span><span class=\"token operator\">:</span><span class=\"token punctuation\">&#123;</span>\n        <span class=\"token property\">\"content\"</span><span class=\"token operator\">:</span><span class=\"token string\">\" outgoing\"</span>\n    <span class=\"token punctuation\">&#125;</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>Usage  <pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">OutGoing</span><span class=\"token punctuation\">(</span>ctx <span class=\"token operator\">*</span>gin<span class=\"token punctuation\">.</span>Context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span>\n    cli <span class=\"token operator\">:=</span> dingtalk<span class=\"token punctuation\">.</span><span class=\"token function\">InitDingTalk</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">&#123;</span><span class=\"token string\">\"***\"</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\".\"</span><span class=\"token punctuation\">)</span>\n    msg<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> cli<span class=\"token punctuation\">.</span><span class=\"token function\">OutGoing</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">.</span>Request<span class=\"token punctuation\">.</span>Body<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// content</span>\n    res <span class=\"token operator\">:=</span> <span class=\"token function\">doSomeThing</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span>Text<span class=\"token punctuation\">.</span>Content<span class=\"token punctuation\">)</span>\n  \n    textMsg <span class=\"token operator\">:=</span> dingtalk<span class=\"token punctuation\">.</span><span class=\"token function\">NewTextMsg</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span>\n    ctx<span class=\"token punctuation\">.</span><span class=\"token function\">Set</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"respData\"</span><span class=\"token punctuation\">,</span> textMsg<span class=\"token punctuation\">)</span>\n    ctx<span class=\"token punctuation\">.</span><span class=\"token function\">JSON</span><span class=\"token punctuation\">(</span>ctx<span class=\"token punctuation\">.</span>Writer<span class=\"token punctuation\">.</span><span class=\"token function\">Status</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> \n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n"},{"title":"-ipintintip","comments":1,"date":"2021-03-07T10:24:37.000Z","author":null,"_content":"\n#### IPint\n\n```go\nfunc toInt(ip string) int64 {\n\ti := 3\n\tsum := int64(0)\n\tfor j, v := range strings.Split(ip, \".\") {\n\t\tintV, _ := strconv.ParseInt(v, 10, 64)\n\t\tsum = sum + intV*int64(math.Pow(float64(256), float64(i-j)))\n\t}\n\tfmt.Println(sum)\n\treturn sum\n}\n\nfunc toIp(num int64) string {\n\ts := make([]string, 4)\n\ti := 3\n\tfor i >= 0 {\n\t\ts[i] = strconv.FormatInt(num % 256,10)\n\t\tnum /= 256\n\t\ti--\n\t}\n\treturn strings.Join(s, \".\")\n}\n```\n","source":"_posts/2021-03-07--ipintintip.md","raw":"---\ntitle: -ipintintip\ncomments: true\ndate: 2021-03-07 18:24:37\nauthor:\ntags:\n - Golang\n - IP\n - Utils\ncategories:\n - \n---\n\n#### IPint\n\n```go\nfunc toInt(ip string) int64 {\n\ti := 3\n\tsum := int64(0)\n\tfor j, v := range strings.Split(ip, \".\") {\n\t\tintV, _ := strconv.ParseInt(v, 10, 64)\n\t\tsum = sum + intV*int64(math.Pow(float64(256), float64(i-j)))\n\t}\n\tfmt.Println(sum)\n\treturn sum\n}\n\nfunc toIp(num int64) string {\n\ts := make([]string, 4)\n\ti := 3\n\tfor i >= 0 {\n\t\ts[i] = strconv.FormatInt(num % 256,10)\n\t\tnum /= 256\n\t\ti--\n\t}\n\treturn strings.Join(s, \".\")\n}\n```\n","slug":"-ipintintip","published":1,"updated":"2021-03-07T11:47:39.834Z","_id":"cklz3crf7001ojvs6bybhfymh","layout":"post","photos":[],"link":"","content":"<h4 id=\"IPint\"><a href=\"#IPint\" class=\"headerlink\" title=\"IPint\"></a>IPint</h4><pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">toInt</span><span class=\"token punctuation\">(</span>ip <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">int64</span> <span class=\"token punctuation\">&#123;</span>\n\ti <span class=\"token operator\">:=</span> <span class=\"token number\">3</span>\n\tsum <span class=\"token operator\">:=</span> <span class=\"token function\">int64</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">for</span> j<span class=\"token punctuation\">,</span> v <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">Split</span><span class=\"token punctuation\">(</span>ip<span class=\"token punctuation\">,</span> <span class=\"token string\">\".\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\tintV<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> strconv<span class=\"token punctuation\">.</span><span class=\"token function\">ParseInt</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">64</span><span class=\"token punctuation\">)</span>\n\t\tsum <span class=\"token operator\">=</span> sum <span class=\"token operator\">+</span> intV<span class=\"token operator\">*</span><span class=\"token function\">int64</span><span class=\"token punctuation\">(</span>math<span class=\"token punctuation\">.</span><span class=\"token function\">Pow</span><span class=\"token punctuation\">(</span><span class=\"token function\">float64</span><span class=\"token punctuation\">(</span><span class=\"token number\">256</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">-</span>j<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span> sum\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">toIp</span><span class=\"token punctuation\">(</span>num <span class=\"token builtin\">int64</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">&#123;</span>\n\ts <span class=\"token operator\">:=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n\ti <span class=\"token operator\">:=</span> <span class=\"token number\">3</span>\n\t<span class=\"token keyword\">for</span> i <span class=\"token operator\">>=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n\t\ts<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> strconv<span class=\"token punctuation\">.</span><span class=\"token function\">FormatInt</span><span class=\"token punctuation\">(</span>num <span class=\"token operator\">%</span> <span class=\"token number\">256</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n\t\tnum <span class=\"token operator\">/=</span> <span class=\"token number\">256</span>\n\t\ti<span class=\"token operator\">--</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">Join</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> <span class=\"token string\">\".\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h4 id=\"IPint\"><a href=\"#IPint\" class=\"headerlink\" title=\"IPint\"></a>IPint</h4><pre class=\"line-numbers language-go\" data-language=\"go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">toInt</span><span class=\"token punctuation\">(</span>ip <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">int64</span> <span class=\"token punctuation\">&#123;</span>\n\ti <span class=\"token operator\">:=</span> <span class=\"token number\">3</span>\n\tsum <span class=\"token operator\">:=</span> <span class=\"token function\">int64</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">for</span> j<span class=\"token punctuation\">,</span> v <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">Split</span><span class=\"token punctuation\">(</span>ip<span class=\"token punctuation\">,</span> <span class=\"token string\">\".\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span>\n\t\tintV<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> strconv<span class=\"token punctuation\">.</span><span class=\"token function\">ParseInt</span><span class=\"token punctuation\">(</span>v<span class=\"token punctuation\">,</span> <span class=\"token number\">10</span><span class=\"token punctuation\">,</span> <span class=\"token number\">64</span><span class=\"token punctuation\">)</span>\n\t\tsum <span class=\"token operator\">=</span> sum <span class=\"token operator\">+</span> intV<span class=\"token operator\">*</span><span class=\"token function\">int64</span><span class=\"token punctuation\">(</span>math<span class=\"token punctuation\">.</span><span class=\"token function\">Pow</span><span class=\"token punctuation\">(</span><span class=\"token function\">float64</span><span class=\"token punctuation\">(</span><span class=\"token number\">256</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">-</span>j<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\tfmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>sum<span class=\"token punctuation\">)</span>\n\t<span class=\"token keyword\">return</span> sum\n<span class=\"token punctuation\">&#125;</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">toIp</span><span class=\"token punctuation\">(</span>num <span class=\"token builtin\">int64</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">&#123;</span>\n\ts <span class=\"token operator\">:=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n\ti <span class=\"token operator\">:=</span> <span class=\"token number\">3</span>\n\t<span class=\"token keyword\">for</span> i <span class=\"token operator\">>=</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">&#123;</span>\n\t\ts<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> strconv<span class=\"token punctuation\">.</span><span class=\"token function\">FormatInt</span><span class=\"token punctuation\">(</span>num <span class=\"token operator\">%</span> <span class=\"token number\">256</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span>\n\t\tnum <span class=\"token operator\">/=</span> <span class=\"token number\">256</span>\n\t\ti<span class=\"token operator\">--</span>\n\t<span class=\"token punctuation\">&#125;</span>\n\t<span class=\"token keyword\">return</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">Join</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> <span class=\"token string\">\".\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">&#125;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Linux-vim","comments":1,"date":"2021-03-07T11:49:22.000Z","author":null,"_content":"\n#### \n- `i`\n> insert \n- `I`\n> insert before line \n- `a`\n> append  ==i== \n- `A`\n> append after line \n- `o`\n> open a line below \n- `O`\n> append a line above \n\n- `Ctrl + h`\n> \n- `Ctrl + w`\n> \n- `Ctrl + u`\n> \n\n#### Normal\n\n- `:set nu`\n > \n- `:set hls`\n > \n- `:set incsearch`\n > \n- `:vs`\n > \n - `:sp`\n > \n- `:q`\n>  \n- `:% s/hello/world/g`\n> helloworld\n- `:% s/\\<xxx\\>/yyy/g`\n> xxx\n\n###### \n- `g` global \n- `c` confirm \n- `n` number \n\n###### \nhjkl\n- `h` ()\n- `l` ()\n- `j` \n- `k` \n\n###### \nword()\nWORD()\n- `w/W` word/WORD\n- `e/E` word/WORD\n- `b/B` word/WORD\n\n###### \n- `f{char}`  \n- `t{char}`  \n- `; `\n- `, `\n- `F{char}` \n- `0` \n- `^` \n- `$` \n- `g_` \n- `zz` \n\n###### \n- `gg` \n- `G` \n\n###### \n- `H` Head  \n- `M` Middle \n- `L` Lower \n\n###### \n- `Ctrl + u` upword \n- `Ctrl + f` forward \n\n#### Visual\n- `v`\n> VISUAL \n- `V`\n> VISUAL LINE \n- `Ctrl v`\n> VISUAL BLOCK \n\n##### \n- `d`\n> delete \n- `y`\n> yanke \n- `p`\n> paste \n\n#### \n\n#### \n- `Ctrl + [`\n> InsertNormal\n- `gi`\n> \n\n#### Vim\n###### \n- `a/i/o`\n###### \n- `x` \n- `d` \n- `d``x`\n- `dw`==`daw` \n- `diw` \n- `dt{char}` \n- `d0` \n- `d$` \n- `4x` 4\n- `2dd` \n\n###### \n- `r` replace r{char} \n- `R` \n- `c` change\n- `s` substitute \n- `2s` \n\n###### \n- `/` \n- `?` \n- `n` \n- `N` \n- `*` \n- `#` \n\n\n\n","source":"_posts/2021-03-07-Linux-vim.md","raw":"---\ntitle: Linux-vim\ncomments: true\ndate: 2021-03-07 19:49:22\nauthor:\ntags:\n - Linux\n - Vim\ncategories:\n---\n\n#### \n- `i`\n> insert \n- `I`\n> insert before line \n- `a`\n> append  ==i== \n- `A`\n> append after line \n- `o`\n> open a line below \n- `O`\n> append a line above \n\n- `Ctrl + h`\n> \n- `Ctrl + w`\n> \n- `Ctrl + u`\n> \n\n#### Normal\n\n- `:set nu`\n > \n- `:set hls`\n > \n- `:set incsearch`\n > \n- `:vs`\n > \n - `:sp`\n > \n- `:q`\n>  \n- `:% s/hello/world/g`\n> helloworld\n- `:% s/\\<xxx\\>/yyy/g`\n> xxx\n\n###### \n- `g` global \n- `c` confirm \n- `n` number \n\n###### \nhjkl\n- `h` ()\n- `l` ()\n- `j` \n- `k` \n\n###### \nword()\nWORD()\n- `w/W` word/WORD\n- `e/E` word/WORD\n- `b/B` word/WORD\n\n###### \n- `f{char}`  \n- `t{char}`  \n- `; `\n- `, `\n- `F{char}` \n- `0` \n- `^` \n- `$` \n- `g_` \n- `zz` \n\n###### \n- `gg` \n- `G` \n\n###### \n- `H` Head  \n- `M` Middle \n- `L` Lower \n\n###### \n- `Ctrl + u` upword \n- `Ctrl + f` forward \n\n#### Visual\n- `v`\n> VISUAL \n- `V`\n> VISUAL LINE \n- `Ctrl v`\n> VISUAL BLOCK \n\n##### \n- `d`\n> delete \n- `y`\n> yanke \n- `p`\n> paste \n\n#### \n\n#### \n- `Ctrl + [`\n> InsertNormal\n- `gi`\n> \n\n#### Vim\n###### \n- `a/i/o`\n###### \n- `x` \n- `d` \n- `d``x`\n- `dw`==`daw` \n- `diw` \n- `dt{char}` \n- `d0` \n- `d$` \n- `4x` 4\n- `2dd` \n\n###### \n- `r` replace r{char} \n- `R` \n- `c` change\n- `s` substitute \n- `2s` \n\n###### \n- `/` \n- `?` \n- `n` \n- `N` \n- `*` \n- `#` \n\n\n\n","slug":"Linux-vim","published":1,"updated":"2021-03-07T11:50:05.975Z","_id":"cklz3exu6001tjvs68tov2oxa","layout":"post","photos":[],"link":"","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p><code>i</code></p>\n<blockquote>\n<p>insert </p>\n</blockquote>\n</li>\n<li><p><code>I</code></p>\n<blockquote>\n<p>insert before line </p>\n</blockquote>\n</li>\n<li><p><code>a</code></p>\n<blockquote>\n<p>append  ==i== </p>\n</blockquote>\n</li>\n<li><p><code>A</code></p>\n<blockquote>\n<p>append after line </p>\n</blockquote>\n</li>\n<li><p><code>o</code></p>\n<blockquote>\n<p>open a line below </p>\n</blockquote>\n</li>\n<li><p><code>O</code></p>\n<blockquote>\n<p>append a line above </p>\n</blockquote>\n</li>\n<li><p><code>Ctrl + h</code></p>\n<blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><p><code>Ctrl + w</code></p>\n<blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><p><code>Ctrl + u</code></p>\n<blockquote>\n<p></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"Normal\"><a href=\"#Normal\" class=\"headerlink\" title=\"Normal\"></a>Normal</h4><ul>\n<li><code>:set nu</code><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><code>:set hls</code><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><code>:set incsearch</code><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><code>:vs</code><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><code>:sp</code><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><code>:q</code><blockquote>\n<p> </p>\n</blockquote>\n</li>\n<li><code>:% s/hello/world/g</code><blockquote>\n<p>helloworld</p>\n</blockquote>\n</li>\n<li><code>:% s/\\&lt;xxx\\&gt;/yyy/g</code><blockquote>\n<p>xxx</p>\n</blockquote>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>g</code> global </li>\n<li><code>c</code> confirm </li>\n<li><code>n</code> number </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>hjkl</p>\n<ul>\n<li><code>h</code> ()</li>\n<li><code>l</code> ()</li>\n<li><code>j</code> </li>\n<li><code>k</code> </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>word()<br>WORD()</p>\n<ul>\n<li><code>w/W</code> word/WORD</li>\n<li><code>e/E</code> word/WORD</li>\n<li><code>b/B</code> word/WORD</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>f&#123;char&#125;</code>  </li>\n<li><code>t&#123;char&#125;</code>  </li>\n<li><code>; </code></li>\n<li><code>, </code></li>\n<li><code>F&#123;char&#125;</code> </li>\n<li><code>0</code> </li>\n<li><code>^</code> </li>\n<li><code>$</code> </li>\n<li><code>g_</code> </li>\n<li><code>zz</code> </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>gg</code> </li>\n<li><code>G</code> </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>H</code> Head  </li>\n<li><code>M</code> Middle </li>\n<li><code>L</code> Lower </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>Ctrl + u</code> upword </li>\n<li><code>Ctrl + f</code> forward </li>\n</ul>\n<h4 id=\"Visual\"><a href=\"#Visual\" class=\"headerlink\" title=\"Visual\"></a>Visual</h4><ul>\n<li><code>v</code><blockquote>\n<p>VISUAL </p>\n</blockquote>\n</li>\n<li><code>V</code><blockquote>\n<p>VISUAL LINE </p>\n</blockquote>\n</li>\n<li><code>Ctrl v</code><blockquote>\n<p>VISUAL BLOCK </p>\n</blockquote>\n</li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li><code>d</code><blockquote>\n<p>delete </p>\n</blockquote>\n</li>\n<li><code>y</code><blockquote>\n<p>yanke </p>\n</blockquote>\n</li>\n<li><code>p</code><blockquote>\n<p>paste </p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><code>Ctrl + [</code><blockquote>\n<p>InsertNormal</p>\n</blockquote>\n</li>\n<li><code>gi</code><blockquote>\n<p></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"Vim\"><a href=\"#Vim\" class=\"headerlink\" title=\"Vim\"></a>Vim</h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>a/i/o</code><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n<li><code>x</code> </li>\n<li><code>d</code> </li>\n<li><code>d</code><code>x</code></li>\n<li><code>dw</code>==<code>daw</code> </li>\n<li><code>diw</code> </li>\n<li><code>dt&#123;char&#125;</code> </li>\n<li><code>d0</code> </li>\n<li><code>d$</code> </li>\n<li><code>4x</code> 4</li>\n<li><code>2dd</code> </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>r</code> replace r{char} </li>\n<li><code>R</code> </li>\n<li><code>c</code> change</li>\n<li><code>s</code> substitute </li>\n<li><code>2s</code> </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>/</code> </li>\n<li><code>?</code> </li>\n<li><code>n</code> </li>\n<li><code>N</code> </li>\n<li><code>*</code> </li>\n<li><code>#</code> </li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><p><code>i</code></p>\n<blockquote>\n<p>insert </p>\n</blockquote>\n</li>\n<li><p><code>I</code></p>\n<blockquote>\n<p>insert before line </p>\n</blockquote>\n</li>\n<li><p><code>a</code></p>\n<blockquote>\n<p>append  ==i== </p>\n</blockquote>\n</li>\n<li><p><code>A</code></p>\n<blockquote>\n<p>append after line </p>\n</blockquote>\n</li>\n<li><p><code>o</code></p>\n<blockquote>\n<p>open a line below </p>\n</blockquote>\n</li>\n<li><p><code>O</code></p>\n<blockquote>\n<p>append a line above </p>\n</blockquote>\n</li>\n<li><p><code>Ctrl + h</code></p>\n<blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><p><code>Ctrl + w</code></p>\n<blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><p><code>Ctrl + u</code></p>\n<blockquote>\n<p></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"Normal\"><a href=\"#Normal\" class=\"headerlink\" title=\"Normal\"></a>Normal</h4><ul>\n<li><code>:set nu</code><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><code>:set hls</code><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><code>:set incsearch</code><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><code>:vs</code><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><code>:sp</code><blockquote>\n<p></p>\n</blockquote>\n</li>\n<li><code>:q</code><blockquote>\n<p> </p>\n</blockquote>\n</li>\n<li><code>:% s/hello/world/g</code><blockquote>\n<p>helloworld</p>\n</blockquote>\n</li>\n<li><code>:% s/\\&lt;xxx\\&gt;/yyy/g</code><blockquote>\n<p>xxx</p>\n</blockquote>\n</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>g</code> global </li>\n<li><code>c</code> confirm </li>\n<li><code>n</code> number </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>hjkl</p>\n<ul>\n<li><code>h</code> ()</li>\n<li><code>l</code> ()</li>\n<li><code>j</code> </li>\n<li><code>k</code> </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><p>word()<br>WORD()</p>\n<ul>\n<li><code>w/W</code> word/WORD</li>\n<li><code>e/E</code> word/WORD</li>\n<li><code>b/B</code> word/WORD</li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>f&#123;char&#125;</code>  </li>\n<li><code>t&#123;char&#125;</code>  </li>\n<li><code>; </code></li>\n<li><code>, </code></li>\n<li><code>F&#123;char&#125;</code> </li>\n<li><code>0</code> </li>\n<li><code>^</code> </li>\n<li><code>$</code> </li>\n<li><code>g_</code> </li>\n<li><code>zz</code> </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>gg</code> </li>\n<li><code>G</code> </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>H</code> Head  </li>\n<li><code>M</code> Middle </li>\n<li><code>L</code> Lower </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>Ctrl + u</code> upword </li>\n<li><code>Ctrl + f</code> forward </li>\n</ul>\n<h4 id=\"Visual\"><a href=\"#Visual\" class=\"headerlink\" title=\"Visual\"></a>Visual</h4><ul>\n<li><code>v</code><blockquote>\n<p>VISUAL </p>\n</blockquote>\n</li>\n<li><code>V</code><blockquote>\n<p>VISUAL LINE </p>\n</blockquote>\n</li>\n<li><code>Ctrl v</code><blockquote>\n<p>VISUAL BLOCK </p>\n</blockquote>\n</li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><ul>\n<li><code>d</code><blockquote>\n<p>delete </p>\n</blockquote>\n</li>\n<li><code>y</code><blockquote>\n<p>yanke </p>\n</blockquote>\n</li>\n<li><code>p</code><blockquote>\n<p>paste </p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li><code>Ctrl + [</code><blockquote>\n<p>InsertNormal</p>\n</blockquote>\n</li>\n<li><code>gi</code><blockquote>\n<p></p>\n</blockquote>\n</li>\n</ul>\n<h4 id=\"Vim\"><a href=\"#Vim\" class=\"headerlink\" title=\"Vim\"></a>Vim</h4><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>a/i/o</code><h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6></li>\n<li><code>x</code> </li>\n<li><code>d</code> </li>\n<li><code>d</code><code>x</code></li>\n<li><code>dw</code>==<code>daw</code> </li>\n<li><code>diw</code> </li>\n<li><code>dt&#123;char&#125;</code> </li>\n<li><code>d0</code> </li>\n<li><code>d$</code> </li>\n<li><code>4x</code> 4</li>\n<li><code>2dd</code> </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>r</code> replace r{char} </li>\n<li><code>R</code> </li>\n<li><code>c</code> change</li>\n<li><code>s</code> substitute </li>\n<li><code>2s</code> </li>\n</ul>\n<h6 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h6><ul>\n<li><code>/</code> </li>\n<li><code>?</code> </li>\n<li><code>n</code> </li>\n<li><code>N</code> </li>\n<li><code>*</code> </li>\n<li><code>#</code> </li>\n</ul>\n"},{"title":"Mysql-","comments":1,"date":"2021-03-07T11:50:34.000Z","author":null,"_content":"\n* #### Replication \n1. masterslaveSQLIOslaveIOmaster\n2. MySQLreplicationmasterBinary Log(mysql-bin.xxx)\n3. slavemaster****\n\n* #### \n1. slaveIOmaster \n2. masterIO\n3. slaveIOslaverelay logmaster\n4. slaveSQLRelay LogLogQuery\n\n* #### MySQL\n1. masterbinlog**slaverelay log**timeout10stimeoutmaster**slaveAcknowledgemaster**timeoutslave\n","source":"_posts/2021-03-07-Mysql-.md","raw":"---\ntitle: Mysql-\ncomments: true\ndate: 2021-03-07 19:50:34\nauthor:\ntags:\n - Mysql\ncategories:\n - \n---\n\n* #### Replication \n1. masterslaveSQLIOslaveIOmaster\n2. MySQLreplicationmasterBinary Log(mysql-bin.xxx)\n3. slavemaster****\n\n* #### \n1. slaveIOmaster \n2. masterIO\n3. slaveIOslaverelay logmaster\n4. slaveSQLRelay LogLogQuery\n\n* #### MySQL\n1. masterbinlog**slaverelay log**timeout10stimeoutmaster**slaveAcknowledgemaster**timeoutslave\n","slug":"Mysql-","published":1,"updated":"2021-03-07T11:50:55.031Z","_id":"cklz3gh1c001yjvs64ogzacz1","layout":"post","photos":[],"link":"","content":"<ul>\n<li><h4 id=\"Replication-\"><a href=\"#Replication-\" class=\"headerlink\" title=\"Replication \"></a>Replication </h4></li>\n</ul>\n<ol>\n<li>masterslaveSQLIOslaveIOmaster</li>\n<li>MySQLreplicationmasterBinary Log(mysql-bin.xxx)</li>\n<li>slavemaster<strong></strong></li>\n</ol>\n<ul>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4></li>\n</ul>\n<ol>\n<li>slaveIOmaster </li>\n<li>masterIO</li>\n<li>slaveIOslaverelay logmaster</li>\n<li>slaveSQLRelay LogLogQuery</li>\n</ol>\n<ul>\n<li><h4 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h4></li>\n</ul>\n<ol>\n<li>masterbinlog<strong>slaverelay log</strong>timeout10stimeoutmaster<strong>slaveAcknowledgemaster</strong>timeoutslave</li>\n</ol>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<ul>\n<li><h4 id=\"Replication-\"><a href=\"#Replication-\" class=\"headerlink\" title=\"Replication \"></a>Replication </h4></li>\n</ul>\n<ol>\n<li>masterslaveSQLIOslaveIOmaster</li>\n<li>MySQLreplicationmasterBinary Log(mysql-bin.xxx)</li>\n<li>slavemaster<strong></strong></li>\n</ol>\n<ul>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4></li>\n</ul>\n<ol>\n<li>slaveIOmaster </li>\n<li>masterIO</li>\n<li>slaveIOslaverelay logmaster</li>\n<li>slaveSQLRelay LogLogQuery</li>\n</ol>\n<ul>\n<li><h4 id=\"MySQL\"><a href=\"#MySQL\" class=\"headerlink\" title=\"MySQL\"></a>MySQL</h4></li>\n</ul>\n<ol>\n<li>masterbinlog<strong>slaverelay log</strong>timeout10stimeoutmaster<strong>slaveAcknowledgemaster</strong>timeoutslave</li>\n</ol>\n"},{"title":"Linux-","comments":1,"date":"2021-03-07T11:51:24.000Z","author":null,"_content":"\n#### \n```\nfor ((s=1987;s<2019;s=s+1))\ndo\nfor ((m=1;m<13;m=m+1))\ndo\naa=($s'_'$m)\necho $aa\nwget https://transtats.bts.gov/PREZIP/On_Time_Reporting_Carrier_On_Time_Performance_1987_present_$aa.zip &\ndone\ndone\n```\n\n#### \n```\n\nscp -r remote_username@remote_ip:remote_folder local_folder\n```\n#### ip\n```\ncurl -L tool.lu/ip\n```\n#### \n \n```\ndu -h --max-depth=0 ./2017_credits.txt\n\n\ndu -sh * | sort -n\n\ndu -sh * | sort -nr\n```\n\n#### ip\n\n```\nip addr show\n```\n#### \n\n```\nless/morevivi\n```\n\n#### \n```\nshutil.copy(remote_file, local_file_dir)\n```\n\n#### echoselect\n\n```\necho \"select * from miveshow_money.user_credits_history limit 1\" | mysql -umiveshow -h10.0.110.115 -pmiveshow123 -Dmiveshow > o\n```\n\n#### \n\n```\nls | wc -l\n```\n#### \n\n```\nls -l |grep \"^-\"|wc -l\n```\n\n#### \n```\n-\nd\n\n1ls -l | grep \"^d\"\n\n/\n\n2ls -F | grep \"/$\"\n\n\n\nls -l | grep \"^d\" | wc -l\n```\n\n#### \n```\nsort -n test.txt | uniq\n```\n\n#### grep(or)\n\n```\ngrep file.txt -E \"aaa|bbb|ccc\"\n```\n\n#### \n[1,999]\n```\nvi file.txt\n:1,999d\n```\n\n#### \n```\ncat file.log | grep test > result.txt\n```\n#### \n```\ncat file.log | grep test >> result.txt\n```\n","source":"_posts/2021-03-07-Linux-.md","raw":"---\ntitle: Linux-\ncomments: true\ndate: 2021-03-07 19:51:24\nauthor:\ntags:\n - Linux\ncategories:\n---\n\n#### \n```\nfor ((s=1987;s<2019;s=s+1))\ndo\nfor ((m=1;m<13;m=m+1))\ndo\naa=($s'_'$m)\necho $aa\nwget https://transtats.bts.gov/PREZIP/On_Time_Reporting_Carrier_On_Time_Performance_1987_present_$aa.zip &\ndone\ndone\n```\n\n#### \n```\n\nscp -r remote_username@remote_ip:remote_folder local_folder\n```\n#### ip\n```\ncurl -L tool.lu/ip\n```\n#### \n \n```\ndu -h --max-depth=0 ./2017_credits.txt\n\n\ndu -sh * | sort -n\n\ndu -sh * | sort -nr\n```\n\n#### ip\n\n```\nip addr show\n```\n#### \n\n```\nless/morevivi\n```\n\n#### \n```\nshutil.copy(remote_file, local_file_dir)\n```\n\n#### echoselect\n\n```\necho \"select * from miveshow_money.user_credits_history limit 1\" | mysql -umiveshow -h10.0.110.115 -pmiveshow123 -Dmiveshow > o\n```\n\n#### \n\n```\nls | wc -l\n```\n#### \n\n```\nls -l |grep \"^-\"|wc -l\n```\n\n#### \n```\n-\nd\n\n1ls -l | grep \"^d\"\n\n/\n\n2ls -F | grep \"/$\"\n\n\n\nls -l | grep \"^d\" | wc -l\n```\n\n#### \n```\nsort -n test.txt | uniq\n```\n\n#### grep(or)\n\n```\ngrep file.txt -E \"aaa|bbb|ccc\"\n```\n\n#### \n[1,999]\n```\nvi file.txt\n:1,999d\n```\n\n#### \n```\ncat file.log | grep test > result.txt\n```\n#### \n```\ncat file.log | grep test >> result.txt\n```\n","slug":"Linux-","published":1,"updated":"2021-03-07T12:01:57.821Z","_id":"cklz3hk3l0021jvs61nuw24vc","layout":"post","photos":[],"link":"","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">for ((s&#x3D;1987;s&lt;2019;s&#x3D;s+1))\ndo\nfor ((m&#x3D;1;m&lt;13;m&#x3D;m+1))\ndo\naa&#x3D;($s&#39;_&#39;$m)\necho $aa\nwget https:&#x2F;&#x2F;transtats.bts.gov&#x2F;PREZIP&#x2F;On_Time_Reporting_Carrier_On_Time_Performance_1987_present_$aa.zip &amp;\ndone\ndone<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">\nscp -r remote_username@remote_ip:remote_folder local_folder<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h4 id=\"ip\"><a href=\"#ip\" class=\"headerlink\" title=\"ip\"></a>ip</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">curl -L tool.lu&#x2F;ip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">du -h --max-depth&#x3D;0 .&#x2F;2017_credits.txt\n\n\ndu -sh * | sort -n\n\ndu -sh * | sort -nr<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"ip\"><a href=\"#ip\" class=\"headerlink\" title=\"ip\"></a>ip</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">ip addr show<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">less&#x2F;morevivi<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">shutil.copy(remote_file, local_file_dir)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"echoselect\"><a href=\"#echoselect\" class=\"headerlink\" title=\"echoselect\"></a>echoselect</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">echo &quot;select * from miveshow_money.user_credits_history limit 1&quot; | mysql -umiveshow -h10.0.110.115 -pmiveshow123 -Dmiveshow &gt; o<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">ls | wc -l<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">ls -l |grep &quot;^-&quot;|wc -l<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">-\nd\n\n1ls -l | grep &quot;^d&quot;\n\n&#x2F;\n\n2ls -F | grep &quot;&#x2F;$&quot;\n\n\n\nls -l | grep &quot;^d&quot; | wc -l<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">sort -n test.txt | uniq<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"grep-or\"><a href=\"#grep-or\" class=\"headerlink\" title=\"grep(or)\"></a>grep(or)</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">grep file.txt -E &quot;aaa|bbb|ccc&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>[1,999]</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">vi file.txt\n:1,999d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">cat file.log | grep test &gt; result.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">cat file.log | grep test &gt;&gt; result.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">for ((s&#x3D;1987;s&lt;2019;s&#x3D;s+1))\ndo\nfor ((m&#x3D;1;m&lt;13;m&#x3D;m+1))\ndo\naa&#x3D;($s&#39;_&#39;$m)\necho $aa\nwget https:&#x2F;&#x2F;transtats.bts.gov&#x2F;PREZIP&#x2F;On_Time_Reporting_Carrier_On_Time_Performance_1987_present_$aa.zip &amp;\ndone\ndone<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">\nscp -r remote_username@remote_ip:remote_folder local_folder<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h4 id=\"ip\"><a href=\"#ip\" class=\"headerlink\" title=\"ip\"></a>ip</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">curl -L tool.lu&#x2F;ip<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">du -h --max-depth&#x3D;0 .&#x2F;2017_credits.txt\n\n\ndu -sh * | sort -n\n\ndu -sh * | sort -nr<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"ip\"><a href=\"#ip\" class=\"headerlink\" title=\"ip\"></a>ip</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">ip addr show<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">less&#x2F;morevivi<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">shutil.copy(remote_file, local_file_dir)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"echoselect\"><a href=\"#echoselect\" class=\"headerlink\" title=\"echoselect\"></a>echoselect</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">echo &quot;select * from miveshow_money.user_credits_history limit 1&quot; | mysql -umiveshow -h10.0.110.115 -pmiveshow123 -Dmiveshow &gt; o<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">ls | wc -l<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">ls -l |grep &quot;^-&quot;|wc -l<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">-\nd\n\n1ls -l | grep &quot;^d&quot;\n\n&#x2F;\n\n2ls -F | grep &quot;&#x2F;$&quot;\n\n\n\nls -l | grep &quot;^d&quot; | wc -l<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">sort -n test.txt | uniq<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"grep-or\"><a href=\"#grep-or\" class=\"headerlink\" title=\"grep(or)\"></a>grep(or)</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">grep file.txt -E &quot;aaa|bbb|ccc&quot;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>[1,999]</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">vi file.txt\n:1,999d<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">cat file.log | grep test &gt; result.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">cat file.log | grep test &gt;&gt; result.txt<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n"},{"title":"Git-","comments":1,"date":"2021-03-07T11:52:19.000Z","author":null,"_content":"\n#### ()\n\n```\ngit fetch --all\ngit reset --hard origin/your branch name\ngit pull\n```\n#### \n```\ngit commit -a -m 'this is my commit'\n```\n\n```\ngit add .\ngit commit -m 'your commit'\n```\n#### (macwindows)\n\n```\nalias\n```\ngit\n![alias](https://img-blog.csdnimg.cn/20190526223820765.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n\n```\n\ngco branch_name\nmaster\ngcm\n\ngb\n\ngd\n\ngl\n```\n#### parent\n```\ngit checkout --orphan branch-name\n```\n#### Git \n```\ngit log --format='%aN' | sort -u | while read name; do echo -en \"$name\\t\"; git log --author=\"$name\" --pretty=tformat: --numstat | awk '{ add += $1; subs += $2; loc += $1 - $2 } END { printf \"added lines: %s, removed lines: %s, total lines: %s\\n\", add, subs, loc }' -; done\n```\n#### Git perl: warning: Setting locale failed.\n```\nvim  ~/.zshrc\n\n# Setting for the new UTF-8 terminal support in Lion\nLC_CTYPE=en_US.UTF-8\nLC_ALL=en_US.UTF-8\n\nsource ~/.zshrc\n\niTerm\n```\n#### mergecommit\nmerge(commit)commit\n* mergecommitId\n```\ngco old_branch\ngit log\n```\n> commit 1534c530522982a6ff050ac420b300ae4364474e\nAuthor: lidoudou \\<lidoudou@csdn.com>\nDate:   Sat Apr 27 17:15:14 2019 +0800\n>  update kafka setting\n* pickcommit\n```\ngco new_branch\ngit cherr-pick 1534c530522  // commitId\n```\n* new_branchcommitId\n* fixOK","source":"_posts/2021-03-07-Git-.md","raw":"---\ntitle: Git-\ncomments: true\ndate: 2021-03-07 19:52:19\nauthor:\ntags:\n - Git\ncategories:\n---\n\n#### ()\n\n```\ngit fetch --all\ngit reset --hard origin/your branch name\ngit pull\n```\n#### \n```\ngit commit -a -m 'this is my commit'\n```\n\n```\ngit add .\ngit commit -m 'your commit'\n```\n#### (macwindows)\n\n```\nalias\n```\ngit\n![alias](https://img-blog.csdnimg.cn/20190526223820765.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70)\n\n```\n\ngco branch_name\nmaster\ngcm\n\ngb\n\ngd\n\ngl\n```\n#### parent\n```\ngit checkout --orphan branch-name\n```\n#### Git \n```\ngit log --format='%aN' | sort -u | while read name; do echo -en \"$name\\t\"; git log --author=\"$name\" --pretty=tformat: --numstat | awk '{ add += $1; subs += $2; loc += $1 - $2 } END { printf \"added lines: %s, removed lines: %s, total lines: %s\\n\", add, subs, loc }' -; done\n```\n#### Git perl: warning: Setting locale failed.\n```\nvim  ~/.zshrc\n\n# Setting for the new UTF-8 terminal support in Lion\nLC_CTYPE=en_US.UTF-8\nLC_ALL=en_US.UTF-8\n\nsource ~/.zshrc\n\niTerm\n```\n#### mergecommit\nmerge(commit)commit\n* mergecommitId\n```\ngco old_branch\ngit log\n```\n> commit 1534c530522982a6ff050ac420b300ae4364474e\nAuthor: lidoudou \\<lidoudou@csdn.com>\nDate:   Sat Apr 27 17:15:14 2019 +0800\n>  update kafka setting\n* pickcommit\n```\ngco new_branch\ngit cherr-pick 1534c530522  // commitId\n```\n* new_branchcommitId\n* fixOK","slug":"Git-","published":1,"updated":"2021-03-07T11:52:40.710Z","_id":"cklz3iq8m0023jvs67t6gcn5o","layout":"post","photos":[],"link":"","content":"<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"()\"></a>()</h4><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">git fetch --all\ngit reset --hard origin&#x2F;your branch name\ngit pull<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">git commit -a -m &#39;this is my commit&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">git add .\ngit commit -m &#39;your commit&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h4 id=\"-macwindows\"><a href=\"#-macwindows\" class=\"headerlink\" title=\"(macwindows)\"></a>(macwindows)</h4><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">alias<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>git<br><img src=\"https://img-blog.csdnimg.cn/20190526223820765.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"alias\"><br></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngco branch_name\nmaster\ngcm\n\ngb\n\ngd\n\ngl<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"parent\"><a href=\"#parent\" class=\"headerlink\" title=\"parent\"></a>parent</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">git checkout --orphan branch-name<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"Git-\"><a href=\"#Git-\" class=\"headerlink\" title=\"Git \"></a>Git </h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">git log --format&#x3D;&#39;%aN&#39; | sort -u | while read name; do echo -en &quot;$name\\t&quot;; git log --author&#x3D;&quot;$name&quot; --pretty&#x3D;tformat: --numstat | awk &#39;&#123; add +&#x3D; $1; subs +&#x3D; $2; loc +&#x3D; $1 - $2 &#125; END &#123; printf &quot;added lines: %s, removed lines: %s, total lines: %s\\n&quot;, add, subs, loc &#125;&#39; -; done<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"Git-perl-warning-Setting-locale-failed\"><a href=\"#Git-perl-warning-Setting-locale-failed\" class=\"headerlink\" title=\"Git perl: warning: Setting locale failed.\"></a>Git perl: warning: Setting locale failed.</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">vim  ~&#x2F;.zshrc\n\n# Setting for the new UTF-8 terminal support in Lion\nLC_CTYPE&#x3D;en_US.UTF-8\nLC_ALL&#x3D;en_US.UTF-8\n\nsource ~&#x2F;.zshrc\n\niTerm<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"mergecommit\"><a href=\"#mergecommit\" class=\"headerlink\" title=\"mergecommit\"></a>mergecommit</h4><p>merge(commit)commit</p>\n<ul>\n<li>mergecommitId<pre class=\"line-numbers language-none\"><code class=\"language-none\">gco old_branch\ngit log<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<blockquote>\n<p>commit 1534c530522982a6ff050ac420b300ae4364474e<br>Author: lidoudou &lt;<a href=\"mailto:&#108;&#105;&#x64;&#111;&#117;&#100;&#x6f;&#117;&#64;&#x63;&#115;&#100;&#110;&#46;&#x63;&#111;&#109;\">&#108;&#105;&#x64;&#111;&#117;&#100;&#x6f;&#117;&#64;&#x63;&#115;&#100;&#110;&#46;&#x63;&#111;&#109;</a>&gt;<br>Date:   Sat Apr 27 17:15:14 2019 +0800<br> update kafka setting</p>\n</blockquote>\n</li>\n<li>pickcommit<pre class=\"line-numbers language-none\"><code class=\"language-none\">gco new_branch\ngit cherr-pick 1534c530522  &#x2F;&#x2F; commitId<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li>new_branchcommitId</li>\n<li>fixOK</li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\"()\"></a>()</h4><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">git fetch --all\ngit reset --hard origin&#x2F;your branch name\ngit pull<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">git commit -a -m &#39;this is my commit&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">git add .\ngit commit -m &#39;your commit&#39;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h4 id=\"-macwindows\"><a href=\"#-macwindows\" class=\"headerlink\" title=\"(macwindows)\"></a>(macwindows)</h4><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">alias<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>git<br><img src=\"https://img-blog.csdnimg.cn/20190526223820765.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==,size_16,color_FFFFFF,t_70\" alt=\"alias\"><br></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\ngco branch_name\nmaster\ngcm\n\ngb\n\ngd\n\ngl<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"parent\"><a href=\"#parent\" class=\"headerlink\" title=\"parent\"></a>parent</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">git checkout --orphan branch-name<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"Git-\"><a href=\"#Git-\" class=\"headerlink\" title=\"Git \"></a>Git </h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">git log --format&#x3D;&#39;%aN&#39; | sort -u | while read name; do echo -en &quot;$name\\t&quot;; git log --author&#x3D;&quot;$name&quot; --pretty&#x3D;tformat: --numstat | awk &#39;&#123; add +&#x3D; $1; subs +&#x3D; $2; loc +&#x3D; $1 - $2 &#125; END &#123; printf &quot;added lines: %s, removed lines: %s, total lines: %s\\n&quot;, add, subs, loc &#125;&#39; -; done<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h4 id=\"Git-perl-warning-Setting-locale-failed\"><a href=\"#Git-perl-warning-Setting-locale-failed\" class=\"headerlink\" title=\"Git perl: warning: Setting locale failed.\"></a>Git perl: warning: Setting locale failed.</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">vim  ~&#x2F;.zshrc\n\n# Setting for the new UTF-8 terminal support in Lion\nLC_CTYPE&#x3D;en_US.UTF-8\nLC_ALL&#x3D;en_US.UTF-8\n\nsource ~&#x2F;.zshrc\n\niTerm<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"mergecommit\"><a href=\"#mergecommit\" class=\"headerlink\" title=\"mergecommit\"></a>mergecommit</h4><p>merge(commit)commit</p>\n<ul>\n<li>mergecommitId<pre class=\"line-numbers language-none\"><code class=\"language-none\">gco old_branch\ngit log<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<blockquote>\n<p>commit 1534c530522982a6ff050ac420b300ae4364474e<br>Author: lidoudou &lt;<a href=\"mailto:&#108;&#105;&#x64;&#111;&#117;&#100;&#x6f;&#117;&#64;&#x63;&#115;&#100;&#110;&#46;&#x63;&#111;&#109;\">&#108;&#105;&#x64;&#111;&#117;&#100;&#x6f;&#117;&#64;&#x63;&#115;&#100;&#110;&#46;&#x63;&#111;&#109;</a>&gt;<br>Date:   Sat Apr 27 17:15:14 2019 +0800<br> update kafka setting</p>\n</blockquote>\n</li>\n<li>pickcommit<pre class=\"line-numbers language-none\"><code class=\"language-none\">gco new_branch\ngit cherr-pick 1534c530522  &#x2F;&#x2F; commitId<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li>new_branchcommitId</li>\n<li>fixOK</li>\n</ul>\n"},{"title":"-1","comments":1,"date":"2021-03-07T11:53:37.000Z","author":null,"_content":"\n###  x & (x - 1) x1\n```\nx = 15\n\t15 = 0b1111\n\t14 = 0b1110\ny = x & (x-1)\ny = 0b1110  # x1\n\ny = 14\n\t14 = 0b1110\n\t13 = 0b1101\nz = y & (y-1)\nz = 0b1100  # y1\n\n```\n* O(1) X2n\n> 2n1\n> 10\n\n```\nx = 16\n\t16 = 0b10000\n\t15 = 0b01111\nx & (x - 1) = 0\n```\n* 1\n> x & (x - 1) 1\n> while10\n\n```\na = 15\nb = 0\nwhile a > 0:\n\ta = a & (a - 1)\n\tb += 1\nprint b # 1\n```\n","source":"_posts/2021-03-07--1.md","raw":"---\ntitle: -1\ncomments: true\ndate: 2021-03-07 19:53:37\nauthor:\ntags:\n - \ncategories:\n---\n\n###  x & (x - 1) x1\n```\nx = 15\n\t15 = 0b1111\n\t14 = 0b1110\ny = x & (x-1)\ny = 0b1110  # x1\n\ny = 14\n\t14 = 0b1110\n\t13 = 0b1101\nz = y & (y-1)\nz = 0b1100  # y1\n\n```\n* O(1) X2n\n> 2n1\n> 10\n\n```\nx = 16\n\t16 = 0b10000\n\t15 = 0b01111\nx & (x - 1) = 0\n```\n* 1\n> x & (x - 1) 1\n> while10\n\n```\na = 15\nb = 0\nwhile a > 0:\n\ta = a & (a - 1)\n\tb += 1\nprint b # 1\n```\n","slug":"-1","published":1,"updated":"2021-03-07T11:54:13.728Z","_id":"cklz3kekj0026jvs61i1v0zo1","layout":"post","photos":[],"link":"","content":"<h3 id=\"x-amp-x-1-x1\"><a href=\"#x-amp-x-1-x1\" class=\"headerlink\" title=\"x &amp; (x - 1) x1\"></a>x &amp; (x - 1) x1</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">x &#x3D; 15\n\t15 &#x3D; 0b1111\n\t14 &#x3D; 0b1110\ny &#x3D; x &amp; (x-1)\ny &#x3D; 0b1110  # x1\n\ny &#x3D; 14\n\t14 &#x3D; 0b1110\n\t13 &#x3D; 0b1101\nz &#x3D; y &amp; (y-1)\nz &#x3D; 0b1100  # y1\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>O(1) X2n<blockquote>\n<p>2n1<br>10</p>\n</blockquote>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">x &#x3D; 16\n\t16 &#x3D; 0b10000\n\t15 &#x3D; 0b01111\nx &amp; (x - 1) &#x3D; 0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>1<blockquote>\n<p>x &amp; (x - 1) 1<br>while10</p>\n</blockquote>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">a &#x3D; 15\nb &#x3D; 0\nwhile a &gt; 0:\n\ta &#x3D; a &amp; (a - 1)\n\tb +&#x3D; 1\nprint b # 1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"x-amp-x-1-x1\"><a href=\"#x-amp-x-1-x1\" class=\"headerlink\" title=\"x &amp; (x - 1) x1\"></a>x &amp; (x - 1) x1</h3><pre class=\"line-numbers language-none\"><code class=\"language-none\">x &#x3D; 15\n\t15 &#x3D; 0b1111\n\t14 &#x3D; 0b1110\ny &#x3D; x &amp; (x-1)\ny &#x3D; 0b1110  # x1\n\ny &#x3D; 14\n\t14 &#x3D; 0b1110\n\t13 &#x3D; 0b1101\nz &#x3D; y &amp; (y-1)\nz &#x3D; 0b1100  # y1\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>O(1) X2n<blockquote>\n<p>2n1<br>10</p>\n</blockquote>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">x &#x3D; 16\n\t16 &#x3D; 0b10000\n\t15 &#x3D; 0b01111\nx &amp; (x - 1) &#x3D; 0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>1<blockquote>\n<p>x &amp; (x - 1) 1<br>while10</p>\n</blockquote>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">a &#x3D; 15\nb &#x3D; 0\nwhile a &gt; 0:\n\ta &#x3D; a &amp; (a - 1)\n\tb +&#x3D; 1\nprint b # 1<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n"},{"title":"Python-MRO","comments":1,"date":"2021-03-07T11:55:21.000Z","author":null,"_content":"\n[](https://zhuanlan.zhihu.com/p/25321349)\n\n[MRO](http://python.jobbole.com/85685/)\n\n#### C3(The C3 Method Resolution Order)\n- \n##### 1\n```\n>>> O = object\n>>> class F(O): pass\n>>> class E(O): pass\n>>> class D(O): pass\n>>> class C(D,F): pass\n>>> class B(D,E): pass\n>>> class A(B,C): pass\n```\n\n\n```\n                          6\n                         ---\nLevel 3                 | O |                  (more general)\n                      /  ---  \\\n                     /    |    \\                      |\n                    /     |     \\                     |\n                   /      |      \\                    |\n                  ---    ---    ---                   |\nLevel 2        3 | D | 4| E |  | F | 5                |\n                  ---    ---    ---                   |\n                   \\  \\ _ /       |                   |\n                    \\    / \\ _    |                   |\n                     \\  /      \\  |                   |\n                      ---      ---                    |\nLevel 1            1 | B |    | C | 2                 |\n                      ---      ---                    |\n                        \\      /                      |\n                         \\    /                      \\ /\n                           ---\nLevel 0                 0 | A |              \n```\n\n\n```\nL[A] = A + merge(BDEO,CDFO,BC)\n     = A + B + merge(DEO,CDFO,C)\n     = A + B + C + merge(DEO,DFO)\n     = A + B + C + D + merge(EO,FO)\n     = A + B + C + D + E + merge(O,FO)\n     = A + B + C + D + E + F + merge(O,O)\n     = A B C D E F O\n```\n\n##### 2\n```\n>>> O = object\n>>> class F(O): pass\n>>> class E(O): pass\n>>> class D(O): pass\n>>> class C(D,F): pass\n>>> class B(E,D): pass\n>>> class A(B,C): pass\n```\n\n\n```\n                           6\n                          ---\nLevel 3                  | O |\n                       /  ---  \\\n                      /    |    \\\n                     /     |     \\\n                    /      |      \\\n                  ---     ---    ---\nLevel 2        2 | E | 4 | D |  | F | 5\n                  ---     ---    ---\n                   \\      / \\     /\n                    \\    /   \\   /\n                     \\  /     \\ /\n                      ---     ---\nLevel 1            1 | B |   | C | 3\n                      ---     ---\n                       \\       /\n                        \\     /\n                          ---\nLevel 0                0 | A |\n                          ---\n```\n\n\n```\n>>> A.mro()\n(<class '__main__.A'>, <class '__main__.B'>, <class '__main__.E'>,\n<class '__main__.C'>, <class '__main__.D'>, <class '__main__.F'>,\n<type 'object'>)\n```\n\n#### MRO\n##### 3\n```\n>>> O = object\n>>> class X(O): pass\n>>> class Y(O): pass\n>>> class A(X,Y): pass\n>>> class B(Y,X): pass\n```\n```\n -----------\n|           |\n|    O      |\n|  /   \\    |\n - X    Y  /\n   |  / | /\n   | /  |/\n   A    B\n   \\   /\n     ?\n```\n```\nL[O] = 0\nL[X] = X O\nL[Y] = Y O\nL[A] = A X Y O\nL[B] = B Y X O\n```\n\n```\nL[C] = C + merge(AXYO, BYXO, AB)\n     = C + A + merge(XYO, BYXO, B)\n     = C + A + B + merge(XYO, YXO)\n```\n- XYOYXOheadC3Python 2.3(TypeError: MRO conflict among bases Y, X)XYXOtail,YXYOtail,Python 2.2(CABXYO).","source":"_posts/2021-03-07-Python-MRO.md","raw":"---\ntitle: Python-MRO\ncomments: true\ndate: 2021-03-07 19:55:21\nauthor:\ntags:\n - Python\ncategories:\n - \n---\n\n[](https://zhuanlan.zhihu.com/p/25321349)\n\n[MRO](http://python.jobbole.com/85685/)\n\n#### C3(The C3 Method Resolution Order)\n- \n##### 1\n```\n>>> O = object\n>>> class F(O): pass\n>>> class E(O): pass\n>>> class D(O): pass\n>>> class C(D,F): pass\n>>> class B(D,E): pass\n>>> class A(B,C): pass\n```\n\n\n```\n                          6\n                         ---\nLevel 3                 | O |                  (more general)\n                      /  ---  \\\n                     /    |    \\                      |\n                    /     |     \\                     |\n                   /      |      \\                    |\n                  ---    ---    ---                   |\nLevel 2        3 | D | 4| E |  | F | 5                |\n                  ---    ---    ---                   |\n                   \\  \\ _ /       |                   |\n                    \\    / \\ _    |                   |\n                     \\  /      \\  |                   |\n                      ---      ---                    |\nLevel 1            1 | B |    | C | 2                 |\n                      ---      ---                    |\n                        \\      /                      |\n                         \\    /                      \\ /\n                           ---\nLevel 0                 0 | A |              \n```\n\n\n```\nL[A] = A + merge(BDEO,CDFO,BC)\n     = A + B + merge(DEO,CDFO,C)\n     = A + B + C + merge(DEO,DFO)\n     = A + B + C + D + merge(EO,FO)\n     = A + B + C + D + E + merge(O,FO)\n     = A + B + C + D + E + F + merge(O,O)\n     = A B C D E F O\n```\n\n##### 2\n```\n>>> O = object\n>>> class F(O): pass\n>>> class E(O): pass\n>>> class D(O): pass\n>>> class C(D,F): pass\n>>> class B(E,D): pass\n>>> class A(B,C): pass\n```\n\n\n```\n                           6\n                          ---\nLevel 3                  | O |\n                       /  ---  \\\n                      /    |    \\\n                     /     |     \\\n                    /      |      \\\n                  ---     ---    ---\nLevel 2        2 | E | 4 | D |  | F | 5\n                  ---     ---    ---\n                   \\      / \\     /\n                    \\    /   \\   /\n                     \\  /     \\ /\n                      ---     ---\nLevel 1            1 | B |   | C | 3\n                      ---     ---\n                       \\       /\n                        \\     /\n                          ---\nLevel 0                0 | A |\n                          ---\n```\n\n\n```\n>>> A.mro()\n(<class '__main__.A'>, <class '__main__.B'>, <class '__main__.E'>,\n<class '__main__.C'>, <class '__main__.D'>, <class '__main__.F'>,\n<type 'object'>)\n```\n\n#### MRO\n##### 3\n```\n>>> O = object\n>>> class X(O): pass\n>>> class Y(O): pass\n>>> class A(X,Y): pass\n>>> class B(Y,X): pass\n```\n```\n -----------\n|           |\n|    O      |\n|  /   \\    |\n - X    Y  /\n   |  / | /\n   | /  |/\n   A    B\n   \\   /\n     ?\n```\n```\nL[O] = 0\nL[X] = X O\nL[Y] = Y O\nL[A] = A X Y O\nL[B] = B Y X O\n```\n\n```\nL[C] = C + merge(AXYO, BYXO, AB)\n     = C + A + merge(XYO, BYXO, B)\n     = C + A + B + merge(XYO, YXO)\n```\n- XYOYXOheadC3Python 2.3(TypeError: MRO conflict among bases Y, X)XYXOtail,YXYOtail,Python 2.2(CABXYO).","slug":"Python-MRO","published":1,"updated":"2021-03-07T11:55:49.684Z","_id":"cklz3mmuc0029jvs6cj6o8eut","layout":"post","photos":[],"link":"","content":"<p><a href=\"https://zhuanlan.zhihu.com/p/25321349\"></a></p>\n<p><a href=\"http://python.jobbole.com/85685/\">MRO</a></p>\n<h4 id=\"C3-The-C3-Method-Resolution-Order\"><a href=\"#C3-The-C3-Method-Resolution-Order\" class=\"headerlink\" title=\"C3(The C3 Method Resolution Order)\"></a>C3(The C3 Method Resolution Order)</h4><ul>\n<li><h5 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt;&gt;&gt; O &#x3D; object\n&gt;&gt;&gt; class F(O): pass\n&gt;&gt;&gt; class E(O): pass\n&gt;&gt;&gt; class D(O): pass\n&gt;&gt;&gt; class C(D,F): pass\n&gt;&gt;&gt; class B(D,E): pass\n&gt;&gt;&gt; class A(B,C): pass<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">                          6\n                         ---\nLevel 3                 | O |                  (more general)\n                      &#x2F;  ---  \\\n                     &#x2F;    |    \\                      |\n                    &#x2F;     |     \\                     |\n                   &#x2F;      |      \\                    |\n                  ---    ---    ---                   |\nLevel 2        3 | D | 4| E |  | F | 5                |\n                  ---    ---    ---                   |\n                   \\  \\ _ &#x2F;       |                   |\n                    \\    &#x2F; \\ _    |                   |\n                     \\  &#x2F;      \\  |                   |\n                      ---      ---                    |\nLevel 1            1 | B |    | C | 2                 |\n                      ---      ---                    |\n                        \\      &#x2F;                      |\n                         \\    &#x2F;                      \\ &#x2F;\n                           ---\nLevel 0                 0 | A |              <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">L[A] &#x3D; A + merge(BDEO,CDFO,BC)\n     &#x3D; A + B + merge(DEO,CDFO,C)\n     &#x3D; A + B + C + merge(DEO,DFO)\n     &#x3D; A + B + C + D + merge(EO,FO)\n     &#x3D; A + B + C + D + E + merge(O,FO)\n     &#x3D; A + B + C + D + E + F + merge(O,O)\n     &#x3D; A B C D E F O<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h5 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt;&gt;&gt; O &#x3D; object\n&gt;&gt;&gt; class F(O): pass\n&gt;&gt;&gt; class E(O): pass\n&gt;&gt;&gt; class D(O): pass\n&gt;&gt;&gt; class C(D,F): pass\n&gt;&gt;&gt; class B(E,D): pass\n&gt;&gt;&gt; class A(B,C): pass<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">                           6\n                          ---\nLevel 3                  | O |\n                       &#x2F;  ---  \\\n                      &#x2F;    |    \\\n                     &#x2F;     |     \\\n                    &#x2F;      |      \\\n                  ---     ---    ---\nLevel 2        2 | E | 4 | D |  | F | 5\n                  ---     ---    ---\n                   \\      &#x2F; \\     &#x2F;\n                    \\    &#x2F;   \\   &#x2F;\n                     \\  &#x2F;     \\ &#x2F;\n                      ---     ---\nLevel 1            1 | B |   | C | 3\n                      ---     ---\n                       \\       &#x2F;\n                        \\     &#x2F;\n                          ---\nLevel 0                0 | A |\n                          ---<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt;&gt;&gt; A.mro()\n(&lt;class &#39;__main__.A&#39;&gt;, &lt;class &#39;__main__.B&#39;&gt;, &lt;class &#39;__main__.E&#39;&gt;,\n&lt;class &#39;__main__.C&#39;&gt;, &lt;class &#39;__main__.D&#39;&gt;, &lt;class &#39;__main__.F&#39;&gt;,\n&lt;type &#39;object&#39;&gt;)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"MRO\"><a href=\"#MRO\" class=\"headerlink\" title=\"MRO\"></a>MRO</h4><h5 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt;&gt;&gt; O &#x3D; object\n&gt;&gt;&gt; class X(O): pass\n&gt;&gt;&gt; class Y(O): pass\n&gt;&gt;&gt; class A(X,Y): pass\n&gt;&gt;&gt; class B(Y,X): pass<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"> -----------\n|           |\n|    O      |\n|  &#x2F;   \\    |\n - X    Y  &#x2F;\n   |  &#x2F; | &#x2F;\n   | &#x2F;  |&#x2F;\n   A    B\n   \\   &#x2F;\n     ?<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">L[O] &#x3D; 0\nL[X] &#x3D; X O\nL[Y] &#x3D; Y O\nL[A] &#x3D; A X Y O\nL[B] &#x3D; B Y X O<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">L[C] &#x3D; C + merge(AXYO, BYXO, AB)\n     &#x3D; C + A + merge(XYO, BYXO, B)\n     &#x3D; C + A + B + merge(XYO, YXO)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>XYOYXOheadC3Python 2.3(TypeError: MRO conflict among bases Y, X)XYXOtail,YXYOtail,Python 2.2(CABXYO).</li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<p><a href=\"https://zhuanlan.zhihu.com/p/25321349\"></a></p>\n<p><a href=\"http://python.jobbole.com/85685/\">MRO</a></p>\n<h4 id=\"C3-The-C3-Method-Resolution-Order\"><a href=\"#C3-The-C3-Method-Resolution-Order\" class=\"headerlink\" title=\"C3(The C3 Method Resolution Order)\"></a>C3(The C3 Method Resolution Order)</h4><ul>\n<li><h5 id=\"1\"><a href=\"#1\" class=\"headerlink\" title=\"1\"></a>1</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt;&gt;&gt; O &#x3D; object\n&gt;&gt;&gt; class F(O): pass\n&gt;&gt;&gt; class E(O): pass\n&gt;&gt;&gt; class D(O): pass\n&gt;&gt;&gt; class C(D,F): pass\n&gt;&gt;&gt; class B(D,E): pass\n&gt;&gt;&gt; class A(B,C): pass<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">                          6\n                         ---\nLevel 3                 | O |                  (more general)\n                      &#x2F;  ---  \\\n                     &#x2F;    |    \\                      |\n                    &#x2F;     |     \\                     |\n                   &#x2F;      |      \\                    |\n                  ---    ---    ---                   |\nLevel 2        3 | D | 4| E |  | F | 5                |\n                  ---    ---    ---                   |\n                   \\  \\ _ &#x2F;       |                   |\n                    \\    &#x2F; \\ _    |                   |\n                     \\  &#x2F;      \\  |                   |\n                      ---      ---                    |\nLevel 1            1 | B |    | C | 2                 |\n                      ---      ---                    |\n                        \\      &#x2F;                      |\n                         \\    &#x2F;                      \\ &#x2F;\n                           ---\nLevel 0                 0 | A |              <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">L[A] &#x3D; A + merge(BDEO,CDFO,BC)\n     &#x3D; A + B + merge(DEO,CDFO,C)\n     &#x3D; A + B + C + merge(DEO,DFO)\n     &#x3D; A + B + C + D + merge(EO,FO)\n     &#x3D; A + B + C + D + E + merge(O,FO)\n     &#x3D; A + B + C + D + E + F + merge(O,O)\n     &#x3D; A B C D E F O<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h5 id=\"2\"><a href=\"#2\" class=\"headerlink\" title=\"2\"></a>2</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt;&gt;&gt; O &#x3D; object\n&gt;&gt;&gt; class F(O): pass\n&gt;&gt;&gt; class E(O): pass\n&gt;&gt;&gt; class D(O): pass\n&gt;&gt;&gt; class C(D,F): pass\n&gt;&gt;&gt; class B(E,D): pass\n&gt;&gt;&gt; class A(B,C): pass<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">                           6\n                          ---\nLevel 3                  | O |\n                       &#x2F;  ---  \\\n                      &#x2F;    |    \\\n                     &#x2F;     |     \\\n                    &#x2F;      |      \\\n                  ---     ---    ---\nLevel 2        2 | E | 4 | D |  | F | 5\n                  ---     ---    ---\n                   \\      &#x2F; \\     &#x2F;\n                    \\    &#x2F;   \\   &#x2F;\n                     \\  &#x2F;     \\ &#x2F;\n                      ---     ---\nLevel 1            1 | B |   | C | 3\n                      ---     ---\n                       \\       &#x2F;\n                        \\     &#x2F;\n                          ---\nLevel 0                0 | A |\n                          ---<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt;&gt;&gt; A.mro()\n(&lt;class &#39;__main__.A&#39;&gt;, &lt;class &#39;__main__.B&#39;&gt;, &lt;class &#39;__main__.E&#39;&gt;,\n&lt;class &#39;__main__.C&#39;&gt;, &lt;class &#39;__main__.D&#39;&gt;, &lt;class &#39;__main__.F&#39;&gt;,\n&lt;type &#39;object&#39;&gt;)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n<h4 id=\"MRO\"><a href=\"#MRO\" class=\"headerlink\" title=\"MRO\"></a>MRO</h4><h5 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h5><pre class=\"line-numbers language-none\"><code class=\"language-none\">&gt;&gt;&gt; O &#x3D; object\n&gt;&gt;&gt; class X(O): pass\n&gt;&gt;&gt; class Y(O): pass\n&gt;&gt;&gt; class A(X,Y): pass\n&gt;&gt;&gt; class B(Y,X): pass<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"> -----------\n|           |\n|    O      |\n|  &#x2F;   \\    |\n - X    Y  &#x2F;\n   |  &#x2F; | &#x2F;\n   | &#x2F;  |&#x2F;\n   A    B\n   \\   &#x2F;\n     ?<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">L[O] &#x3D; 0\nL[X] &#x3D; X O\nL[Y] &#x3D; Y O\nL[A] &#x3D; A X Y O\nL[B] &#x3D; B Y X O<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">L[C] &#x3D; C + merge(AXYO, BYXO, AB)\n     &#x3D; C + A + merge(XYO, BYXO, B)\n     &#x3D; C + A + B + merge(XYO, YXO)<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>XYOYXOheadC3Python 2.3(TypeError: MRO conflict among bases Y, X)XYXOtail,YXYOtail,Python 2.2(CABXYO).</li>\n</ul>\n"},{"title":"Mysql-","comments":1,"date":"2021-03-07T11:56:20.000Z","author":null,"_content":"\n### MySQL \n- #### thanks :\n1. [zhiboer](https://blog.csdn.net/claram/article/details/54023216)\n2. [](https://blog.csdn.net/puhaiyang/article/details/72284702)\n\n- #### \n\n > - \n > - for updateInnoDB(BEGIN/COMMIT)\n > - MySQL\n > - \n\n- #### \n\n- \n> - \n>> \n>> ==lock in share mode==\n>> ```\n>> begin;\n>>  SELECT * from city where id = \"1\"  lock in share mode;\n>> \n>> ```\n> - \n>> \n>> ==for update==\n>> - \n>> - \n>> - \n```\nbegin;\n    select * from goods where id = 1 for update;\n    update goods set stock = stock - 1 where id = 1;\ncommit;\n```\n- \n>> - \n>> - \n>> - \n\n```\n# id=1 \nselect * from goods where id = 1\n\nbegin;\n    # stock  where  stock = cur_stock\n    update goods set stock = stock - 1 where id = 1 and stock = cur_stock;\ncommit;\n```\n- #### \n> 1. \n> 2. \n> 3. namename\n> ```\n> begin;\n> select * from goods where id = 1 and name='prod11' for update;\n> commit;\n> ```\n> 4. namemysql\n> 5. namename\n> 6. namename\n> 7. \n> 8.  like\n\n- #### \n> 1. InnoDBInnoDBInnoDB====\n> 2. InnoDB \n> 3. MySQLInnoDB\n> 4. ====MySQLInnoDB","source":"_posts/2021-03-07-Mysql-.md","raw":"---\ntitle: Mysql-\ncomments: true\ndate: 2021-03-07 19:56:20\nauthor:\ntags:\n - Mysql\ncategories:\n - \n---\n\n### MySQL \n- #### thanks :\n1. [zhiboer](https://blog.csdn.net/claram/article/details/54023216)\n2. [](https://blog.csdn.net/puhaiyang/article/details/72284702)\n\n- #### \n\n > - \n > - for updateInnoDB(BEGIN/COMMIT)\n > - MySQL\n > - \n\n- #### \n\n- \n> - \n>> \n>> ==lock in share mode==\n>> ```\n>> begin;\n>>  SELECT * from city where id = \"1\"  lock in share mode;\n>> \n>> ```\n> - \n>> \n>> ==for update==\n>> - \n>> - \n>> - \n```\nbegin;\n    select * from goods where id = 1 for update;\n    update goods set stock = stock - 1 where id = 1;\ncommit;\n```\n- \n>> - \n>> - \n>> - \n\n```\n# id=1 \nselect * from goods where id = 1\n\nbegin;\n    # stock  where  stock = cur_stock\n    update goods set stock = stock - 1 where id = 1 and stock = cur_stock;\ncommit;\n```\n- #### \n> 1. \n> 2. \n> 3. namename\n> ```\n> begin;\n> select * from goods where id = 1 and name='prod11' for update;\n> commit;\n> ```\n> 4. namemysql\n> 5. namename\n> 6. namename\n> 7. \n> 8.  like\n\n- #### \n> 1. InnoDBInnoDBInnoDB====\n> 2. InnoDB \n> 3. MySQLInnoDB\n> 4. ====MySQLInnoDB","slug":"Mysql-","published":1,"updated":"2021-03-07T11:56:37.675Z","_id":"cklz3nwjw002cjvs63w9qc213","layout":"post","photos":[],"link":"","content":"<h3 id=\"MySQL-\"><a href=\"#MySQL-\" class=\"headerlink\" title=\"MySQL \"></a>MySQL </h3><ul>\n<li><h4 id=\"thanks\"><a href=\"#thanks\" class=\"headerlink\" title=\"thanks :\"></a>thanks :</h4></li>\n</ul>\n<ol>\n<li><a href=\"https://blog.csdn.net/claram/article/details/54023216\">zhiboer</a></li>\n<li><a href=\"https://blog.csdn.net/puhaiyang/article/details/72284702\"></a></li>\n</ol>\n<ul>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4></li>\n</ul>\n<blockquote>\n<ul>\n<li></li>\n<li>for updateInnoDB(BEGIN/COMMIT)</li>\n<li>MySQL</li>\n<li></li>\n</ul>\n</blockquote>\n<ul>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4></li>\n<li><p></p>\n<blockquote>\n<ul>\n<li><blockquote>\n<p><br>==lock in share mode==</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">begin;\n SELECT * from city where id &#x3D; &quot;1&quot;  lock in share mode;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></blockquote>\n</li>\n<li><blockquote>\n<p><br>==for update==</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n</li>\n</ul>\n</blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">begin;\n    select * from goods where id &#x3D; 1 for update;\n    update goods set stock &#x3D; stock - 1 where id &#x3D; 1;\ncommit;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p></p>\n<blockquote>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n</blockquote>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># id&#x3D;1 \nselect * from goods where id &#x3D; 1\n\nbegin;\n    # stock  where  stock &#x3D; cur_stock\n    update goods set stock &#x3D; stock - 1 where id &#x3D; 1 and stock &#x3D; cur_stock;\ncommit;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><blockquote>\n<ol>\n<li></li>\n<li></li>\n<li>namename<pre class=\"line-numbers language-none\"><code class=\"language-none\">begin;\nselect * from goods where id &#x3D; 1 and name&#x3D;&#39;prod11&#39; for update;\ncommit;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></li>\n<li>namemysql</li>\n<li>namename</li>\n<li>namename</li>\n<li></li>\n<li> like</li>\n</ol>\n</blockquote>\n</li>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><blockquote>\n<ol>\n<li>InnoDBInnoDBInnoDB====</li>\n<li>InnoDB </li>\n<li>MySQLInnoDB</li>\n<li>====MySQLInnoDB</li>\n</ol>\n</blockquote>\n</li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h3 id=\"MySQL-\"><a href=\"#MySQL-\" class=\"headerlink\" title=\"MySQL \"></a>MySQL </h3><ul>\n<li><h4 id=\"thanks\"><a href=\"#thanks\" class=\"headerlink\" title=\"thanks :\"></a>thanks :</h4></li>\n</ul>\n<ol>\n<li><a href=\"https://blog.csdn.net/claram/article/details/54023216\">zhiboer</a></li>\n<li><a href=\"https://blog.csdn.net/puhaiyang/article/details/72284702\"></a></li>\n</ol>\n<ul>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4></li>\n</ul>\n<blockquote>\n<ul>\n<li></li>\n<li>for updateInnoDB(BEGIN/COMMIT)</li>\n<li>MySQL</li>\n<li></li>\n</ul>\n</blockquote>\n<ul>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4></li>\n<li><p></p>\n<blockquote>\n<ul>\n<li><blockquote>\n<p><br>==lock in share mode==</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">begin;\n SELECT * from city where id &#x3D; &quot;1&quot;  lock in share mode;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></blockquote>\n</li>\n<li><blockquote>\n<p><br>==for update==</p>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n</li>\n</ul>\n</blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">begin;\n    select * from goods where id &#x3D; 1 for update;\n    update goods set stock &#x3D; stock - 1 where id &#x3D; 1;\ncommit;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p></p>\n<blockquote>\n<blockquote>\n<ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n</blockquote>\n</blockquote>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\"># id&#x3D;1 \nselect * from goods where id &#x3D; 1\n\nbegin;\n    # stock  where  stock &#x3D; cur_stock\n    update goods set stock &#x3D; stock - 1 where id &#x3D; 1 and stock &#x3D; cur_stock;\ncommit;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><blockquote>\n<ol>\n<li></li>\n<li></li>\n<li>namename<pre class=\"line-numbers language-none\"><code class=\"language-none\">begin;\nselect * from goods where id &#x3D; 1 and name&#x3D;&#39;prod11&#39; for update;\ncommit;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></li>\n<li>namemysql</li>\n<li>namename</li>\n<li>namename</li>\n<li></li>\n<li> like</li>\n</ol>\n</blockquote>\n</li>\n<li><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><blockquote>\n<ol>\n<li>InnoDBInnoDBInnoDB====</li>\n<li>InnoDB </li>\n<li>MySQLInnoDB</li>\n<li>====MySQLInnoDB</li>\n</ol>\n</blockquote>\n</li>\n</ul>\n"},{"title":"Python-Windows","comments":1,"date":"2021-03-07T11:57:23.000Z","author":null,"_content":"\n#### \n* pythons\n```\n    C:\\Users\\hero\\python2\n    Python 2.7.X\n    >>>\n    \n    C:\\Users\\hero\\python3\n    Python 3.X.X\n    >>>\n    \n    pythonpip?\n    pythonScriptspip*-script.pypython\n```\n* virtualenv\n* anaconda()\n* ...()\n#### anaconda\n* AnacondapythonpythonCondapython\n#### anaconda\n* python\n* WindowsvirtualenvPython[.jpg]\n* Win8.1Python==3.5====api-ms-win-crt-runtime-l1-1-0.dll==\n#### anaconda\n*  : \n> [](https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/)\n\n> [AnacondaPython](https://jingyan.baidu.com/article/3f16e0031e87522591c10320.html)\n\n#### anaconda\n* anacondabase(root)\npython\n* python\n> * ()\n```\n    conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\n    conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/\n    conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/\n    conda config --set show_channel_urls yes\n```\n#### Conda\n```\n    conda create --name python27 python=2.7 2.7python27\n    conda create name cpu cpu \n    source activate cpu cpu \n    source deactivate  \n    conda remove name  all \n    conda search  // \n    conda install   \n    conda list package \n    conda list -n  package \n    conda install -n     \n    -n \n    conda update -n    \n    conda remove -n    \n    conda env list //\n```\n\n\n","source":"_posts/2021-03-07-Python-Windows.md","raw":"---\ntitle: Python-Windows\ncomments: true\ndate: 2021-03-07 19:57:23\nauthor:\ntags:\n - Python\ncategories:\n - \n---\n\n#### \n* pythons\n```\n    C:\\Users\\hero\\python2\n    Python 2.7.X\n    >>>\n    \n    C:\\Users\\hero\\python3\n    Python 3.X.X\n    >>>\n    \n    pythonpip?\n    pythonScriptspip*-script.pypython\n```\n* virtualenv\n* anaconda()\n* ...()\n#### anaconda\n* AnacondapythonpythonCondapython\n#### anaconda\n* python\n* WindowsvirtualenvPython[.jpg]\n* Win8.1Python==3.5====api-ms-win-crt-runtime-l1-1-0.dll==\n#### anaconda\n*  : \n> [](https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/)\n\n> [AnacondaPython](https://jingyan.baidu.com/article/3f16e0031e87522591c10320.html)\n\n#### anaconda\n* anacondabase(root)\npython\n* python\n> * ()\n```\n    conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/\n    conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/\n    conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/msys2/\n    conda config --set show_channel_urls yes\n```\n#### Conda\n```\n    conda create --name python27 python=2.7 2.7python27\n    conda create name cpu cpu \n    source activate cpu cpu \n    source deactivate  \n    conda remove name  all \n    conda search  // \n    conda install   \n    conda list package \n    conda list -n  package \n    conda install -n     \n    -n \n    conda update -n    \n    conda remove -n    \n    conda env list //\n```\n\n\n","slug":"Python-Windows","published":1,"updated":"2021-03-07T11:58:14.322Z","_id":"cklz3p9br002fjvs6705v0s29","layout":"post","photos":[],"link":"","content":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>pythons<pre class=\"line-numbers language-none\"><code class=\"language-none\">C:\\Users\\hero\\python2\nPython 2.7.X\n&gt;&gt;&gt;\n\nC:\\Users\\hero\\python3\nPython 3.X.X\n&gt;&gt;&gt;\n\npythonpip?\npythonScriptspip*-script.pypython<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>virtualenv</li>\n<li>anaconda()</li>\n<li>()<h4 id=\"anaconda\"><a href=\"#anaconda\" class=\"headerlink\" title=\"anaconda\"></a>anaconda</h4></li>\n<li>AnacondapythonpythonCondapython<h4 id=\"anaconda\"><a href=\"#anaconda\" class=\"headerlink\" title=\"anaconda\"></a>anaconda</h4></li>\n<li>python</li>\n<li>WindowsvirtualenvPython[.jpg]</li>\n<li>Win8.1Python==3.5====api-ms-win-crt-runtime-l1-1-0.dll==<h4 id=\"anaconda\"><a href=\"#anaconda\" class=\"headerlink\" title=\"anaconda\"></a>anaconda</h4></li>\n<li> : <blockquote>\n<p><a href=\"https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/\"></a></p>\n</blockquote>\n</li>\n</ul>\n<blockquote>\n<p><a href=\"https://jingyan.baidu.com/article/3f16e0031e87522591c10320.html\">AnacondaPython</a></p>\n</blockquote>\n<h4 id=\"anaconda\"><a href=\"#anaconda\" class=\"headerlink\" title=\"anaconda\"></a>anaconda</h4><ul>\n<li>anacondabase(root)<br>python</li>\n<li>python<blockquote>\n<ul>\n<li>()</li>\n</ul>\n</blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">conda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;pkgs&#x2F;free&#x2F;\nconda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;cloud&#x2F;conda-forge&#x2F;\nconda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;cloud&#x2F;msys2&#x2F;\nconda config --set show_channel_urls yes<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"Conda\"><a href=\"#Conda\" class=\"headerlink\" title=\"Conda\"></a>Conda</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">conda create --name python27 python&#x3D;2.7 2.7python27\nconda create name cpu cpu \nsource activate cpu cpu \nsource deactivate  \nconda remove name  all \nconda search  &#x2F;&#x2F; \nconda install   \nconda list package \nconda list -n  package \nconda install -n     \n-n \nconda update -n    \nconda remove -n    \nconda env list &#x2F;&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ul>\n<li>pythons<pre class=\"line-numbers language-none\"><code class=\"language-none\">C:\\Users\\hero\\python2\nPython 2.7.X\n&gt;&gt;&gt;\n\nC:\\Users\\hero\\python3\nPython 3.X.X\n&gt;&gt;&gt;\n\npythonpip?\npythonScriptspip*-script.pypython<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li>virtualenv</li>\n<li>anaconda()</li>\n<li>()<h4 id=\"anaconda\"><a href=\"#anaconda\" class=\"headerlink\" title=\"anaconda\"></a>anaconda</h4></li>\n<li>AnacondapythonpythonCondapython<h4 id=\"anaconda\"><a href=\"#anaconda\" class=\"headerlink\" title=\"anaconda\"></a>anaconda</h4></li>\n<li>python</li>\n<li>WindowsvirtualenvPython[.jpg]</li>\n<li>Win8.1Python==3.5====api-ms-win-crt-runtime-l1-1-0.dll==<h4 id=\"anaconda\"><a href=\"#anaconda\" class=\"headerlink\" title=\"anaconda\"></a>anaconda</h4></li>\n<li> : <blockquote>\n<p><a href=\"https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/\"></a></p>\n</blockquote>\n</li>\n</ul>\n<blockquote>\n<p><a href=\"https://jingyan.baidu.com/article/3f16e0031e87522591c10320.html\">AnacondaPython</a></p>\n</blockquote>\n<h4 id=\"anaconda\"><a href=\"#anaconda\" class=\"headerlink\" title=\"anaconda\"></a>anaconda</h4><ul>\n<li>anacondabase(root)<br>python</li>\n<li>python<blockquote>\n<ul>\n<li>()</li>\n</ul>\n</blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">conda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;pkgs&#x2F;free&#x2F;\nconda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;cloud&#x2F;conda-forge&#x2F;\nconda config --add channels https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;anaconda&#x2F;cloud&#x2F;msys2&#x2F;\nconda config --set show_channel_urls yes<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<h4 id=\"Conda\"><a href=\"#Conda\" class=\"headerlink\" title=\"Conda\"></a>Conda</h4><pre class=\"line-numbers language-none\"><code class=\"language-none\">conda create --name python27 python&#x3D;2.7 2.7python27\nconda create name cpu cpu \nsource activate cpu cpu \nsource deactivate  \nconda remove name  all \nconda search  &#x2F;&#x2F; \nconda install   \nconda list package \nconda list -n  package \nconda install -n     \n-n \nconda update -n    \nconda remove -n    \nconda env list &#x2F;&#x2F;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n"},{"title":"Python-","comments":1,"date":"2021-03-07T12:01:22.000Z","author":null,"_content":"\n[](http://www.runoob.com/python/python-numbers.html)\n```\n#!/usr/bin/python\n# -*- coding: UTF-8 -*-\n\nimport random\n\nprint random.randint(1,10)         #  1  10   \nprint random.choice(rande(10))\t   #  0  9   \nprint random.random()              #  [0,1) \nprint random.uniform(0,100)        #   [0,100] \nprint random.choice('tomorrow')    # \nprint random.randrange(1,100,2)    # 11002\n\nmylist = list(\"hello,world!\")      # a\nrandom.shuffle(mylist)\nprint mylist\n```","source":"_posts/2021-03-07-Python-.md","raw":"---\ntitle: Python-\ncomments: true\ndate: 2021-03-07 20:01:22\nauthor:\ntags:\n - Python\ncategories:\n - \n---\n\n[](http://www.runoob.com/python/python-numbers.html)\n```\n#!/usr/bin/python\n# -*- coding: UTF-8 -*-\n\nimport random\n\nprint random.randint(1,10)         #  1  10   \nprint random.choice(rande(10))\t   #  0  9   \nprint random.random()              #  [0,1) \nprint random.uniform(0,100)        #   [0,100] \nprint random.choice('tomorrow')    # \nprint random.randrange(1,100,2)    # 11002\n\nmylist = list(\"hello,world!\")      # a\nrandom.shuffle(mylist)\nprint mylist\n```","slug":"Python-","published":1,"updated":"2021-03-07T12:01:52.558Z","_id":"cklz3udva002ijvs64bfdaogs","layout":"post","photos":[],"link":"","content":"<p><a href=\"http://www.runoob.com/python/python-numbers.html\"></a></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">#!&#x2F;usr&#x2F;bin&#x2F;python\n# -*- coding: UTF-8 -*-\n\nimport random\n\nprint random.randint(1,10)         #  1  10   \nprint random.choice(rande(10))\t   #  0  9   \nprint random.random()              #  [0,1) \nprint random.uniform(0,100)        #   [0,100] \nprint random.choice(&#39;tomorrow&#39;)    # \nprint random.randrange(1,100,2)    # 11002\n\nmylist &#x3D; list(&quot;hello,world!&quot;)      # a\nrandom.shuffle(mylist)\nprint mylist<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<p><a href=\"http://www.runoob.com/python/python-numbers.html\"></a></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">#!&#x2F;usr&#x2F;bin&#x2F;python\n# -*- coding: UTF-8 -*-\n\nimport random\n\nprint random.randint(1,10)         #  1  10   \nprint random.choice(rande(10))\t   #  0  9   \nprint random.random()              #  [0,1) \nprint random.uniform(0,100)        #   [0,100] \nprint random.choice(&#39;tomorrow&#39;)    # \nprint random.randrange(1,100,2)    # 11002\n\nmylist &#x3D; list(&quot;hello,world!&quot;)      # a\nrandom.shuffle(mylist)\nprint mylist<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>"},{"title":"-Airflow","comments":1,"date":"2021-03-07T12:04:45.000Z","author":null,"_content":"\n## \n\n\n----------\n\n****\n* \n```\n1DAGS\n\tairflow list_dags\n\t\n2 tutorial id\n\tairflow list_tasks tutorial\n\t\n3 tutorial id\n\tairflow list_tasks tutorial --tree\n```\n\n* \n\n```\n12015-06-01 tutorialprint_date\n\tairflow test tutorial print_date 2015-06-01\n```\n\n* \n> DAG\n> backfill \n\n```\nairflow backfill tutorial -s 2018-06-01 -e 2015-08-01\n```\n\n* \n\n```\nairflow resetdb [-h] [-y]\n\n-y --yesFalse\n```\n#####   [Command Line Interface](http://airflow.incubator.apache.org/cli.html)\n\n\n----------\n\n## BaseOperator\n\n```\n\"\"\"\nCode that goes along with the Airflow tutorial located at:\nhttps://github.com/apache/incubator-airflow/blob/master/airflow/example_dags/tutorial.py\n\"\"\"\nfrom airflow import DAG\nfrom airflow.operators.bash_operator import BashOperator\nfrom datetime import datetime, timedelta\n\n\ndefault_args = {\n    'owner': 'airflow',\n    'depends_on_past': False,\n    'start_date': datetime(2015, 6, 1),\n    'email': ['airflow@example.com'],\n    'email_on_failure': False,\n    'email_on_retry': False,\n    'retries': 1,\n    'retry_delay': timedelta(minutes=5),\n    # 'queue': 'bash_queue',\n    # 'pool': 'backfill',\n    # 'priority_weight': 10,\n    # 'end_date': datetime(2016, 1, 1),\n}\n\ndag = DAG('tutorial', default_args=default_args)\n\n# t1, t2 and t3 are examples of tasks created by instantiating operators\nt1 = BashOperator(\n    task_id='print_date',\n    bash_command='date',\n    dag=dag)\n\nt2 = BashOperator(\n    task_id='sleep',\n    bash_command='sleep 5',\n    retries=3,\n    dag=dag)\n\ntemplated_command = \"\"\"\n    {% for i in range(5) %}\n        echo \"{{ ds }}\"\n        echo \"{{ macros.ds_add(ds, 7)}}\"\n        echo \"{{ params.my_param }}\"\n    {% endfor %}\n\"\"\"\n\nt3 = BashOperator(\n    task_id='templated',\n    bash_command=templated_command,\n    params={'my_param': 'Parameter I passed in'},\n    dag=dag)\n\nt2.set_upstream(t1)\nt3.set_upstream(t1)\n\n```\n> 1. **retries** (int) \n> 2. **retry_delay** (timedelta) \n> 3. **retry_exponential_backoff**bool\n> 4. **max_retry_delay** (timedelta)  \n> 5. **start_time** datatimeexecution_datestart_dateDAGschedule_interval\n> 6. **end_time** datetime\n> 7. **depends_on_past** booltruestart_date\n> 8. **wait_for_downstream** boolTODO\n> 9. **dag** (DAG) dag\n> 10. parallelismAirflowTask InstanceDAGExecutorTaskparallelism=15, DAGABA10TaskB10TaskDAGTask155Taskweb\n\n> 11. dag_concurrencyDag RunTask Instance\n\n> 12. max_active_runs_per_dagDagDag Run\n\n> 13. non_pooled_task_slot_countPoolTask InstanceTaskPoolTaskPool\n> 14.  [](https://www.cnblogs.com/skyrim/p/7456166.html)\n\n## airflow\n * SchedulerAirflowAirflowDAGSchedulerExecutor\n * ExecutorExecutor\n\n> * SequnceExecutorDAGTaskAirflow    \n> * LocalExecutorExecutorDAGTask    \n> * CeleryExecutorExecutorExecutorAirflowCeleryPythonAirflow Worker \n> * AirflowExecutorDAGExecutor\n\n* PoolPoolAirflowAirflowTaskPoolDefault PoolPoolSlotPoolSlotPoolTask InstanceSlotSlotTask\n## \n* \n> \n    airflow.cfg\n    airflow.cfg\n    \n\n## \n\n*  MySQL or Postgres \n* \n> airflow.cfg executorLocalExecutor\n\n\n\n\n##### \n[http://wingerted.com](http://wingerted.com)","source":"_posts/2021-03-07--Airflow.md","raw":"---\ntitle: -Airflow\ncomments: true\ndate: 2021-03-07 20:04:45\nauthor:\ntags:\n - Airflow\ncategories:\n---\n\n## \n\n\n----------\n\n****\n* \n```\n1DAGS\n\tairflow list_dags\n\t\n2 tutorial id\n\tairflow list_tasks tutorial\n\t\n3 tutorial id\n\tairflow list_tasks tutorial --tree\n```\n\n* \n\n```\n12015-06-01 tutorialprint_date\n\tairflow test tutorial print_date 2015-06-01\n```\n\n* \n> DAG\n> backfill \n\n```\nairflow backfill tutorial -s 2018-06-01 -e 2015-08-01\n```\n\n* \n\n```\nairflow resetdb [-h] [-y]\n\n-y --yesFalse\n```\n#####   [Command Line Interface](http://airflow.incubator.apache.org/cli.html)\n\n\n----------\n\n## BaseOperator\n\n```\n\"\"\"\nCode that goes along with the Airflow tutorial located at:\nhttps://github.com/apache/incubator-airflow/blob/master/airflow/example_dags/tutorial.py\n\"\"\"\nfrom airflow import DAG\nfrom airflow.operators.bash_operator import BashOperator\nfrom datetime import datetime, timedelta\n\n\ndefault_args = {\n    'owner': 'airflow',\n    'depends_on_past': False,\n    'start_date': datetime(2015, 6, 1),\n    'email': ['airflow@example.com'],\n    'email_on_failure': False,\n    'email_on_retry': False,\n    'retries': 1,\n    'retry_delay': timedelta(minutes=5),\n    # 'queue': 'bash_queue',\n    # 'pool': 'backfill',\n    # 'priority_weight': 10,\n    # 'end_date': datetime(2016, 1, 1),\n}\n\ndag = DAG('tutorial', default_args=default_args)\n\n# t1, t2 and t3 are examples of tasks created by instantiating operators\nt1 = BashOperator(\n    task_id='print_date',\n    bash_command='date',\n    dag=dag)\n\nt2 = BashOperator(\n    task_id='sleep',\n    bash_command='sleep 5',\n    retries=3,\n    dag=dag)\n\ntemplated_command = \"\"\"\n    {% for i in range(5) %}\n        echo \"{{ ds }}\"\n        echo \"{{ macros.ds_add(ds, 7)}}\"\n        echo \"{{ params.my_param }}\"\n    {% endfor %}\n\"\"\"\n\nt3 = BashOperator(\n    task_id='templated',\n    bash_command=templated_command,\n    params={'my_param': 'Parameter I passed in'},\n    dag=dag)\n\nt2.set_upstream(t1)\nt3.set_upstream(t1)\n\n```\n> 1. **retries** (int) \n> 2. **retry_delay** (timedelta) \n> 3. **retry_exponential_backoff**bool\n> 4. **max_retry_delay** (timedelta)  \n> 5. **start_time** datatimeexecution_datestart_dateDAGschedule_interval\n> 6. **end_time** datetime\n> 7. **depends_on_past** booltruestart_date\n> 8. **wait_for_downstream** boolTODO\n> 9. **dag** (DAG) dag\n> 10. parallelismAirflowTask InstanceDAGExecutorTaskparallelism=15, DAGABA10TaskB10TaskDAGTask155Taskweb\n\n> 11. dag_concurrencyDag RunTask Instance\n\n> 12. max_active_runs_per_dagDagDag Run\n\n> 13. non_pooled_task_slot_countPoolTask InstanceTaskPoolTaskPool\n> 14.  [](https://www.cnblogs.com/skyrim/p/7456166.html)\n\n## airflow\n * SchedulerAirflowAirflowDAGSchedulerExecutor\n * ExecutorExecutor\n\n> * SequnceExecutorDAGTaskAirflow    \n> * LocalExecutorExecutorDAGTask    \n> * CeleryExecutorExecutorExecutorAirflowCeleryPythonAirflow Worker \n> * AirflowExecutorDAGExecutor\n\n* PoolPoolAirflowAirflowTaskPoolDefault PoolPoolSlotPoolSlotPoolTask InstanceSlotSlotTask\n## \n* \n> \n    airflow.cfg\n    airflow.cfg\n    \n\n## \n\n*  MySQL or Postgres \n* \n> airflow.cfg executorLocalExecutor\n\n\n\n\n##### \n[http://wingerted.com](http://wingerted.com)","slug":"-Airflow","published":1,"updated":"2021-03-07T12:05:10.165Z","_id":"cklz3ypxz002ljvs6gfgn7bxj","layout":"post","photos":[],"link":"","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><hr>\n<p><strong></strong></p>\n<ul>\n<li><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">1DAGS\n\tairflow list_dags\n\t\n2 tutorial id\n\tairflow list_tasks tutorial\n\t\n3 tutorial id\n\tairflow list_tasks tutorial --tree<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p></p>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">12015-06-01 tutorialprint_date\n\tairflow test tutorial print_date 2015-06-01<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li><blockquote>\n<p>DAG<br>backfill </p>\n</blockquote>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">airflow backfill tutorial -s 2018-06-01 -e 2015-08-01<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">airflow resetdb [-h] [-y]\n\n-y --yesFalse<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h5 id=\"-Command-Line-Interface\"><a href=\"#-Command-Line-Interface\" class=\"headerlink\" title=\"  Command Line Interface\"></a>  <a href=\"http://airflow.incubator.apache.org/cli.html\">Command Line Interface</a></h5><hr>\n<h2 id=\"BaseOperator\"><a href=\"#BaseOperator\" class=\"headerlink\" title=\"BaseOperator\"></a>BaseOperator</h2><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&quot;&quot;&quot;\nCode that goes along with the Airflow tutorial located at:\nhttps:&#x2F;&#x2F;github.com&#x2F;apache&#x2F;incubator-airflow&#x2F;blob&#x2F;master&#x2F;airflow&#x2F;example_dags&#x2F;tutorial.py\n&quot;&quot;&quot;\nfrom airflow import DAG\nfrom airflow.operators.bash_operator import BashOperator\nfrom datetime import datetime, timedelta\n\n\ndefault_args &#x3D; &#123;\n    &#39;owner&#39;: &#39;airflow&#39;,\n    &#39;depends_on_past&#39;: False,\n    &#39;start_date&#39;: datetime(2015, 6, 1),\n    &#39;email&#39;: [&#39;airflow@example.com&#39;],\n    &#39;email_on_failure&#39;: False,\n    &#39;email_on_retry&#39;: False,\n    &#39;retries&#39;: 1,\n    &#39;retry_delay&#39;: timedelta(minutes&#x3D;5),\n    # &#39;queue&#39;: &#39;bash_queue&#39;,\n    # &#39;pool&#39;: &#39;backfill&#39;,\n    # &#39;priority_weight&#39;: 10,\n    # &#39;end_date&#39;: datetime(2016, 1, 1),\n&#125;\n\ndag &#x3D; DAG(&#39;tutorial&#39;, default_args&#x3D;default_args)\n\n# t1, t2 and t3 are examples of tasks created by instantiating operators\nt1 &#x3D; BashOperator(\n    task_id&#x3D;&#39;print_date&#39;,\n    bash_command&#x3D;&#39;date&#39;,\n    dag&#x3D;dag)\n\nt2 &#x3D; BashOperator(\n    task_id&#x3D;&#39;sleep&#39;,\n    bash_command&#x3D;&#39;sleep 5&#39;,\n    retries&#x3D;3,\n    dag&#x3D;dag)\n\ntemplated_command &#x3D; &quot;&quot;&quot;\n    &#123;% for i in range(5) %&#125;\n        echo &quot;&#123;&#123; ds &#125;&#125;&quot;\n        echo &quot;&#123;&#123; macros.ds_add(ds, 7)&#125;&#125;&quot;\n        echo &quot;&#123;&#123; params.my_param &#125;&#125;&quot;\n    &#123;% endfor %&#125;\n&quot;&quot;&quot;\n\nt3 &#x3D; BashOperator(\n    task_id&#x3D;&#39;templated&#39;,\n    bash_command&#x3D;templated_command,\n    params&#x3D;&#123;&#39;my_param&#39;: &#39;Parameter I passed in&#39;&#125;,\n    dag&#x3D;dag)\n\nt2.set_upstream(t1)\nt3.set_upstream(t1)\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<ol>\n<li><strong>retries</strong> (int) </li>\n<li><strong>retry_delay</strong> (timedelta) </li>\n<li><strong>retry_exponential_backoff</strong>bool</li>\n<li><strong>max_retry_delay</strong> (timedelta)  </li>\n<li><strong>start_time</strong> datatimeexecution_datestart_dateDAGschedule_interval</li>\n<li><strong>end_time</strong> datetime</li>\n<li><strong>depends_on_past</strong> booltruestart_date</li>\n<li><strong>wait_for_downstream</strong> boolTODO</li>\n<li><strong>dag</strong> (DAG) dag</li>\n<li>parallelismAirflowTask InstanceDAGExecutorTaskparallelism=15, DAGABA10TaskB10TaskDAGTask155Taskweb</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol start=\"11\">\n<li>dag_concurrencyDag RunTask Instance</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol start=\"12\">\n<li>max_active_runs_per_dagDagDag Run</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol start=\"13\">\n<li>non_pooled_task_slot_countPoolTask InstanceTaskPoolTaskPool</li>\n<li> <a href=\"https://www.cnblogs.com/skyrim/p/7456166.html\"></a></li>\n</ol>\n</blockquote>\n<h2 id=\"airflow\"><a href=\"#airflow\" class=\"headerlink\" title=\"airflow\"></a>airflow</h2><ul>\n<li>SchedulerAirflowAirflowDAGSchedulerExecutor</li>\n<li>ExecutorExecutor</li>\n</ul>\n<blockquote>\n<ul>\n<li>SequnceExecutorDAGTaskAirflow    </li>\n<li>LocalExecutorExecutorDAGTask    </li>\n<li>CeleryExecutorExecutorExecutorAirflowCeleryPythonAirflow Worker </li>\n<li>AirflowExecutorDAGExecutor</li>\n</ul>\n</blockquote>\n<ul>\n<li>PoolPoolAirflowAirflowTaskPoolDefault PoolPoolSlotPoolSlotPoolTask InstanceSlotSlotTask<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2></li>\n<li><blockquote>\n<p><br>  airflow.cfg<br>  airflow.cfg<br>  </p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li> MySQL or Postgres </li>\n<li><blockquote>\n<p>airflow.cfg executorLocalExecutor</p>\n</blockquote>\n</li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><a href=\"http://wingerted.com/\">http://wingerted.com</a></p>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><hr>\n<p><strong></strong></p>\n<ul>\n<li><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">1DAGS\n\tairflow list_dags\n\t\n2 tutorial id\n\tairflow list_tasks tutorial\n\t\n3 tutorial id\n\tairflow list_tasks tutorial --tree<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p></p>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">12015-06-01 tutorialprint_date\n\tairflow test tutorial print_date 2015-06-01<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li><blockquote>\n<p>DAG<br>backfill </p>\n</blockquote>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">airflow backfill tutorial -s 2018-06-01 -e 2015-08-01<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">airflow resetdb [-h] [-y]\n\n-y --yesFalse<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h5 id=\"-Command-Line-Interface\"><a href=\"#-Command-Line-Interface\" class=\"headerlink\" title=\"  Command Line Interface\"></a>  <a href=\"http://airflow.incubator.apache.org/cli.html\">Command Line Interface</a></h5><hr>\n<h2 id=\"BaseOperator\"><a href=\"#BaseOperator\" class=\"headerlink\" title=\"BaseOperator\"></a>BaseOperator</h2><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&quot;&quot;&quot;\nCode that goes along with the Airflow tutorial located at:\nhttps:&#x2F;&#x2F;github.com&#x2F;apache&#x2F;incubator-airflow&#x2F;blob&#x2F;master&#x2F;airflow&#x2F;example_dags&#x2F;tutorial.py\n&quot;&quot;&quot;\nfrom airflow import DAG\nfrom airflow.operators.bash_operator import BashOperator\nfrom datetime import datetime, timedelta\n\n\ndefault_args &#x3D; &#123;\n    &#39;owner&#39;: &#39;airflow&#39;,\n    &#39;depends_on_past&#39;: False,\n    &#39;start_date&#39;: datetime(2015, 6, 1),\n    &#39;email&#39;: [&#39;airflow@example.com&#39;],\n    &#39;email_on_failure&#39;: False,\n    &#39;email_on_retry&#39;: False,\n    &#39;retries&#39;: 1,\n    &#39;retry_delay&#39;: timedelta(minutes&#x3D;5),\n    # &#39;queue&#39;: &#39;bash_queue&#39;,\n    # &#39;pool&#39;: &#39;backfill&#39;,\n    # &#39;priority_weight&#39;: 10,\n    # &#39;end_date&#39;: datetime(2016, 1, 1),\n&#125;\n\ndag &#x3D; DAG(&#39;tutorial&#39;, default_args&#x3D;default_args)\n\n# t1, t2 and t3 are examples of tasks created by instantiating operators\nt1 &#x3D; BashOperator(\n    task_id&#x3D;&#39;print_date&#39;,\n    bash_command&#x3D;&#39;date&#39;,\n    dag&#x3D;dag)\n\nt2 &#x3D; BashOperator(\n    task_id&#x3D;&#39;sleep&#39;,\n    bash_command&#x3D;&#39;sleep 5&#39;,\n    retries&#x3D;3,\n    dag&#x3D;dag)\n\ntemplated_command &#x3D; &quot;&quot;&quot;\n    &#123;% for i in range(5) %&#125;\n        echo &quot;&#123;&#123; ds &#125;&#125;&quot;\n        echo &quot;&#123;&#123; macros.ds_add(ds, 7)&#125;&#125;&quot;\n        echo &quot;&#123;&#123; params.my_param &#125;&#125;&quot;\n    &#123;% endfor %&#125;\n&quot;&quot;&quot;\n\nt3 &#x3D; BashOperator(\n    task_id&#x3D;&#39;templated&#39;,\n    bash_command&#x3D;templated_command,\n    params&#x3D;&#123;&#39;my_param&#39;: &#39;Parameter I passed in&#39;&#125;,\n    dag&#x3D;dag)\n\nt2.set_upstream(t1)\nt3.set_upstream(t1)\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<blockquote>\n<ol>\n<li><strong>retries</strong> (int) </li>\n<li><strong>retry_delay</strong> (timedelta) </li>\n<li><strong>retry_exponential_backoff</strong>bool</li>\n<li><strong>max_retry_delay</strong> (timedelta)  </li>\n<li><strong>start_time</strong> datatimeexecution_datestart_dateDAGschedule_interval</li>\n<li><strong>end_time</strong> datetime</li>\n<li><strong>depends_on_past</strong> booltruestart_date</li>\n<li><strong>wait_for_downstream</strong> boolTODO</li>\n<li><strong>dag</strong> (DAG) dag</li>\n<li>parallelismAirflowTask InstanceDAGExecutorTaskparallelism=15, DAGABA10TaskB10TaskDAGTask155Taskweb</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol start=\"11\">\n<li>dag_concurrencyDag RunTask Instance</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol start=\"12\">\n<li>max_active_runs_per_dagDagDag Run</li>\n</ol>\n</blockquote>\n<blockquote>\n<ol start=\"13\">\n<li>non_pooled_task_slot_countPoolTask InstanceTaskPoolTaskPool</li>\n<li> <a href=\"https://www.cnblogs.com/skyrim/p/7456166.html\"></a></li>\n</ol>\n</blockquote>\n<h2 id=\"airflow\"><a href=\"#airflow\" class=\"headerlink\" title=\"airflow\"></a>airflow</h2><ul>\n<li>SchedulerAirflowAirflowDAGSchedulerExecutor</li>\n<li>ExecutorExecutor</li>\n</ul>\n<blockquote>\n<ul>\n<li>SequnceExecutorDAGTaskAirflow    </li>\n<li>LocalExecutorExecutorDAGTask    </li>\n<li>CeleryExecutorExecutorExecutorAirflowCeleryPythonAirflow Worker </li>\n<li>AirflowExecutorDAGExecutor</li>\n</ul>\n</blockquote>\n<ul>\n<li>PoolPoolAirflowAirflowTaskPoolDefault PoolPoolSlotPoolSlotPoolTask InstanceSlotSlotTask<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2></li>\n<li><blockquote>\n<p><br>  airflow.cfg<br>  airflow.cfg<br>  </p>\n</blockquote>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li> MySQL or Postgres </li>\n<li><blockquote>\n<p>airflow.cfg executorLocalExecutor</p>\n</blockquote>\n</li>\n</ul>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p><a href=\"http://wingerted.com/\">http://wingerted.com</a></p>\n"},{"title":"-Airflow","comments":1,"date":"2021-03-07T12:05:45.000Z","author":null,"_content":"\n## \n* 1\n```\nvirtualenv airflowenv\nsource airflowenv/bin/activate\n```\n* 2airflow\n \n```\npip install airflow==1.8.0\n```\n \n\n* 3\n\n```\nairflow version\n```\n> \n> \n>  \n> ```\n> ____________       _____________\n ____    |__( )_________  __/__  /________      __\n____  /| |_  /__  ___/_  /_ __  /_  __ \\_ | /| / /\n___  ___ |  / _  /   _  __/ _  / / /_/ /_ |/ |/ /\n _/_/  |_/_/  /_/    /_/    /_/  \\____/____/|__/\n   v1.8.0\n> ```\n\n\n* 4cd airflow\n\n```\n ls -al\n```\n> ```\n> \n> -rw-r--r--   1 ***  staff  11602  8 28 18:06 airflow.cfg\n-rw-r--r--   1 ***  staff   1549  8 27 12:31 unittests.cfg\n> ```\n> airflow.cfg****\n\n* 5airflow\n\n```\nairflow initdb\nSQLLiteairflowairflow.dbairflow.cfgmysql\n```\n* 6\n\n```\nairflow webserver -p 8080\nlocalhost:8080/admin\n\n```\n![airflow](https://img-blog.csdn.net/20180828194455231?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)\n\n#### \n## Mysql\n* 1MySQL\n\n```\npip install mysql-python\n```\n\n* 2MySQL\n\n```\n\nCREATE USER airflow;\n\nCREATE DATABASE airflow;\nCREATE DATABASE celery_result_airflow;\n\nGRANT all privileges on airflow.* TO 'airflow'@'%' IDENTIFIED BY 'airflow';\nGRANT all privileges on celery_result_airflow.* TO 'airflow'@'%' IDENTIFIED BY 'airflow';\n\n```\n* 3airflow.cfg\n sql_alchemy_conn\n```\nsql_alchemy_conn = mysql://airflow:airflow@localhost:3306/airflow\n```\n\n```\n\nairflow initdb\n\nairflow resetdb\n```\n\n\n## airflow\n* \n```\nairflow webserver -p 8080\nairflow scheduler\n\nroot\nairflow worker\n```\n\n*  localhost:8080/admin\n* (o)o[BINGO!]\n\n## \n* \n```\n airflow.cfg dags_folder \ndags_folder = /Users/liyuxing/airflow/dags\ndags_folder = /Users/liyuxing/work/mive/dags\n```\n* dagsairflowdagsairflow\n*  No module named pyutil.program.conf\n\n```\n*Python\ncd airflowenv/lib/python*.*/site-packages\nvim data.pth\n\npyutil\n/Users/liyuxing/work/util\n```\n\n*  airflow webserverRedis\n\n```\n\npip install \n```\n\n* schedule_interval \n[](http://airflow.incubator.apache.org/scheduler.html?highlight=schedule_interval#dag-runs)\n\n","source":"_posts/2021-03-07--Airflow.md","raw":"---\ntitle: -Airflow\ncomments: true\ndate: 2021-03-07 20:05:45\nauthor:\ntags:\n - Airflow\ncategories:\n---\n\n## \n* 1\n```\nvirtualenv airflowenv\nsource airflowenv/bin/activate\n```\n* 2airflow\n \n```\npip install airflow==1.8.0\n```\n \n\n* 3\n\n```\nairflow version\n```\n> \n> \n>  \n> ```\n> ____________       _____________\n ____    |__( )_________  __/__  /________      __\n____  /| |_  /__  ___/_  /_ __  /_  __ \\_ | /| / /\n___  ___ |  / _  /   _  __/ _  / / /_/ /_ |/ |/ /\n _/_/  |_/_/  /_/    /_/    /_/  \\____/____/|__/\n   v1.8.0\n> ```\n\n\n* 4cd airflow\n\n```\n ls -al\n```\n> ```\n> \n> -rw-r--r--   1 ***  staff  11602  8 28 18:06 airflow.cfg\n-rw-r--r--   1 ***  staff   1549  8 27 12:31 unittests.cfg\n> ```\n> airflow.cfg****\n\n* 5airflow\n\n```\nairflow initdb\nSQLLiteairflowairflow.dbairflow.cfgmysql\n```\n* 6\n\n```\nairflow webserver -p 8080\nlocalhost:8080/admin\n\n```\n![airflow](https://img-blog.csdn.net/20180828194455231?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)\n\n#### \n## Mysql\n* 1MySQL\n\n```\npip install mysql-python\n```\n\n* 2MySQL\n\n```\n\nCREATE USER airflow;\n\nCREATE DATABASE airflow;\nCREATE DATABASE celery_result_airflow;\n\nGRANT all privileges on airflow.* TO 'airflow'@'%' IDENTIFIED BY 'airflow';\nGRANT all privileges on celery_result_airflow.* TO 'airflow'@'%' IDENTIFIED BY 'airflow';\n\n```\n* 3airflow.cfg\n sql_alchemy_conn\n```\nsql_alchemy_conn = mysql://airflow:airflow@localhost:3306/airflow\n```\n\n```\n\nairflow initdb\n\nairflow resetdb\n```\n\n\n## airflow\n* \n```\nairflow webserver -p 8080\nairflow scheduler\n\nroot\nairflow worker\n```\n\n*  localhost:8080/admin\n* (o)o[BINGO!]\n\n## \n* \n```\n airflow.cfg dags_folder \ndags_folder = /Users/liyuxing/airflow/dags\ndags_folder = /Users/liyuxing/work/mive/dags\n```\n* dagsairflowdagsairflow\n*  No module named pyutil.program.conf\n\n```\n*Python\ncd airflowenv/lib/python*.*/site-packages\nvim data.pth\n\npyutil\n/Users/liyuxing/work/util\n```\n\n*  airflow webserverRedis\n\n```\n\npip install \n```\n\n* schedule_interval \n[](http://airflow.incubator.apache.org/scheduler.html?highlight=schedule_interval#dag-runs)\n\n","slug":"-Airflow","published":1,"updated":"2021-03-07T12:06:05.443Z","_id":"cklz4006t002ojvs6aqn44npg","layout":"post","photos":[],"link":"","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><p>1</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">virtualenv airflowenv\nsource airflowenv&#x2F;bin&#x2F;activate<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><p>2airflow<br></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">pip install airflow&#x3D;&#x3D;1.8.0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>3</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">airflow version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<blockquote>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">____________       _____________\n____    |__( )_________  __&#x2F;__  &#x2F;________      __\n____  &#x2F;| |_  &#x2F;__  ___&#x2F;_  &#x2F;_ __  &#x2F;_  __ \\_ | &#x2F;| &#x2F; &#x2F;\n___  ___ |  &#x2F; _  &#x2F;   _  __&#x2F; _  &#x2F; &#x2F; &#x2F;_&#x2F; &#x2F;_ |&#x2F; |&#x2F; &#x2F;\n_&#x2F;_&#x2F;  |_&#x2F;_&#x2F;  &#x2F;_&#x2F;    &#x2F;_&#x2F;    &#x2F;_&#x2F;  \\____&#x2F;____&#x2F;|__&#x2F;\n  v1.8.0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</blockquote>\n<ul>\n<li>4cd airflow</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">ls -al<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\n-rw-r--r--   1 ***  staff  11602  8 28 18:06 airflow.cfg\n-rw-r--r--   1 ***  staff   1549  8 27 12:31 unittests.cfg<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>airflow.cfg<strong></strong></p>\n</blockquote>\n<ul>\n<li>5airflow</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">airflow initdb\nSQLLiteairflowairflow.dbairflow.cfgmysql<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>6</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">airflow webserver -p 8080\nlocalhost:8080&#x2F;admin\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"https://img-blog.csdn.net/20180828194455231?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70\" alt=\"airflow\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h2 id=\"Mysql\"><a href=\"#Mysql\" class=\"headerlink\" title=\"Mysql\"></a>Mysql</h2><ul>\n<li>1MySQL</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">pip install mysql-python<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li>2MySQL</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\nCREATE USER airflow;\n\nCREATE DATABASE airflow;\nCREATE DATABASE celery_result_airflow;\n\nGRANT all privileges on airflow.* TO &#39;airflow&#39;@&#39;%&#39; IDENTIFIED BY &#39;airflow&#39;;\nGRANT all privileges on celery_result_airflow.* TO &#39;airflow&#39;@&#39;%&#39; IDENTIFIED BY &#39;airflow&#39;;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>3airflow.cfg<br> sql_alchemy_conn<pre class=\"line-numbers language-none\"><code class=\"language-none\">sql_alchemy_conn &#x3D; mysql:&#x2F;&#x2F;airflow:airflow@localhost:3306&#x2F;airflow<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\nairflow initdb\n\nairflow resetdb<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<h2 id=\"airflow\"><a href=\"#airflow\" class=\"headerlink\" title=\"airflow\"></a>airflow</h2><ul>\n<li><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">airflow webserver -p 8080\nairflow scheduler\n\nroot\nairflow worker<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p> localhost:8080/admin</p>\n</li>\n<li><p>(o)o[BINGO!]</p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><pre class=\"line-numbers language-none\"><code class=\"language-none\"> airflow.cfg dags_folder \ndags_folder &#x3D; &#x2F;Users&#x2F;liyuxing&#x2F;airflow&#x2F;dags\ndags_folder &#x3D; &#x2F;Users&#x2F;liyuxing&#x2F;work&#x2F;mive&#x2F;dags<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></li>\n<li>dagsairflowdagsairflow</li>\n<li> No module named pyutil.program.conf</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">*Python\ncd airflowenv&#x2F;lib&#x2F;python*.*&#x2F;site-packages\nvim data.pth\n\npyutil\n&#x2F;Users&#x2F;liyuxing&#x2F;work&#x2F;util<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li> airflow webserverRedis</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\npip install <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li>schedule_interval <br><a href=\"http://airflow.incubator.apache.org/scheduler.html?highlight=schedule_interval#dag-runs\"></a></li>\n</ul>\n","site":{"data":{"friends":[{"avatar":"http://image.luokangyuan.com/1_qq_27922023.jpg","name":"","introduction":"","url":"http://luokangyuan.com/","title":""},{"avatar":"http://image.luokangyuan.com/4027734.jpeg","name":"","introduction":"","url":"https://blinkfox.github.io/","title":""},{"avatar":"http://image.luokangyuan.com/avatar.jpg","name":"ja_rome","introduction":"","url":"https://me.csdn.net/jlh912008548","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><p>1</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">virtualenv airflowenv\nsource airflowenv&#x2F;bin&#x2F;activate<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre></li>\n<li><p>2airflow<br></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">pip install airflow&#x3D;&#x3D;1.8.0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n<li><p>3</p>\n</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">airflow version<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<blockquote>\n<p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">____________       _____________\n____    |__( )_________  __&#x2F;__  &#x2F;________      __\n____  &#x2F;| |_  &#x2F;__  ___&#x2F;_  &#x2F;_ __  &#x2F;_  __ \\_ | &#x2F;| &#x2F; &#x2F;\n___  ___ |  &#x2F; _  &#x2F;   _  __&#x2F; _  &#x2F; &#x2F; &#x2F;_&#x2F; &#x2F;_ |&#x2F; |&#x2F; &#x2F;\n_&#x2F;_&#x2F;  |_&#x2F;_&#x2F;  &#x2F;_&#x2F;    &#x2F;_&#x2F;    &#x2F;_&#x2F;  \\____&#x2F;____&#x2F;|__&#x2F;\n  v1.8.0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</blockquote>\n<ul>\n<li>4cd airflow</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">ls -al<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<blockquote>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\n-rw-r--r--   1 ***  staff  11602  8 28 18:06 airflow.cfg\n-rw-r--r--   1 ***  staff   1549  8 27 12:31 unittests.cfg<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>airflow.cfg<strong></strong></p>\n</blockquote>\n<ul>\n<li>5airflow</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">airflow initdb\nSQLLiteairflowairflow.dbairflow.cfgmysql<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<ul>\n<li>6</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">airflow webserver -p 8080\nlocalhost:8080&#x2F;admin\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p><img src=\"https://img-blog.csdn.net/20180828194455231?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpeXV4aW5nNjYzOTgwMQ==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70\" alt=\"airflow\"></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><h2 id=\"Mysql\"><a href=\"#Mysql\" class=\"headerlink\" title=\"Mysql\"></a>Mysql</h2><ul>\n<li>1MySQL</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">pip install mysql-python<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<ul>\n<li>2MySQL</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\nCREATE USER airflow;\n\nCREATE DATABASE airflow;\nCREATE DATABASE celery_result_airflow;\n\nGRANT all privileges on airflow.* TO &#39;airflow&#39;@&#39;%&#39; IDENTIFIED BY &#39;airflow&#39;;\nGRANT all privileges on celery_result_airflow.* TO &#39;airflow&#39;@&#39;%&#39; IDENTIFIED BY &#39;airflow&#39;;\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ul>\n<li>3airflow.cfg<br> sql_alchemy_conn<pre class=\"line-numbers language-none\"><code class=\"language-none\">sql_alchemy_conn &#x3D; mysql:&#x2F;&#x2F;airflow:airflow@localhost:3306&#x2F;airflow<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\nairflow initdb\n\nairflow resetdb<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<h2 id=\"airflow\"><a href=\"#airflow\" class=\"headerlink\" title=\"airflow\"></a>airflow</h2><ul>\n<li><p></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">airflow webserver -p 8080\nairflow scheduler\n\nroot\nairflow worker<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n<li><p> localhost:8080/admin</p>\n</li>\n<li><p>(o)o[BINGO!]</p>\n</li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><pre class=\"line-numbers language-none\"><code class=\"language-none\"> airflow.cfg dags_folder \ndags_folder &#x3D; &#x2F;Users&#x2F;liyuxing&#x2F;airflow&#x2F;dags\ndags_folder &#x3D; &#x2F;Users&#x2F;liyuxing&#x2F;work&#x2F;mive&#x2F;dags<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></li>\n<li>dagsairflowdagsairflow</li>\n<li> No module named pyutil.program.conf</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">*Python\ncd airflowenv&#x2F;lib&#x2F;python*.*&#x2F;site-packages\nvim data.pth\n\npyutil\n&#x2F;Users&#x2F;liyuxing&#x2F;work&#x2F;util<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<ul>\n<li> airflow webserverRedis</li>\n</ul>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">\npip install <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<ul>\n<li>schedule_interval <br><a href=\"http://airflow.incubator.apache.org/scheduler.html?highlight=schedule_interval#dag-runs\"></a></li>\n</ul>\n"}],"PostAsset":[],"PostCategory":[{"post_id":"cklz07gsv000p6rs66pxpc2wo","category_id":"cklyyoqgf000320s6dzy09bsn","_id":"cklz07gsy000s6rs6afbfc4k6"},{"post_id":"cklz07vg4000t6rs6btkp978s","category_id":"cklyyoqgf000320s6dzy09bsn","_id":"cklz07vg5000w6rs6b6fj0l4u"},{"post_id":"cklz0gflb001k6rs6heyldfdz","category_id":"cklz0h8qn001l6rs65vzc8b68","_id":"cklz0h8qp001o6rs67hp9hb33"},{"post_id":"cklz0i42u001p6rs6fliparsn","category_id":"cklz0h8qn001l6rs65vzc8b68","_id":"cklz0iq9s001r6rs61kymbt9x"},{"post_id":"cklz0ji13001s6rs6bddo8pxq","category_id":"cklz0h8qn001l6rs65vzc8b68","_id":"cklz0k1v3001u6rs6129o04hl"},{"post_id":"cklz0kg32001v6rs6amk3h9q5","category_id":"cklz0h8qn001l6rs65vzc8b68","_id":"cklz0kx6c001x6rs6cvgvb27r"},{"post_id":"cklz0lcie001y6rs65v9j0pwp","category_id":"cklz0h8qn001l6rs65vzc8b68","_id":"cklz0lubv00206rs66glehtqx"},{"post_id":"cklz0mac900216rs63jy0gsve","category_id":"cklz0h8qn001l6rs65vzc8b68","_id":"cklz0mno300236rs683dv8wwr"},{"post_id":"cklz0n58300246rs68dxq8t89","category_id":"cklz0h8qn001l6rs65vzc8b68","_id":"cklz0nh3s00266rs64bdh8834"},{"post_id":"cklz0wo21002n6rs6cmey25uc","category_id":"cklz0h8qn001l6rs65vzc8b68","_id":"cklz0x8vg002p6rs6fgix7648"},{"post_id":"cklz0yhu8002q6rs66xgr5e9z","category_id":"cklz0h8qn001l6rs65vzc8b68","_id":"cklz0z3ha002s6rs619ftanu8"},{"post_id":"cklz11jix002t6rs6dnbt62yf","category_id":"cklz02lpr000g6rs631v5a8j4","_id":"cklz11jiz002w6rs61igp2cjr"},{"post_id":"cklz11taa002x6rs607u566h8","category_id":"cklz02lpr000g6rs631v5a8j4","_id":"cklz11tab00306rs6f1v5hfsi"},{"post_id":"cklz12ptu00316rs64eoqh6bs","category_id":"cklz02lpr000g6rs631v5a8j4","_id":"cklz12pu000346rs69by824m0"},{"post_id":"cklz12u5t00356rs64tji9bam","category_id":"cklz02lpr000g6rs631v5a8j4","_id":"cklz12u5v00386rs64jk558d0"},{"post_id":"cklz14yek003e6rs66v4m77os","category_id":"cklz0h8qn001l6rs65vzc8b68","_id":"cklz15kuv003g6rs6cyn4bbil"},{"post_id":"cklz174mv003j6rs6hixlaizp","category_id":"cklz18iaz003k6rs6ein759kb","_id":"cklz18ib0003n6rs64bp2atdj"},{"post_id":"cklz1a3jp003o6rs672sh2a0g","category_id":"cklyyoqgf000320s6dzy09bsn","_id":"cklz1bkru003q6rs6ebgaglw0"},{"post_id":"cklz1eesp003t6rs640uq2rsf","category_id":"cklz0h8qn001l6rs65vzc8b68","_id":"cklz1etfj003v6rs6c4ofekft"},{"post_id":"cklz21ht30000jvs6bcy38rs6","category_id":"cklyz0o2n000b6rs663bae4b8","_id":"cklz2f4bn0002jvs6h9k85myv"},{"post_id":"cklz2rhyb000kjvs68pedcugg","category_id":"cklz18iaz003k6rs6ein759kb","_id":"cklz2s4gm000mjvs673kr0meu"},{"post_id":"cklz2thll000njvs6dr836eg1","category_id":"cklz18iaz003k6rs6ein759kb","_id":"cklz2u71x000pjvs6hr7q6ie5"},{"post_id":"cklz2vixt000qjvs67kgg4mub","category_id":"cklyyoqgf000320s6dzy09bsn","_id":"cklz2wjde000tjvs62m6h1xvw"},{"post_id":"cklz2x9sp000ujvs61fkb2s5g","category_id":"cklyyoqgf000320s6dzy09bsn","_id":"cklz2ytlo000zjvs6hivubrmb"},{"post_id":"cklz305ls0010jvs62ss7c4k1","category_id":"cklyyoqgf000320s6dzy09bsn","_id":"cklz30tye0013jvs69v02d61i"},{"post_id":"cklz31iqm0014jvs6c29jbj5i","category_id":"cklyyoqgf000320s6dzy09bsn","_id":"cklz32emq0017jvs696mad68g"},{"post_id":"cklz3456c0018jvs67aekekf1","category_id":"cklyyoqgf000320s6dzy09bsn","_id":"cklz34omg001ajvs6avrh074m"},{"post_id":"cklz35umy001bjvs6g9ko1a3c","category_id":"cklyyoqgf000320s6dzy09bsn","_id":"cklz36jss001djvs6c5ij9pe8"},{"post_id":"cklz2hnq00003jvs67nw0dbqb","category_id":"cklyyoqgf000320s6dzy09bsn","_id":"cklz39dnz001ijvs602mo0gxb"},{"post_id":"cklz3bwp8001kjvs60yza820o","category_id":"cklyz0o2n000b6rs663bae4b8","_id":"cklz3bwp9001njvs6fpxf0bz0"},{"post_id":"cklz3crf7001ojvs6bybhfymh","category_id":"cklyyoqgf000320s6dzy09bsn","_id":"cklz3crf8001rjvs6b8162yp0"},{"post_id":"cklz3gh1c001yjvs64ogzacz1","category_id":"cklz0h8qn001l6rs65vzc8b68","_id":"cklz3gx2x0020jvs64zlrdza5"},{"post_id":"cklz3mmuc0029jvs6cj6o8eut","category_id":"cklyyoqgf000320s6dzy09bsn","_id":"cklz3n8in002bjvs647pp6zc3"},{"post_id":"cklz3nwjw002cjvs63w9qc213","category_id":"cklz0h8qn001l6rs65vzc8b68","_id":"cklz3o9gs002ejvs69zx99snh"},{"post_id":"cklz3p9br002fjvs6705v0s29","category_id":"cklyz0o2n000b6rs663bae4b8","_id":"cklz3q7wj002hjvs69qy74dsc"},{"post_id":"cklz3udva002ijvs64bfdaogs","category_id":"cklyyoqgf000320s6dzy09bsn","_id":"cklz3uyi6002kjvs6765lao40"}],"PostTag":[{"post_id":"cklz07gsv000p6rs66pxpc2wo","tag_id":"cklyxsf1p0004q1s6djvn20mu","_id":"cklz07gsy000q6rs6an9ygdkn"},{"post_id":"cklz07gsv000p6rs66pxpc2wo","tag_id":"cklyyvuhv00016rs6ai903y5z","_id":"cklz07gsy000r6rs67178bi13"},{"post_id":"cklz07vg4000t6rs6btkp978s","tag_id":"cklyxsf1p0004q1s6djvn20mu","_id":"cklz07vg5000u6rs60aaodkeb"},{"post_id":"cklz07vg4000t6rs6btkp978s","tag_id":"cklyyoqgg000420s69lv0cvl1","_id":"cklz07vg5000v6rs691x4czpi"},{"post_id":"cklz0gflb001k6rs6heyldfdz","tag_id":"cklz0h8qo001m6rs61bpvaslr","_id":"cklz0h8qp001n6rs655nz2ceq"},{"post_id":"cklz0i42u001p6rs6fliparsn","tag_id":"cklz0h8qo001m6rs61bpvaslr","_id":"cklz0iq9s001q6rs60rfj7bwo"},{"post_id":"cklz0ji13001s6rs6bddo8pxq","tag_id":"cklz0h8qo001m6rs61bpvaslr","_id":"cklz0k1v3001t6rs6evda1zou"},{"post_id":"cklz0kg32001v6rs6amk3h9q5","tag_id":"cklz0h8qo001m6rs61bpvaslr","_id":"cklz0kx6c001w6rs6g5b28kxg"},{"post_id":"cklz0lcie001y6rs65v9j0pwp","tag_id":"cklz0h8qo001m6rs61bpvaslr","_id":"cklz0lubv001z6rs60xisamk8"},{"post_id":"cklz0mac900216rs63jy0gsve","tag_id":"cklz0h8qo001m6rs61bpvaslr","_id":"cklz0mno300226rs6cy24asit"},{"post_id":"cklz0n58300246rs68dxq8t89","tag_id":"cklz0h8qo001m6rs61bpvaslr","_id":"cklz0nh3s00256rs6dwz766xl"},{"post_id":"cklz0wo21002n6rs6cmey25uc","tag_id":"cklz0h8qo001m6rs61bpvaslr","_id":"cklz0x8vf002o6rs63e8w1o4s"},{"post_id":"cklz0yhu8002q6rs66xgr5e9z","tag_id":"cklz0h8qo001m6rs61bpvaslr","_id":"cklz0z3ha002r6rs61ljw5au8"},{"post_id":"cklz11jix002t6rs6dnbt62yf","tag_id":"cklyxsf1p0004q1s6djvn20mu","_id":"cklz11jiz002u6rs6dwt6c42w"},{"post_id":"cklz11taa002x6rs607u566h8","tag_id":"cklyxsf1p0004q1s6djvn20mu","_id":"cklz11tab002y6rs6fo2uha33"},{"post_id":"cklz12ptu00316rs64eoqh6bs","tag_id":"cklyxsf1p0004q1s6djvn20mu","_id":"cklz12ptz00326rs63ynm52u2"},{"post_id":"cklz12u5t00356rs64tji9bam","tag_id":"cklyxsf1p0004q1s6djvn20mu","_id":"cklz12u5u00366rs61jwkadbd"},{"post_id":"cklz12ptu00316rs64eoqh6bs","tag_id":"cklz12y0g00396rs6e6vi6jm0","_id":"cklz12y0l003a6rs6e46t5f63"},{"post_id":"cklz11taa002x6rs607u566h8","tag_id":"cklz12y0g00396rs6e6vi6jm0","_id":"cklz12z2z003b6rs6799rg1rc"},{"post_id":"cklz12u5t00356rs64tji9bam","tag_id":"cklz12y0g00396rs6e6vi6jm0","_id":"cklz13089003c6rs61bas8k4g"},{"post_id":"cklz11jix002t6rs6dnbt62yf","tag_id":"cklz12y0g00396rs6e6vi6jm0","_id":"cklz131dt003d6rs6dxccfmm0"},{"post_id":"cklz14yek003e6rs66v4m77os","tag_id":"cklz0h8qo001m6rs61bpvaslr","_id":"cklz15kuv003h6rs64nr390jx"},{"post_id":"cklz14yek003e6rs66v4m77os","tag_id":"cklz15kuv003f6rs61dlf4u87","_id":"cklz15kuw003i6rs64rungrgj"},{"post_id":"cklz174mv003j6rs6hixlaizp","tag_id":"cklz18iaz003l6rs64n3cfs10","_id":"cklz18ib0003m6rs6170n3vjg"},{"post_id":"cklz1a3jp003o6rs672sh2a0g","tag_id":"cklyxsf1p0004q1s6djvn20mu","_id":"cklz1bkru003r6rs65d6gadjp"},{"post_id":"cklz1a3jp003o6rs672sh2a0g","tag_id":"cklz1bkrt003p6rs6hpxr3utx","_id":"cklz1bkru003s6rs6gzck8pz4"},{"post_id":"cklz1eesp003t6rs640uq2rsf","tag_id":"cklz0h8qo001m6rs61bpvaslr","_id":"cklz1etfj003u6rs6en6x76wf"},{"post_id":"cklz21ht30000jvs6bcy38rs6","tag_id":"cklyz06dw00076rs60ctx3w2g","_id":"cklz2f4bn0001jvs6cg556v6p"},{"post_id":"cklz2hnq00003jvs67nw0dbqb","tag_id":"cklz2is1j0004jvs6hi55fkq1","_id":"cklz2is1k0006jvs6745n5lrt"},{"post_id":"cklz2hnq00003jvs67nw0dbqb","tag_id":"cklz18iaz003l6rs64n3cfs10","_id":"cklz2is1k0007jvs6ap36glwn"},{"post_id":"cklz2l4jg000ajvs6b4b2gotg","tag_id":"cklz2m8u0000bjvs6caeieg3p","_id":"cklz2m8u2000djvs68qbr5xik"},{"post_id":"cklz2l4jg000ajvs6b4b2gotg","tag_id":"cklz2m8u0000cjvs6ci8k9t9z","_id":"cklz2m8u2000ejvs6523c63o8"},{"post_id":"cklz2o0sn000fjvs66k20fa59","tag_id":"cklz2olac000gjvs6hia29sgy","_id":"cklz2olad000hjvs67rv65xab"},{"post_id":"cklz2q70r000ijvs65zfh6or3","tag_id":"cklz2is1j0004jvs6hi55fkq1","_id":"cklz2qo4f000jjvs642c5fpgo"},{"post_id":"cklz2rhyb000kjvs68pedcugg","tag_id":"cklz18iaz003l6rs64n3cfs10","_id":"cklz2s4gm000ljvs65kay0odj"},{"post_id":"cklz2thll000njvs6dr836eg1","tag_id":"cklz18iaz003l6rs64n3cfs10","_id":"cklz2u71x000ojvs6561k13b9"},{"post_id":"cklz2vixt000qjvs67kgg4mub","tag_id":"cklz2is1j0004jvs6hi55fkq1","_id":"cklz2wjde000rjvs6hjr9fqjo"},{"post_id":"cklz2vixt000qjvs67kgg4mub","tag_id":"cklz2yfhj000vjvs633sx7bzi","_id":"cklz2yfhk000wjvs63ygr5fsr"},{"post_id":"cklz2x9sp000ujvs61fkb2s5g","tag_id":"cklz2is1j0004jvs6hi55fkq1","_id":"cklz2ytlo000xjvs61fqz0tly"},{"post_id":"cklz2x9sp000ujvs61fkb2s5g","tag_id":"cklz2yfhj000vjvs633sx7bzi","_id":"cklz2ytlo000yjvs6dt1o56l6"},{"post_id":"cklz305ls0010jvs62ss7c4k1","tag_id":"cklz2is1j0004jvs6hi55fkq1","_id":"cklz30tye0011jvs64bqbav3d"},{"post_id":"cklz305ls0010jvs62ss7c4k1","tag_id":"cklz2yfhj000vjvs633sx7bzi","_id":"cklz30tye0012jvs66tnv413m"},{"post_id":"cklz31iqm0014jvs6c29jbj5i","tag_id":"cklz2is1j0004jvs6hi55fkq1","_id":"cklz32emq0015jvs633ku5m3i"},{"post_id":"cklz31iqm0014jvs6c29jbj5i","tag_id":"cklz2yfhj000vjvs633sx7bzi","_id":"cklz32emq0016jvs6f3hv1hd6"},{"post_id":"cklz3456c0018jvs67aekekf1","tag_id":"cklz18iaz003l6rs64n3cfs10","_id":"cklz34omf0019jvs6f1xq5xkj"},{"post_id":"cklz35umy001bjvs6g9ko1a3c","tag_id":"cklyxsf1p0004q1s6djvn20mu","_id":"cklz36jss001cjvs60de8dcub"},{"post_id":"cklz3bwp8001kjvs60yza820o","tag_id":"cklyxsf1p0004q1s6djvn20mu","_id":"cklz3bwp9001ljvs6ehgu1a3j"},{"post_id":"cklz3bwp8001kjvs60yza820o","tag_id":"cklyz06dw00076rs60ctx3w2g","_id":"cklz3bwp9001mjvs63hxser10"},{"post_id":"cklz3crf7001ojvs6bybhfymh","tag_id":"cklyxsf1p0004q1s6djvn20mu","_id":"cklz3crf8001pjvs626cm9vw2"},{"post_id":"cklz3crf7001ojvs6bybhfymh","tag_id":"cklz0fmix001e6rs65zwydjiu","_id":"cklz3crf8001qjvs689l6gc48"},{"post_id":"cklz3crf7001ojvs6bybhfymh","tag_id":"cklz0fmiy001g6rs69gyxdxjo","_id":"cklz3crf8001sjvs661qf3kt9"},{"post_id":"cklz3exu6001tjvs68tov2oxa","tag_id":"cklz3fvb0001ujvs62n1rg0ir","_id":"cklz3fvb1001wjvs61iq9h7f0"},{"post_id":"cklz3exu6001tjvs68tov2oxa","tag_id":"cklz3fvb1001vjvs6703xhgz0","_id":"cklz3fvb1001xjvs6dy4hdfr9"},{"post_id":"cklz3gh1c001yjvs64ogzacz1","tag_id":"cklz0h8qo001m6rs61bpvaslr","_id":"cklz3gx2w001zjvs6023b7ec3"},{"post_id":"cklz3hk3l0021jvs61nuw24vc","tag_id":"cklz3fvb0001ujvs62n1rg0ir","_id":"cklz3hzhd0022jvs660elcqg4"},{"post_id":"cklz3iq8m0023jvs67t6gcn5o","tag_id":"cklz3j6p10024jvs67ojmc8q4","_id":"cklz3j6p10025jvs68hxcfv3u"},{"post_id":"cklz3kekj0026jvs61i1v0zo1","tag_id":"cklz3l6h40027jvs6b5gd479q","_id":"cklz3l6h50028jvs6bv5egz2u"},{"post_id":"cklz3mmuc0029jvs6cj6o8eut","tag_id":"cklz2is1j0004jvs6hi55fkq1","_id":"cklz3n8im002ajvs6faxf5yri"},{"post_id":"cklz3nwjw002cjvs63w9qc213","tag_id":"cklz0h8qo001m6rs61bpvaslr","_id":"cklz3o9gs002djvs60d5xg4ga"},{"post_id":"cklz3p9br002fjvs6705v0s29","tag_id":"cklz2is1j0004jvs6hi55fkq1","_id":"cklz3q7wi002gjvs6awqxa37w"},{"post_id":"cklz3udva002ijvs64bfdaogs","tag_id":"cklz2is1j0004jvs6hi55fkq1","_id":"cklz3uyi6002jjvs64seqhdey"},{"post_id":"cklz3ypxz002ljvs6gfgn7bxj","tag_id":"cklz3z91j002mjvs6345g2rpw","_id":"cklz3z91j002njvs66zsc3u4k"},{"post_id":"cklz4006t002ojvs6aqn44npg","tag_id":"cklz3z91j002mjvs6345g2rpw","_id":"cklz40fnu002pjvs6ewj5cdlt"}],"Tag":[{"name":"Golang","_id":"cklyxsf1p0004q1s6djvn20mu"},{"name":"tags","_id":"cklyxsf1s0008q1s6cqcw34ov"},{"name":"atomic","_id":"cklyyoqgg000420s69lv0cvl1"},{"name":"AES","_id":"cklyyvuhv00016rs6ai903y5z"},{"name":"","_id":"cklyz06dw00076rs60ctx3w2g"},{"name":"LeetCode","_id":"cklz02lps000h6rs66p562glm"},{"name":"IP","_id":"cklz0fmix001e6rs65zwydjiu"},{"name":"Utils","_id":"cklz0fmiy001g6rs69gyxdxjo"},{"name":"Mysql","_id":"cklz0h8qo001m6rs61bpvaslr"},{"name":"","_id":"cklz12y0g00396rs6e6vi6jm0"},{"name":"","_id":"cklz15kuv003f6rs61dlf4u87"},{"name":"Redis","_id":"cklz18iaz003l6rs64n3cfs10"},{"name":"","_id":"cklz1bkrt003p6rs6hpxr3utx"},{"name":"Python","_id":"cklz2is1j0004jvs6hi55fkq1"},{"name":"Mac","_id":"cklz2m8u0000bjvs6caeieg3p"},{"name":"sshpass","_id":"cklz2m8u0000cjvs6ci8k9t9z"},{"name":"","_id":"cklz2olac000gjvs6hia29sgy"},{"name":"PIL","_id":"cklz2yfhj000vjvs633sx7bzi"},{"name":"Linux","_id":"cklz3fvb0001ujvs62n1rg0ir"},{"name":"Vim","_id":"cklz3fvb1001vjvs6703xhgz0"},{"name":"Git","_id":"cklz3j6p10024jvs67ojmc8q4"},{"name":"","_id":"cklz3l6h40027jvs6b5gd479q"},{"name":"Airflow","_id":"cklz3z91j002mjvs6345g2rpw"}]}}